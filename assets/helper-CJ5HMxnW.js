import{M as l,m as p,b as c,d as t}from"./mqtt-KeEEffnT.js";const b="8884/mqtt",y="wss",m="broker.hivemq.com",e=new l(p.connect(`${y}://${m}:${b}`),!1);d();function d(){let i=btoa(new Date().toString());e.subscribe(e.eventToClientTopic(c.ControllerMessage,t.All,i)),e.subscribe(e.eventToTopic(c.ControllerMessage,t.All)),e.publishClientSpecific(c.PlayerAction,t.Init,i,""),e.on("message",(n,o)=>{const s=o.toString(),[u,a,r]=e.parseTopic(n);if(i==r)switch(a){case t.ColorResponse:document.body.style.backgroundColor=s}}),document.body.addEventListener("keydown",n=>{switch(n.key){case"ArrowLeft":{e.publishClientSpecific(c.PlayerAction,t.XMovement,i,"-10");break}case"ArrowDown":{e.publishClientSpecific(c.PlayerAction,t.ZMovement,i,"10");break}case"ArrowRight":{e.publishClientSpecific(c.PlayerAction,t.XMovement,i,"10");break}case"ArrowUp":{e.publishClientSpecific(c.PlayerAction,t.ZMovement,i,"-10");break}case"a":{e.publishClientSpecific(c.PlayerAction,t.Scale,i,"0.1");break}case"d":{e.publishClientSpecific(c.PlayerAction,t.Scale,i,"-0.1");break}case"Enter":{e.publishClientSpecific(c.PlayerAction,t.Start,i,"0");break}case"q":{e.publishClientSpecific(c.PlayerAction,t.RotatePayload,i,"1");break}case"e":{e.publishClientSpecific(c.PlayerAction,t.RotatePayload,i,"-1");break}}}),document.body.addEventListener("keypress",n=>{switch(n.key){case" ":{e.publishClientSpecific(c.PlayerAction,t.Drop,i,"");break}}})}
