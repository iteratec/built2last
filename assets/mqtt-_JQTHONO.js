import{c as he}from"./ammo.js-BpglqV0R.js";function ve(be){throw new Error('Could not dynamically require "'+be+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var we={exports:{}};(function(be,me){(function(x){be.exports=x()})(function(){return function(){function x(K,N,m){function v(s,t){if(!N[s]){if(!K[s]){var r=typeof ve=="function"&&ve;if(!t&&r)return r(s,!0);if(p)return p(s,!0);var e=new Error("Cannot find module '"+s+"'");throw e.code="MODULE_NOT_FOUND",e}var n=N[s]={exports:{}};K[s][0].call(n.exports,function(f){var o=K[s][1][f];return v(o||f)},n,n.exports,x,K,N,m)}return N[s].exports}for(var p=typeof ve=="function"&&ve,h=0;h<m.length;h++)v(m[h]);return v}return x}()({1:[function(x,K,N){(function(m,v){(function(){const p=x("events").EventEmitter,h=x("./store"),s=x("./topic-alias-recv"),t=x("./topic-alias-send"),r=x("mqtt-packet"),e=x("./default-message-id-provider"),n=x("readable-stream").Writable,f=x("inherits"),o=x("reinterval"),y=x("rfdc/default"),d=x("./validations"),u=x("xtend"),i=x("debug")("mqttjs:client"),g=m?m.nextTick:function(T){setTimeout(T,0)},E=v.setImmediate||function(T){g(T)},k={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:30*1e3,clean:!0,resubscribe:!0},M=["ECONNREFUSED","EADDRINUSE","ECONNRESET","ENOTFOUND"],L={0:"",1:"Unacceptable protocol version",2:"Identifier rejected",3:"Server unavailable",4:"Bad username or password",5:"Not authorized",16:"No matching subscribers",17:"No subscription existed",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",132:"Unsupported Protocol Version",133:"Client Identifier not valid",134:"Bad User Name or Password",135:"Not authorized",136:"Server unavailable",137:"Server busy",138:"Banned",139:"Server shutting down",140:"Bad authentication method",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",145:"Packet identifier in use",146:"Packet Identifier not found",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};function R(){return"mqttjs_"+Math.random().toString(16).substr(2,8)}function H(T,I){if(T.options.protocolVersion===5&&I.cmd==="publish"){let j;I.properties&&(j=I.properties.topicAlias);const $=I.topic.toString();if(T.topicAliasSend)if(j){if($.length!==0&&(i("applyTopicAlias :: register topic: %s - alias: %d",$,j),!T.topicAliasSend.put($,j)))return i("applyTopicAlias :: error out of range. topic: %s - alias: %d",$,j),new Error("Sending Topic Alias out of range")}else $.length!==0&&(T.options.autoAssignTopicAlias?(j=T.topicAliasSend.getAliasByTopic($),j?(I.topic="",I.properties={...I.properties,topicAlias:j},i("applyTopicAlias :: auto assign(use) topic: %s - alias: %d",$,j)):(j=T.topicAliasSend.getLruAlias(),T.topicAliasSend.put($,j),I.properties={...I.properties,topicAlias:j},i("applyTopicAlias :: auto assign topic: %s - alias: %d",$,j))):T.options.autoUseTopicAlias&&(j=T.topicAliasSend.getAliasByTopic($),j&&(I.topic="",I.properties={...I.properties,topicAlias:j},i("applyTopicAlias :: auto use topic: %s - alias: %d",$,j))));else if(j)return i("applyTopicAlias :: error out of range. topic: %s - alias: %d",$,j),new Error("Sending Topic Alias out of range")}}function l(T,I){let j;I.properties&&(j=I.properties.topicAlias);let $=I.topic.toString();if($.length===0){if(typeof j>"u")return new Error("Unregistered Topic Alias");if($=T.topicAliasSend.getTopicByAlias(j),typeof $>"u")return new Error("Unregistered Topic Alias");I.topic=$}j&&delete I.properties.topicAlias}function _(T,I,j){i("sendPacket :: packet: %O",I),i("sendPacket :: emitting `packetsend`"),T.emit("packetsend",I),i("sendPacket :: writing to stream");const $=r.writeToStream(I,T.stream,T.options);i("sendPacket :: writeToStream result %s",$),!$&&j&&j!==q?(i("sendPacket :: handle events on `drain` once through callback."),T.stream.once("drain",j)):j&&(i("sendPacket :: invoking cb"),j())}function b(T){T&&(i("flush: queue exists? %b",!!T),Object.keys(T).forEach(function(I){typeof T[I].cb=="function"&&(T[I].cb(new Error("Connection closed")),delete T[I])}))}function B(T){T&&(i("flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function"),Object.keys(T).forEach(function(I){T[I].volatile&&typeof T[I].cb=="function"&&(T[I].cb(new Error("Connection closed")),delete T[I])}))}function z(T,I,j,$){i("storeAndSend :: store packet with cmd %s to outgoingStore",I.cmd);let oe=I,ne;if(oe.cmd==="publish"&&(oe=y(I),ne=l(T,oe),ne))return j&&j(ne);T.outgoingStore.put(oe,function(Q){if(Q)return j&&j(Q);$(),_(T,I,j)})}function q(T){i("nop ::",T)}function Y(T,I){let j;const $=this;if(!(this instanceof Y))return new Y(T,I);this.options=I||{};for(j in k)typeof this.options[j]>"u"?this.options[j]=k[j]:this.options[j]=I[j];i("MqttClient :: options.protocol",I.protocol),i("MqttClient :: options.protocolVersion",I.protocolVersion),i("MqttClient :: options.username",I.username),i("MqttClient :: options.keepalive",I.keepalive),i("MqttClient :: options.reconnectPeriod",I.reconnectPeriod),i("MqttClient :: options.rejectUnauthorized",I.rejectUnauthorized),i("MqttClient :: options.topicAliasMaximum",I.topicAliasMaximum),this.options.clientId=typeof I.clientId=="string"?I.clientId:R(),i("MqttClient :: clientId",this.options.clientId),this.options.customHandleAcks=I.protocolVersion===5&&I.customHandleAcks?I.customHandleAcks:function(){arguments[3](0)},this.streamBuilder=T,this.messageIdProvider=typeof this.options.messageIdProvider>"u"?new e:this.options.messageIdProvider,this.outgoingStore=I.outgoingStore||new h,this.incomingStore=I.incomingStore||new h,this.queueQoSZero=I.queueQoSZero===void 0?!0:I.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.pingTimer=null,this.connected=!1,this.disconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this._storeProcessingQueue=[],this.outgoing={},this._firstConnection=!0,I.topicAliasMaximum>0&&(I.topicAliasMaximum>65535?i("MqttClient :: options.topicAliasMaximum is out of range"):this.topicAliasRecv=new s(I.topicAliasMaximum)),this.on("connect",function(){const oe=this.queue;function ne(){const W=oe.shift();i("deliver :: entry %o",W);let Q=null;if(!W){$._resubscribe();return}Q=W.packet,i("deliver :: call _sendPacket for %o",Q);let re=!0;Q.messageId&&Q.messageId!==0&&($.messageIdProvider.register(Q.messageId)||(re=!1)),re?$._sendPacket(Q,function(ee){W.cb&&W.cb(ee),ne()}):(i("messageId: %d has already used. The message is skipped and removed.",Q.messageId),ne())}i("connect :: sending queued packets"),ne()}),this.on("close",function(){i("close :: connected set to `false`"),this.connected=!1,i("close :: clearing connackTimer"),clearTimeout(this.connackTimer),i("close :: clearing ping timer"),$.pingTimer!==null&&($.pingTimer.clear(),$.pingTimer=null),this.topicAliasRecv&&this.topicAliasRecv.clear(),i("close :: calling _setupReconnect"),this._setupReconnect()}),p.call(this),i("MqttClient :: setting up stream"),this._setupStream()}f(Y,p),Y.prototype._setupStream=function(){const T=this,I=new n,j=r.parser(this.options);let $=null;const oe=[];i("_setupStream :: calling method to clear reconnect"),this._clearReconnect(),i("_setupStream :: using streamBuilder provided to client to create stream"),this.stream=this.streamBuilder(this),j.on("packet",function(ee){i("parser :: on packet push to packets array."),oe.push(ee)});function ne(){if(oe.length)g(W);else{const ee=$;$=null,ee()}}function W(){i("work :: getting next packet in queue");const ee=oe.shift();if(ee)i("work :: packet pulled from queue"),T._handlePacket(ee,ne);else{i("work :: no packets in queue");const se=$;$=null,i("work :: done flag is %s",!!se),se&&se()}}I._write=function(ee,se,ie){$=ie,i("writable stream :: parsing buffer"),j.parse(ee),W()};function Q(ee){i("streamErrorHandler :: error",ee.message),M.includes(ee.code)?(i("streamErrorHandler :: emitting error"),T.emit("error",ee)):q(ee)}i("_setupStream :: pipe stream to writable stream"),this.stream.pipe(I),this.stream.on("error",Q),this.stream.on("close",function(){i("(%s)stream :: on close",T.options.clientId),B(T.outgoing),i("stream: emit close to MqttClient"),T.emit("close")}),i("_setupStream: sending packet `connect`");const re=Object.create(this.options);if(re.cmd="connect",this.topicAliasRecv&&(re.properties||(re.properties={}),this.topicAliasRecv&&(re.properties.topicAliasMaximum=this.topicAliasRecv.max)),_(this,re),j.on("error",this.emit.bind(this,"error")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return T.end(()=>this.emit("error",new Error("Packet has no Authentication Method"))),this;if(this.options.properties.authenticationMethod&&this.options.authPacket&&typeof this.options.authPacket=="object"){const ee=u({cmd:"auth",reasonCode:0},this.options.authPacket);_(this,ee)}}this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout(function(){i("!!connectTimeout hit!! Calling _cleanUp with force `true`"),T._cleanUp(!0)},this.options.connectTimeout)},Y.prototype._handlePacket=function(T,I){const j=this.options;if(j.protocolVersion===5&&j.properties&&j.properties.maximumPacketSize&&j.properties.maximumPacketSize<T.length)return this.emit("error",new Error("exceeding packets size "+T.cmd)),this.end({reasonCode:149,properties:{reasonString:"Maximum packet size was exceeded"}}),this;switch(i("_handlePacket :: emitting packetreceive"),this.emit("packetreceive",T),T.cmd){case"publish":this._handlePublish(T,I);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":this._handleAck(T),I();break;case"pubrel":this._handlePubrel(T,I);break;case"connack":this._handleConnack(T),I();break;case"auth":this._handleAuth(T),I();break;case"pingresp":this._handlePingresp(T),I();break;case"disconnect":this._handleDisconnect(T),I();break}},Y.prototype._checkDisconnecting=function(T){return this.disconnecting&&(T&&T!==q?T(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting},Y.prototype.publish=function(T,I,j,$){i("publish :: message `%s` to topic `%s`",I,T);const oe=this.options;if(typeof j=="function"&&($=j,j=null),j=u({qos:0,retain:!1,dup:!1},j),this._checkDisconnecting($))return this;const W=this,Q=function(){let re=0;if((j.qos===1||j.qos===2)&&(re=W._nextId(),re===null))return i("No messageId left"),!1;const ee={cmd:"publish",topic:T,payload:I,qos:j.qos,retain:j.retain,messageId:re,dup:j.dup};switch(oe.protocolVersion===5&&(ee.properties=j.properties),i("publish :: qos",j.qos),j.qos){case 1:case 2:W.outgoing[ee.messageId]={volatile:!1,cb:$||q},i("MqttClient:publish: packet cmd: %s",ee.cmd),W._sendPacket(ee,void 0,j.cbStorePut);break;default:i("MqttClient:publish: packet cmd: %s",ee.cmd),W._sendPacket(ee,$,j.cbStorePut);break}return!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!Q())&&this._storeProcessingQueue.push({invoke:Q,cbStorePut:j.cbStorePut,callback:$}),this},Y.prototype.subscribe=function(){const T=this,I=new Array(arguments.length);for(let ie=0;ie<arguments.length;ie++)I[ie]=arguments[ie];const j=[];let $=I.shift();const oe=$.resubscribe;let ne=I.pop()||q,W=I.pop();const Q=this.options.protocolVersion;delete $.resubscribe,typeof $=="string"&&($=[$]),typeof ne!="function"&&(W=ne,ne=q);const re=d.validateTopics($);if(re!==null)return E(ne,new Error("Invalid topic "+re)),this;if(this._checkDisconnecting(ne))return i("subscribe: discconecting true"),this;const ee={qos:0};if(Q===5&&(ee.nl=!1,ee.rap=!1,ee.rh=0),W=u(ee,W),Array.isArray($)?$.forEach(function(ie){if(i("subscribe: array topic %s",ie),!Object.prototype.hasOwnProperty.call(T._resubscribeTopics,ie)||T._resubscribeTopics[ie].qos<W.qos||oe){const V={topic:ie,qos:W.qos};Q===5&&(V.nl=W.nl,V.rap=W.rap,V.rh=W.rh,V.properties=W.properties),i("subscribe: pushing topic `%s` and qos `%s` to subs list",V.topic,V.qos),j.push(V)}}):Object.keys($).forEach(function(ie){if(i("subscribe: object topic %s",ie),!Object.prototype.hasOwnProperty.call(T._resubscribeTopics,ie)||T._resubscribeTopics[ie].qos<$[ie].qos||oe){const V={topic:ie,qos:$[ie].qos};Q===5&&(V.nl=$[ie].nl,V.rap=$[ie].rap,V.rh=$[ie].rh,V.properties=W.properties),i("subscribe: pushing `%s` to subs list",V),j.push(V)}}),!j.length)return ne(null,[]),this;const se=function(){const ie=T._nextId();if(ie===null)return i("No messageId left"),!1;const V={cmd:"subscribe",subscriptions:j,qos:1,retain:!1,dup:!1,messageId:ie};if(W.properties&&(V.properties=W.properties),T.options.resubscribe){i("subscribe :: resubscribe true");const U=[];j.forEach(function(Z){if(T.options.reconnectPeriod>0){const O={qos:Z.qos};Q===5&&(O.nl=Z.nl||!1,O.rap=Z.rap||!1,O.rh=Z.rh||0,O.properties=Z.properties),T._resubscribeTopics[Z.topic]=O,U.push(Z.topic)}}),T.messageIdToTopic[V.messageId]=U}return T.outgoing[V.messageId]={volatile:!0,cb:function(U,Z){if(!U){const O=Z.granted;for(let P=0;P<O.length;P+=1)j[P].qos=O[P]}ne(U,j)}},i("subscribe :: call _sendPacket"),T._sendPacket(V),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!se())&&this._storeProcessingQueue.push({invoke:se,callback:ne}),this},Y.prototype.unsubscribe=function(){const T=this,I=new Array(arguments.length);for(let Q=0;Q<arguments.length;Q++)I[Q]=arguments[Q];let j=I.shift(),$=I.pop()||q,oe=I.pop();typeof j=="string"&&(j=[j]),typeof $!="function"&&(oe=$,$=q);const ne=d.validateTopics(j);if(ne!==null)return E($,new Error("Invalid topic "+ne)),this;if(T._checkDisconnecting($))return this;const W=function(){const Q=T._nextId();if(Q===null)return i("No messageId left"),!1;const re={cmd:"unsubscribe",qos:1,messageId:Q};return typeof j=="string"?re.unsubscriptions=[j]:Array.isArray(j)&&(re.unsubscriptions=j),T.options.resubscribe&&re.unsubscriptions.forEach(function(ee){delete T._resubscribeTopics[ee]}),typeof oe=="object"&&oe.properties&&(re.properties=oe.properties),T.outgoing[re.messageId]={volatile:!0,cb:$},i("unsubscribe: call _sendPacket"),T._sendPacket(re),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!W())&&this._storeProcessingQueue.push({invoke:W,callback:$}),this},Y.prototype.end=function(T,I,j){const $=this;i("end :: (%s)",this.options.clientId),(T==null||typeof T!="boolean")&&(j=I||q,I=T,T=!1,typeof I!="object"&&(j=I,I=null,typeof j!="function"&&(j=q))),typeof I!="object"&&(j=I,I=null),i("end :: cb? %s",!!j),j=j||q;function oe(){i("end :: closeStores: closing incoming and outgoing stores"),$.disconnected=!0,$.incomingStore.close(function(W){$.outgoingStore.close(function(Q){if(i("end :: closeStores: emitting end"),$.emit("end"),j){const re=W||Q;i("end :: closeStores: invoking callback with args"),j(re)}})}),$._deferredReconnect&&$._deferredReconnect()}function ne(){i("end :: (%s) :: finish :: calling _cleanUp with force %s",$.options.clientId,T),$._cleanUp(T,()=>{i("end :: finish :: calling process.nextTick on closeStores"),g(oe.bind($))},I)}return this.disconnecting?(j(),this):(this._clearReconnect(),this.disconnecting=!0,!T&&Object.keys(this.outgoing).length>0?(i("end :: (%s) :: calling finish in 10ms once outgoing is empty",$.options.clientId),this.once("outgoingEmpty",setTimeout.bind(null,ne,10))):(i("end :: (%s) :: immediately calling finish",$.options.clientId),ne()),this)},Y.prototype.removeOutgoingMessage=function(T){const I=this.outgoing[T]?this.outgoing[T].cb:null;return delete this.outgoing[T],this.outgoingStore.del({messageId:T},function(){I(new Error("Message removed"))}),this},Y.prototype.reconnect=function(T){i("client reconnect");const I=this,j=function(){T?(I.options.incomingStore=T.incomingStore,I.options.outgoingStore=T.outgoingStore):(I.options.incomingStore=null,I.options.outgoingStore=null),I.incomingStore=I.options.incomingStore||new h,I.outgoingStore=I.options.outgoingStore||new h,I.disconnecting=!1,I.disconnected=!1,I._deferredReconnect=null,I._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=j:j(),this},Y.prototype._reconnect=function(){i("_reconnect: emitting reconnect to client"),this.emit("reconnect"),this.connected?(this.end(()=>{this._setupStream()}),i("client already connected. disconnecting first.")):(i("_reconnect: calling _setupStream"),this._setupStream())},Y.prototype._setupReconnect=function(){const T=this;!T.disconnecting&&!T.reconnectTimer&&T.options.reconnectPeriod>0?(this.reconnecting||(i("_setupReconnect :: emit `offline` state"),this.emit("offline"),i("_setupReconnect :: set `reconnecting` to `true`"),this.reconnecting=!0),i("_setupReconnect :: setting reconnectTimer for %d ms",T.options.reconnectPeriod),T.reconnectTimer=setInterval(function(){i("reconnectTimer :: reconnect triggered!"),T._reconnect()},T.options.reconnectPeriod)):i("_setupReconnect :: doing nothing...")},Y.prototype._clearReconnect=function(){i("_clearReconnect : clearing reconnect timer"),this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)},Y.prototype._cleanUp=function(T,I){const j=arguments[2];if(I&&(i("_cleanUp :: done callback provided for on stream close"),this.stream.on("close",I)),i("_cleanUp :: forced? %s",T),T)this.options.reconnectPeriod===0&&this.options.clean&&b(this.outgoing),i("_cleanUp :: (%s) :: destroying stream",this.options.clientId),this.stream.destroy();else{const $=u({cmd:"disconnect"},j);i("_cleanUp :: (%s) :: call _sendPacket with disconnect packet",this.options.clientId),this._sendPacket($,E.bind(null,this.stream.end.bind(this.stream)))}this.disconnecting||(i("_cleanUp :: client not disconnecting. Clearing and resetting reconnect."),this._clearReconnect(),this._setupReconnect()),this.pingTimer!==null&&(i("_cleanUp :: clearing pingTimer"),this.pingTimer.clear(),this.pingTimer=null),I&&!this.connected&&(i("_cleanUp :: (%s) :: removing stream `done` callback `close` listener",this.options.clientId),this.stream.removeListener("close",I),I())},Y.prototype._sendPacket=function(T,I,j){i("_sendPacket :: (%s) ::  start",this.options.clientId),j=j||q,I=I||q;const $=H(this,T);if($){I($);return}if(!this.connected){if(T.cmd==="auth"){this._shiftPingInterval(),_(this,T,I);return}i("_sendPacket :: client not connected. Storing packet offline."),this._storePacket(T,I,j);return}switch(this._shiftPingInterval(),T.cmd){case"publish":break;case"pubrel":z(this,T,I,j);return;default:_(this,T,I);return}switch(T.qos){case 2:case 1:z(this,T,I,j);break;case 0:default:_(this,T,I);break}i("_sendPacket :: (%s) ::  end",this.options.clientId)},Y.prototype._storePacket=function(T,I,j){i("_storePacket :: packet: %o",T),i("_storePacket :: cb? %s",!!I),j=j||q;let $=T;if($.cmd==="publish"){$=y(T);const oe=l(this,$);if(oe)return I&&I(oe)}($.qos||0)===0&&this.queueQoSZero||$.cmd!=="publish"?this.queue.push({packet:$,cb:I}):$.qos>0?(I=this.outgoing[$.messageId]?this.outgoing[$.messageId].cb:null,this.outgoingStore.put($,function(oe){if(oe)return I&&I(oe);j()})):I&&I(new Error("No connection to broker"))},Y.prototype._setupPingTimer=function(){i("_setupPingTimer :: keepalive %d (seconds)",this.options.keepalive);const T=this;!this.pingTimer&&this.options.keepalive&&(this.pingResp=!0,this.pingTimer=o(function(){T._checkPing()},this.options.keepalive*1e3))},Y.prototype._shiftPingInterval=function(){this.pingTimer&&this.options.keepalive&&this.options.reschedulePings&&this.pingTimer.reschedule(this.options.keepalive*1e3)},Y.prototype._checkPing=function(){i("_checkPing :: checking ping..."),this.pingResp?(i("_checkPing :: ping response received. Clearing flag and sending `pingreq`"),this.pingResp=!1,this._sendPacket({cmd:"pingreq"})):(i("_checkPing :: calling _cleanUp with force true"),this._cleanUp(!0))},Y.prototype._handlePingresp=function(){this.pingResp=!0},Y.prototype._handleConnack=function(T){i("_handleConnack");const I=this.options,$=I.protocolVersion===5?T.reasonCode:T.returnCode;if(clearTimeout(this.connackTimer),delete this.topicAliasSend,T.properties){if(T.properties.topicAliasMaximum){if(T.properties.topicAliasMaximum>65535){this.emit("error",new Error("topicAliasMaximum from broker is out of range"));return}T.properties.topicAliasMaximum>0&&(this.topicAliasSend=new t(T.properties.topicAliasMaximum))}T.properties.serverKeepAlive&&I.keepalive&&(I.keepalive=T.properties.serverKeepAlive,this._shiftPingInterval()),T.properties.maximumPacketSize&&(I.properties||(I.properties={}),I.properties.maximumPacketSize=T.properties.maximumPacketSize)}if($===0)this.reconnecting=!1,this._onConnect(T);else if($>0){const oe=new Error("Connection refused: "+L[$]);oe.code=$,this.emit("error",oe)}},Y.prototype._handleAuth=function(T){const j=this.options.protocolVersion,$=j===5?T.reasonCode:T.returnCode;if(j!==5){const ne=new Error("Protocol error: Auth packets are only supported in MQTT 5. Your version:"+j);ne.code=$,this.emit("error",ne);return}const oe=this;this.handleAuth(T,function(ne,W){if(ne){oe.emit("error",ne);return}if($===24)oe.reconnecting=!1,oe._sendPacket(W);else{const Q=new Error("Connection refused: "+L[$]);ne.code=$,oe.emit("error",Q)}})},Y.prototype.handleAuth=function(T,I){I()},Y.prototype._handlePublish=function(T,I){i("_handlePublish: packet %o",T),I=typeof I<"u"?I:q;let j=T.topic.toString();const $=T.payload,oe=T.qos,ne=T.messageId,W=this,Q=this.options,re=[0,16,128,131,135,144,145,151,153];if(this.options.protocolVersion===5){let ee;if(T.properties&&(ee=T.properties.topicAlias),typeof ee<"u")if(j.length===0)if(ee>0&&ee<=65535){const se=this.topicAliasRecv.getTopicByAlias(ee);if(se)j=se,i("_handlePublish :: topic complemented by alias. topic: %s - alias: %d",j,ee);else{i("_handlePublish :: unregistered topic alias. alias: %d",ee),this.emit("error",new Error("Received unregistered Topic Alias"));return}}else{i("_handlePublish :: topic alias out of range. alias: %d",ee),this.emit("error",new Error("Received Topic Alias is out of range"));return}else if(this.topicAliasRecv.put(j,ee))i("_handlePublish :: registered topic: %s - alias: %d",j,ee);else{i("_handlePublish :: topic alias out of range. alias: %d",ee),this.emit("error",new Error("Received Topic Alias is out of range"));return}}switch(i("_handlePublish: qos %d",oe),oe){case 2:{Q.customHandleAcks(j,$,T,function(ee,se){if(ee instanceof Error||(se=ee,ee=null),ee)return W.emit("error",ee);if(re.indexOf(se)===-1)return W.emit("error",new Error("Wrong reason code for pubrec"));se?W._sendPacket({cmd:"pubrec",messageId:ne,reasonCode:se},I):W.incomingStore.put(T,function(){W._sendPacket({cmd:"pubrec",messageId:ne},I)})});break}case 1:{Q.customHandleAcks(j,$,T,function(ee,se){if(ee instanceof Error||(se=ee,ee=null),ee)return W.emit("error",ee);if(re.indexOf(se)===-1)return W.emit("error",new Error("Wrong reason code for puback"));se||W.emit("message",j,$,T),W.handleMessage(T,function(ie){if(ie)return I&&I(ie);W._sendPacket({cmd:"puback",messageId:ne,reasonCode:se},I)})});break}case 0:this.emit("message",j,$,T),this.handleMessage(T,I);break;default:i("_handlePublish: unknown QoS. Doing nothing.");break}},Y.prototype.handleMessage=function(T,I){I()},Y.prototype._handleAck=function(T){const I=T.messageId,j=T.cmd;let $=null;const oe=this.outgoing[I]?this.outgoing[I].cb:null,ne=this;let W;if(!oe){i("_handleAck :: Server sent an ack in error. Ignoring.");return}switch(i("_handleAck :: packet type",j),j){case"pubcomp":case"puback":{const Q=T.reasonCode;Q&&Q>0&&Q!==16&&(W=new Error("Publish error: "+L[Q]),W.code=Q,oe(W,T)),delete this.outgoing[I],this.outgoingStore.del(T,oe),this.messageIdProvider.deallocate(I),this._invokeStoreProcessingQueue();break}case"pubrec":{$={cmd:"pubrel",qos:2,messageId:I};const Q=T.reasonCode;Q&&Q>0&&Q!==16?(W=new Error("Publish error: "+L[Q]),W.code=Q,oe(W,T)):this._sendPacket($);break}case"suback":{delete this.outgoing[I],this.messageIdProvider.deallocate(I);for(let Q=0;Q<T.granted.length;Q++)if(T.granted[Q]&128){const re=this.messageIdToTopic[I];re&&re.forEach(function(ee){delete ne._resubscribeTopics[ee]})}this._invokeStoreProcessingQueue(),oe(null,T);break}case"unsuback":{delete this.outgoing[I],this.messageIdProvider.deallocate(I),this._invokeStoreProcessingQueue(),oe(null);break}default:ne.emit("error",new Error("unrecognized packet type"))}this.disconnecting&&Object.keys(this.outgoing).length===0&&this.emit("outgoingEmpty")},Y.prototype._handlePubrel=function(T,I){i("handling pubrel packet"),I=typeof I<"u"?I:q;const j=T.messageId,$=this,oe={cmd:"pubcomp",messageId:j};$.incomingStore.get(T,function(ne,W){ne?$._sendPacket(oe,I):($.emit("message",W.topic,W.payload,W),$.handleMessage(W,function(Q){if(Q)return I(Q);$.incomingStore.del(W,q),$._sendPacket(oe,I)}))})},Y.prototype._handleDisconnect=function(T){this.emit("disconnect",T)},Y.prototype._nextId=function(){return this.messageIdProvider.allocate()},Y.prototype.getLastMessageId=function(){return this.messageIdProvider.getLastAllocated()},Y.prototype._resubscribe=function(){i("_resubscribe");const T=Object.keys(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||this.options.protocolVersion===5&&!this.connackPacket.sessionPresent)&&T.length>0)if(this.options.resubscribe)if(this.options.protocolVersion===5){i("_resubscribe: protocolVersion 5");for(let I=0;I<T.length;I++){const j={};j[T[I]]=this._resubscribeTopics[T[I]],j.resubscribe=!0,this.subscribe(j,{properties:j[T[I]].properties})}}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1},Y.prototype._onConnect=function(T){if(this.disconnected){this.emit("connect",T);return}const I=this;this.connackPacket=T,this.messageIdProvider.clear(),this._setupPingTimer(),this.connected=!0;function j(){let $=I.outgoingStore.createStream();function oe(){I._storeProcessing=!1,I._packetIdsDuringStoreProcessing={}}I.once("close",ne),$.on("error",function(Q){oe(),I._flushStoreProcessingQueue(),I.removeListener("close",ne),I.emit("error",Q)});function ne(){$.destroy(),$=null,I._flushStoreProcessingQueue(),oe()}function W(){if(!$)return;I._storeProcessing=!0;const Q=$.read(1);let re;if(!Q){$.once("readable",W);return}if(I._packetIdsDuringStoreProcessing[Q.messageId]){W();return}!I.disconnecting&&!I.reconnectTimer?(re=I.outgoing[Q.messageId]?I.outgoing[Q.messageId].cb:null,I.outgoing[Q.messageId]={volatile:!1,cb:function(ee,se){re&&re(ee,se),W()}},I._packetIdsDuringStoreProcessing[Q.messageId]=!0,I.messageIdProvider.register(Q.messageId)?I._sendPacket(Q):i("messageId: %d has already used.",Q.messageId)):$.destroy&&$.destroy()}$.on("end",function(){let Q=!0;for(const re in I._packetIdsDuringStoreProcessing)if(!I._packetIdsDuringStoreProcessing[re]){Q=!1;break}Q?(oe(),I.removeListener("close",ne),I._invokeAllStoreProcessingQueue(),I.emit("connect",T)):j()}),W()}j()},Y.prototype._invokeStoreProcessingQueue=function(){if(this._storeProcessingQueue.length>0){const T=this._storeProcessingQueue[0];if(T&&T.invoke())return this._storeProcessingQueue.shift(),!0}return!1},Y.prototype._invokeAllStoreProcessingQueue=function(){for(;this._invokeStoreProcessingQueue(););},Y.prototype._flushStoreProcessingQueue=function(){for(const T of this._storeProcessingQueue)T.cbStorePut&&T.cbStorePut(new Error("Connection closed")),T.callback&&T.callback(new Error("Connection closed"));this._storeProcessingQueue.splice(0)},K.exports=Y}).call(this)}).call(this,x("_process"),typeof he<"u"?he:typeof self<"u"?self:typeof window<"u"?window:{})},{"./default-message-id-provider":7,"./store":8,"./topic-alias-recv":9,"./topic-alias-send":10,"./validations":11,_process:50,debug:18,events:22,inherits:24,"mqtt-packet":40,"readable-stream":69,reinterval:70,"rfdc/default":71,xtend:81}],2:[function(x,K,N){const{Buffer:m}=x("buffer"),v=x("readable-stream").Transform,p=x("duplexify");let h,s,t,r=!1;function e(){const d=new v;return d._write=function(u,i,g){h.sendSocketMessage({data:u.buffer,success:function(){g()},fail:function(){g(new Error)}})},d._flush=function(i){h.closeSocket({success:function(){i()}})},d}function n(d){d.hostname||(d.hostname="localhost"),d.path||(d.path="/"),d.wsOptions||(d.wsOptions={})}function f(d,u){const i=d.protocol==="alis"?"wss":"ws";let g=i+"://"+d.hostname+d.path;return d.port&&d.port!==80&&d.port!==443&&(g=i+"://"+d.hostname+":"+d.port+d.path),typeof d.transformWsUrl=="function"&&(g=d.transformWsUrl(g,d,u)),g}function o(){r||(r=!0,h.onSocketOpen(function(){t.setReadable(s),t.setWritable(s),t.emit("connect")}),h.onSocketMessage(function(d){if(typeof d.data=="string"){const u=m.from(d.data,"base64");s.push(u)}else{const u=new FileReader;u.addEventListener("load",function(){let i=u.result;i instanceof ArrayBuffer?i=m.from(i):i=m.from(i,"utf8"),s.push(i)}),u.readAsArrayBuffer(d.data)}}),h.onSocketClose(function(){t.end(),t.destroy()}),h.onSocketError(function(d){t.destroy(d)}))}function y(d,u){if(u.hostname=u.hostname||u.host,!u.hostname)throw new Error("Could not determine host. Specify host manually.");const i=u.protocolId==="MQIsdp"&&u.protocolVersion===3?"mqttv3.1":"mqtt";n(u);const g=f(u,d);return h=u.my,h.connectSocket({url:g,protocols:i}),s=e(),t=p.obj(),o(),t}K.exports=y},{buffer:17,duplexify:20,"readable-stream":69}],3:[function(x,K,N){const m=x("net"),v=x("debug")("mqttjs:tcp");function p(h,s){s.port=s.port||1883,s.hostname=s.hostname||s.host||"localhost";const t=s.port,r=s.hostname;return v("port %d and host %s",t,r),m.createConnection(t,r)}K.exports=p},{debug:18,net:16}],4:[function(x,K,N){const m=x("tls"),v=x("net"),p=x("debug")("mqttjs:tls");function h(s,t){t.port=t.port||8883,t.host=t.hostname||t.host||"localhost",v.isIP(t.host)===0&&(t.servername=t.host),t.rejectUnauthorized=t.rejectUnauthorized!==!1,delete t.path,p("port %d host %s rejectUnauthorized %b",t.port,t.host,t.rejectUnauthorized);const r=m.connect(t);r.on("secureConnect",function(){t.rejectUnauthorized&&!r.authorized?r.emit("error",new Error("TLS not authorized")):r.removeListener("error",e)});function e(n){t.rejectUnauthorized&&s.emit("error",n),r.end()}return r.on("error",e),r}K.exports=h},{debug:18,net:16,tls:16}],5:[function(x,K,N){(function(m){(function(){const{Buffer:v}=x("buffer"),p=x("ws"),h=x("debug")("mqttjs:ws"),s=x("duplexify"),t=x("readable-stream").Transform,r=["rejectUnauthorized","ca","cert","key","pfx","passphrase"],e=typeof m<"u"&&m.title==="browser"||typeof __webpack_require__=="function";function n(g,E){let k=g.protocol+"://"+g.hostname+":"+g.port+g.path;return typeof g.transformWsUrl=="function"&&(k=g.transformWsUrl(k,g,E)),k}function f(g){const E=g;return g.hostname||(E.hostname="localhost"),g.port||(g.protocol==="wss"?E.port=443:E.port=80),g.path||(E.path="/"),g.wsOptions||(E.wsOptions={}),!e&&g.protocol==="wss"&&r.forEach(function(k){Object.prototype.hasOwnProperty.call(g,k)&&!Object.prototype.hasOwnProperty.call(g.wsOptions,k)&&(E.wsOptions[k]=g[k])}),E}function o(g){const E=f(g);if(E.hostname||(E.hostname=E.host),!E.hostname){if(typeof document>"u")throw new Error("Could not determine host. Specify host manually.");const k=new URL(document.URL);E.hostname=k.hostname,E.port||(E.port=k.port)}return E.objectMode===void 0&&(E.objectMode=!(E.binary===!0||E.binary===void 0)),E}function y(g,E,k){h("createWebSocket"),h("protocol: "+k.protocolId+" "+k.protocolVersion);const M=k.protocolId==="MQIsdp"&&k.protocolVersion===3?"mqttv3.1":"mqtt";return h("creating new Websocket for url: "+E+" and protocol: "+M),new p(E,[M],k.wsOptions)}function d(g,E){const k=E.protocolId==="MQIsdp"&&E.protocolVersion===3?"mqttv3.1":"mqtt",M=n(E,g),L=new WebSocket(M,[k]);return L.binaryType="arraybuffer",L}function u(g,E){h("streamBuilder");const k=f(E),M=n(k,g),L=y(g,M,k),R=p.createWebSocketStream(L,k.wsOptions);return R.url=M,L.on("close",()=>{R.destroy()}),R}function i(g,E){h("browserStreamBuilder");let k;const L=o(E).browserBufferSize||1024*512,R=E.browserBufferTimeout||1e3,H=!E.objectMode,l=d(g,E),_=B(E,j,$);E.objectMode||(_._writev=I),_.on("close",()=>{l.close()});const b=typeof l.addEventListener<"u";l.readyState===l.OPEN?k=_:(k=k=s(void 0,void 0,E),E.objectMode||(k._writev=I),b?l.addEventListener("open",z):l.onopen=z),k.socket=l,b?(l.addEventListener("close",q),l.addEventListener("error",Y),l.addEventListener("message",T)):(l.onclose=q,l.onerror=Y,l.onmessage=T);function B(oe,ne,W){const Q=new t({objectModeMode:oe.objectMode});return Q._write=ne,Q._flush=W,Q}function z(){k.setReadable(_),k.setWritable(_),k.emit("connect")}function q(){k.end(),k.destroy()}function Y(oe){k.destroy(oe)}function T(oe){let ne=oe.data;ne instanceof ArrayBuffer?ne=v.from(ne):ne=v.from(ne,"utf8"),_.push(ne)}function I(oe,ne){const W=new Array(oe.length);for(let Q=0;Q<oe.length;Q++)typeof oe[Q].chunk=="string"?W[Q]=v.from(oe[Q],"utf8"):W[Q]=oe[Q].chunk;this._write(v.concat(W),"binary",ne)}function j(oe,ne,W){l.bufferedAmount>L&&setTimeout(j,R,oe,ne,W),H&&typeof oe=="string"&&(oe=v.from(oe,"utf8"));try{l.send(oe)}catch(Q){return W(Q)}W()}function $(oe){l.close(),oe()}return k}e?K.exports=i:K.exports=u}).call(this)}).call(this,x("_process"))},{_process:50,buffer:17,debug:18,duplexify:20,"readable-stream":69,ws:80}],6:[function(x,K,N){const{Buffer:m}=x("buffer"),v=x("readable-stream").Transform,p=x("duplexify");let h,s,t;function r(){const y=new v;return y._write=function(d,u,i){h.send({data:d.buffer,success:function(){i()},fail:function(g){i(new Error(g))}})},y._flush=function(u){h.close({success:function(){u()}})},y}function e(y){y.hostname||(y.hostname="localhost"),y.path||(y.path="/"),y.wsOptions||(y.wsOptions={})}function n(y,d){const u=y.protocol==="wxs"?"wss":"ws";let i=u+"://"+y.hostname+y.path;return y.port&&y.port!==80&&y.port!==443&&(i=u+"://"+y.hostname+":"+y.port+y.path),typeof y.transformWsUrl=="function"&&(i=y.transformWsUrl(i,y,d)),i}function f(){h.onOpen(function(){t.setReadable(s),t.setWritable(s),t.emit("connect")}),h.onMessage(function(y){let d=y.data;d instanceof ArrayBuffer?d=m.from(d):d=m.from(d,"utf8"),s.push(d)}),h.onClose(function(){t.end(),t.destroy()}),h.onError(function(y){t.destroy(new Error(y.errMsg))})}function o(y,d){if(d.hostname=d.hostname||d.host,!d.hostname)throw new Error("Could not determine host. Specify host manually.");const u=d.protocolId==="MQIsdp"&&d.protocolVersion===3?"mqttv3.1":"mqtt";e(d);const i=n(d,y);h=wx.connectSocket({url:i,protocols:[u]}),s=r(),t=p.obj(),t._destroy=function(E,k){h.close({success:function(){k&&k(E)}})};const g=t.destroy;return t.destroy=(function(){t.destroy=g;const E=this;setTimeout(function(){h.close({fail:function(){E._destroy(new Error)}})},0)}).bind(t),f(),t}K.exports=o},{buffer:17,duplexify:20,"readable-stream":69}],7:[function(x,K,N){function m(){if(!(this instanceof m))return new m;this.nextId=Math.max(1,Math.floor(Math.random()*65535))}m.prototype.allocate=function(){const v=this.nextId++;return this.nextId===65536&&(this.nextId=1),v},m.prototype.getLastAllocated=function(){return this.nextId===1?65535:this.nextId-1},m.prototype.register=function(v){return!0},m.prototype.deallocate=function(v){},m.prototype.clear=function(){},K.exports=m},{}],8:[function(x,K,N){const m=x("xtend"),v=x("readable-stream").Readable,p={objectMode:!0},h={clean:!0};function s(t){if(!(this instanceof s))return new s(t);this.options=t||{},this.options=m(h,t),this._inflights=new Map}s.prototype.put=function(t,r){return this._inflights.set(t.messageId,t),r&&r(),this},s.prototype.createStream=function(){const t=new v(p),r=[];let e=!1,n=0;return this._inflights.forEach(function(f,o){r.push(f)}),t._read=function(){!e&&n<r.length?this.push(r[n++]):this.push(null)},t.destroy=function(){if(e)return;const f=this;e=!0,setTimeout(function(){f.emit("close")},0)},t},s.prototype.del=function(t,r){return t=this._inflights.get(t.messageId),t?(this._inflights.delete(t.messageId),r(null,t)):r&&r(new Error("missing packet")),this},s.prototype.get=function(t,r){return t=this._inflights.get(t.messageId),t?r(null,t):r&&r(new Error("missing packet")),this},s.prototype.close=function(t){this.options.clean&&(this._inflights=null),t&&t()},K.exports=s},{"readable-stream":69,xtend:81}],9:[function(x,K,N){function m(v){if(!(this instanceof m))return new m(v);this.aliasToTopic={},this.max=v}m.prototype.put=function(v,p){return p===0||p>this.max?!1:(this.aliasToTopic[p]=v,this.length=Object.keys(this.aliasToTopic).length,!0)},m.prototype.getTopicByAlias=function(v){return this.aliasToTopic[v]},m.prototype.clear=function(){this.aliasToTopic={}},K.exports=m},{}],10:[function(x,K,N){const m=x("lru-cache"),v=x("number-allocator").NumberAllocator;function p(h){if(!(this instanceof p))return new p(h);h>0&&(this.aliasToTopic=new m({max:h}),this.topicToAlias={},this.numberAllocator=new v(1,h),this.max=h,this.length=0)}p.prototype.put=function(h,s){if(s===0||s>this.max)return!1;const t=this.aliasToTopic.get(s);return t&&delete this.topicToAlias[t],this.aliasToTopic.set(s,h),this.topicToAlias[h]=s,this.numberAllocator.use(s),this.length=this.aliasToTopic.length,!0},p.prototype.getTopicByAlias=function(h){return this.aliasToTopic.get(h)},p.prototype.getAliasByTopic=function(h){const s=this.topicToAlias[h];return typeof s<"u"&&this.aliasToTopic.get(s),s},p.prototype.clear=function(){this.aliasToTopic.reset(),this.topicToAlias={},this.numberAllocator.clear(),this.length=0},p.prototype.getLruAlias=function(){const h=this.numberAllocator.firstVacant();return h||this.aliasToTopic.keys()[this.aliasToTopic.length-1]},K.exports=p},{"lru-cache":37,"number-allocator":46}],11:[function(x,K,N){function m(p){const h=p.split("/");for(let s=0;s<h.length;s++)if(h[s]!=="+"){if(h[s]==="#")return s===h.length-1;if(h[s].indexOf("+")!==-1||h[s].indexOf("#")!==-1)return!1}return!0}function v(p){if(p.length===0)return"empty_topic_list";for(let h=0;h<p.length;h++)if(!m(p[h]))return p[h];return null}K.exports={validateTopics:v}},{}],12:[function(x,K,N){(function(m){(function(){const v=x("../client"),p=x("../store"),h=x("url"),s=x("xtend"),t=x("debug")("mqttjs"),r={};typeof m<"u"&&m.title!=="browser"||typeof __webpack_require__!="function"?(r.mqtt=x("./tcp"),r.tcp=x("./tcp"),r.ssl=x("./tls"),r.tls=x("./tls"),r.mqtts=x("./tls")):(r.wx=x("./wx"),r.wxs=x("./wx"),r.ali=x("./ali"),r.alis=x("./ali")),r.ws=x("./ws"),r.wss=x("./ws");function e(f){let o;f.auth&&(o=f.auth.match(/^(.+):(.+)$/),o?(f.username=o[1],f.password=o[2]):f.username=f.auth)}function n(f,o){if(t("connecting to an MQTT broker..."),typeof f=="object"&&!o&&(o=f,f=null),o=o||{},f){const u=h.parse(f,!0);if(u.port!=null&&(u.port=Number(u.port)),o=s(u,o),o.protocol===null)throw new Error("Missing protocol");o.protocol=o.protocol.replace(/:$/,"")}if(e(o),o.query&&typeof o.query.clientId=="string"&&(o.clientId=o.query.clientId),o.cert&&o.key)if(o.protocol){if(["mqtts","wss","wxs","alis"].indexOf(o.protocol)===-1)switch(o.protocol){case"mqtt":o.protocol="mqtts";break;case"ws":o.protocol="wss";break;case"wx":o.protocol="wxs";break;case"ali":o.protocol="alis";break;default:throw new Error('Unknown protocol for secure connection: "'+o.protocol+'"!')}}else throw new Error("Missing secure protocol key");if(!r[o.protocol]){const u=["mqtts","wss"].indexOf(o.protocol)!==-1;o.protocol=["mqtt","mqtts","ws","wss","wx","wxs","ali","alis"].filter(function(i,g){return u&&g%2===0?!1:typeof r[i]=="function"})[0]}if(o.clean===!1&&!o.clientId)throw new Error("Missing clientId for unclean clients");o.protocol&&(o.defaultProtocol=o.protocol);function y(u){return o.servers&&((!u._reconnectCount||u._reconnectCount===o.servers.length)&&(u._reconnectCount=0),o.host=o.servers[u._reconnectCount].host,o.port=o.servers[u._reconnectCount].port,o.protocol=o.servers[u._reconnectCount].protocol?o.servers[u._reconnectCount].protocol:o.defaultProtocol,o.hostname=o.host,u._reconnectCount++),t("calling streambuilder for",o.protocol),r[o.protocol](u,o)}const d=new v(y,o);return d.on("error",function(){}),d}K.exports=n,K.exports.connect=n,K.exports.MqttClient=v,K.exports.Store=p}).call(this)}).call(this,x("_process"))},{"../client":1,"../store":8,"./ali":2,"./tcp":3,"./tls":4,"./ws":5,"./wx":6,_process:50,debug:18,url:76,xtend:81}],13:[function(x,K,N){N.byteLength=e,N.toByteArray=f,N.fromByteArray=d;for(var m=[],v=[],p=typeof Uint8Array<"u"?Uint8Array:Array,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,t=h.length;s<t;++s)m[s]=h[s],v[h.charCodeAt(s)]=s;v[45]=62,v[95]=63;function r(u){var i=u.length;if(i%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var g=u.indexOf("=");g===-1&&(g=i);var E=g===i?0:4-g%4;return[g,E]}function e(u){var i=r(u),g=i[0],E=i[1];return(g+E)*3/4-E}function n(u,i,g){return(i+g)*3/4-g}function f(u){var i,g=r(u),E=g[0],k=g[1],M=new p(n(u,E,k)),L=0,R=k>0?E-4:E,H;for(H=0;H<R;H+=4)i=v[u.charCodeAt(H)]<<18|v[u.charCodeAt(H+1)]<<12|v[u.charCodeAt(H+2)]<<6|v[u.charCodeAt(H+3)],M[L++]=i>>16&255,M[L++]=i>>8&255,M[L++]=i&255;return k===2&&(i=v[u.charCodeAt(H)]<<2|v[u.charCodeAt(H+1)]>>4,M[L++]=i&255),k===1&&(i=v[u.charCodeAt(H)]<<10|v[u.charCodeAt(H+1)]<<4|v[u.charCodeAt(H+2)]>>2,M[L++]=i>>8&255,M[L++]=i&255),M}function o(u){return m[u>>18&63]+m[u>>12&63]+m[u>>6&63]+m[u&63]}function y(u,i,g){for(var E,k=[],M=i;M<g;M+=3)E=(u[M]<<16&16711680)+(u[M+1]<<8&65280)+(u[M+2]&255),k.push(o(E));return k.join("")}function d(u){for(var i,g=u.length,E=g%3,k=[],M=16383,L=0,R=g-E;L<R;L+=M)k.push(y(u,L,L+M>R?R:L+M));return E===1?(i=u[g-1],k.push(m[i>>2]+m[i<<4&63]+"==")):E===2&&(i=(u[g-2]<<8)+u[g-1],k.push(m[i>>10]+m[i>>4&63]+m[i<<2&63]+"=")),k.join("")}},{}],14:[function(x,K,N){const{Buffer:m}=x("buffer"),v=Symbol.for("BufferList");function p(h){if(!(this instanceof p))return new p(h);p._init.call(this,h)}p._init=function(s){Object.defineProperty(this,v,{value:!0}),this._bufs=[],this.length=0,s&&this.append(s)},p.prototype._new=function(s){return new p(s)},p.prototype._offset=function(s){if(s===0)return[0,0];let t=0;for(let r=0;r<this._bufs.length;r++){const e=t+this._bufs[r].length;if(s<e||r===this._bufs.length-1)return[r,s-t];t=e}},p.prototype._reverseOffset=function(h){const s=h[0];let t=h[1];for(let r=0;r<s;r++)t+=this._bufs[r].length;return t},p.prototype.get=function(s){if(s>this.length||s<0)return;const t=this._offset(s);return this._bufs[t[0]][t[1]]},p.prototype.slice=function(s,t){return typeof s=="number"&&s<0&&(s+=this.length),typeof t=="number"&&t<0&&(t+=this.length),this.copy(null,0,s,t)},p.prototype.copy=function(s,t,r,e){if((typeof r!="number"||r<0)&&(r=0),(typeof e!="number"||e>this.length)&&(e=this.length),r>=this.length||e<=0)return s||m.alloc(0);const n=!!s,f=this._offset(r),o=e-r;let y=o,d=n&&t||0,u=f[1];if(r===0&&e===this.length){if(!n)return this._bufs.length===1?this._bufs[0]:m.concat(this._bufs,this.length);for(let i=0;i<this._bufs.length;i++)this._bufs[i].copy(s,d),d+=this._bufs[i].length;return s}if(y<=this._bufs[f[0]].length-u)return n?this._bufs[f[0]].copy(s,t,u,u+y):this._bufs[f[0]].slice(u,u+y);n||(s=m.allocUnsafe(o));for(let i=f[0];i<this._bufs.length;i++){const g=this._bufs[i].length-u;if(y>g)this._bufs[i].copy(s,d,u),d+=g;else{this._bufs[i].copy(s,d,u,u+y),d+=g;break}y-=g,u&&(u=0)}return s.length>d?s.slice(0,d):s},p.prototype.shallowSlice=function(s,t){if(s=s||0,t=typeof t!="number"?this.length:t,s<0&&(s+=this.length),t<0&&(t+=this.length),s===t)return this._new();const r=this._offset(s),e=this._offset(t),n=this._bufs.slice(r[0],e[0]+1);return e[1]===0?n.pop():n[n.length-1]=n[n.length-1].slice(0,e[1]),r[1]!==0&&(n[0]=n[0].slice(r[1])),this._new(n)},p.prototype.toString=function(s,t,r){return this.slice(t,r).toString(s)},p.prototype.consume=function(s){if(s=Math.trunc(s),Number.isNaN(s)||s<=0)return this;for(;this._bufs.length;)if(s>=this._bufs[0].length)s-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(s),this.length-=s;break}return this},p.prototype.duplicate=function(){const s=this._new();for(let t=0;t<this._bufs.length;t++)s.append(this._bufs[t]);return s},p.prototype.append=function(s){if(s==null)return this;if(s.buffer)this._appendBuffer(m.from(s.buffer,s.byteOffset,s.byteLength));else if(Array.isArray(s))for(let t=0;t<s.length;t++)this.append(s[t]);else if(this._isBufferList(s))for(let t=0;t<s._bufs.length;t++)this.append(s._bufs[t]);else typeof s=="number"&&(s=s.toString()),this._appendBuffer(m.from(s));return this},p.prototype._appendBuffer=function(s){this._bufs.push(s),this.length+=s.length},p.prototype.indexOf=function(h,s,t){if(t===void 0&&typeof s=="string"&&(t=s,s=void 0),typeof h=="function"||Array.isArray(h))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof h=="number"?h=m.from([h]):typeof h=="string"?h=m.from(h,t):this._isBufferList(h)?h=h.slice():Array.isArray(h.buffer)?h=m.from(h.buffer,h.byteOffset,h.byteLength):m.isBuffer(h)||(h=m.from(h)),s=Number(s||0),isNaN(s)&&(s=0),s<0&&(s=this.length+s),s<0&&(s=0),h.length===0)return s>this.length?this.length:s;const r=this._offset(s);let e=r[0],n=r[1];for(;e<this._bufs.length;e++){const f=this._bufs[e];for(;n<f.length;)if(f.length-n>=h.length){const y=f.indexOf(h,n);if(y!==-1)return this._reverseOffset([e,y]);n=f.length-h.length+1}else{const y=this._reverseOffset([e,n]);if(this._match(y,h))return y;n++}n=0}return-1},p.prototype._match=function(h,s){if(this.length-h<s.length)return!1;for(let t=0;t<s.length;t++)if(this.get(h+t)!==s[t])return!1;return!0},function(){const h={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(const s in h)(function(t){h[t]===null?p.prototype[t]=function(r,e){return this.slice(r,r+e)[t](0,e)}:p.prototype[t]=function(r=0){return this.slice(r,r+h[t])[t](0)}})(s)}(),p.prototype._isBufferList=function(s){return s instanceof p||p.isBufferList(s)},p.isBufferList=function(s){return s!=null&&s[v]},K.exports=p},{buffer:17}],15:[function(x,K,N){const m=x("readable-stream").Duplex,v=x("inherits"),p=x("./BufferList");function h(s){if(!(this instanceof h))return new h(s);if(typeof s=="function"){this._callback=s;const t=(function(e){this._callback&&(this._callback(e),this._callback=null)}).bind(this);this.on("pipe",function(e){e.on("error",t)}),this.on("unpipe",function(e){e.removeListener("error",t)}),s=null}p._init.call(this,s),m.call(this)}v(h,m),Object.assign(h.prototype,p.prototype),h.prototype._new=function(t){return new h(t)},h.prototype._write=function(t,r,e){this._appendBuffer(t),typeof e=="function"&&e()},h.prototype._read=function(t){if(!this.length)return this.push(null);t=Math.min(t,this.length),this.push(this.slice(0,t)),this.consume(t)},h.prototype.end=function(t){m.prototype.end.call(this,t),this._callback&&(this._callback(null,this.slice()),this._callback=null)},h.prototype._destroy=function(t,r){this._bufs.length=0,this.length=0,r(t)},h.prototype._isBufferList=function(t){return t instanceof h||t instanceof p||h.isBufferList(t)},h.isBufferList=p.isBufferList,K.exports=h,K.exports.BufferListStream=h,K.exports.BufferList=p},{"./BufferList":14,inherits:24,"readable-stream":69}],16:[function(x,K,N){},{}],17:[function(x,K,N){(function(m){(function(){var v=x("base64-js"),p=x("ieee754");N.Buffer=r,N.SlowBuffer=E,N.INSPECT_MAX_BYTES=50;var h=2147483647;N.kMaxLength=h,r.TYPED_ARRAY_SUPPORT=s(),!r.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{var w=new Uint8Array(1);return w.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},w.foo()===42}catch{return!1}}Object.defineProperty(r.prototype,"parent",{enumerable:!0,get:function(){if(r.isBuffer(this))return this.buffer}}),Object.defineProperty(r.prototype,"offset",{enumerable:!0,get:function(){if(r.isBuffer(this))return this.byteOffset}});function t(w){if(w>h)throw new RangeError('The value "'+w+'" is invalid for option "size"');var a=new Uint8Array(w);return a.__proto__=r.prototype,a}function r(w,a,c){if(typeof w=="number"){if(typeof a=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return o(w)}return e(w,a,c)}typeof Symbol<"u"&&Symbol.species!=null&&r[Symbol.species]===r&&Object.defineProperty(r,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),r.poolSize=8192;function e(w,a,c){if(typeof w=="string")return y(w,a);if(ArrayBuffer.isView(w))return d(w);if(w==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof w);if(S(w,ArrayBuffer)||w&&S(w.buffer,ArrayBuffer))return u(w,a,c);if(typeof w=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var C=w.valueOf&&w.valueOf();if(C!=null&&C!==w)return r.from(C,a,c);var D=i(w);if(D)return D;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof w[Symbol.toPrimitive]=="function")return r.from(w[Symbol.toPrimitive]("string"),a,c);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof w)}r.from=function(w,a,c){return e(w,a,c)},r.prototype.__proto__=Uint8Array.prototype,r.__proto__=Uint8Array;function n(w){if(typeof w!="number")throw new TypeError('"size" argument must be of type number');if(w<0)throw new RangeError('The value "'+w+'" is invalid for option "size"')}function f(w,a,c){return n(w),w<=0?t(w):a!==void 0?typeof c=="string"?t(w).fill(a,c):t(w).fill(a):t(w)}r.alloc=function(w,a,c){return f(w,a,c)};function o(w){return n(w),t(w<0?0:g(w)|0)}r.allocUnsafe=function(w){return o(w)},r.allocUnsafeSlow=function(w){return o(w)};function y(w,a){if((typeof a!="string"||a==="")&&(a="utf8"),!r.isEncoding(a))throw new TypeError("Unknown encoding: "+a);var c=k(w,a)|0,C=t(c),D=C.write(w,a);return D!==c&&(C=C.slice(0,D)),C}function d(w){for(var a=w.length<0?0:g(w.length)|0,c=t(a),C=0;C<a;C+=1)c[C]=w[C]&255;return c}function u(w,a,c){if(a<0||w.byteLength<a)throw new RangeError('"offset" is outside of buffer bounds');if(w.byteLength<a+(c||0))throw new RangeError('"length" is outside of buffer bounds');var C;return a===void 0&&c===void 0?C=new Uint8Array(w):c===void 0?C=new Uint8Array(w,a):C=new Uint8Array(w,a,c),C.__proto__=r.prototype,C}function i(w){if(r.isBuffer(w)){var a=g(w.length)|0,c=t(a);return c.length===0||w.copy(c,0,0,a),c}if(w.length!==void 0)return typeof w.length!="number"||A(w.length)?t(0):d(w);if(w.type==="Buffer"&&Array.isArray(w.data))return d(w.data)}function g(w){if(w>=h)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+h.toString(16)+" bytes");return w|0}function E(w){return+w!=w&&(w=0),r.alloc(+w)}r.isBuffer=function(a){return a!=null&&a._isBuffer===!0&&a!==r.prototype},r.compare=function(a,c){if(S(a,Uint8Array)&&(a=r.from(a,a.offset,a.byteLength)),S(c,Uint8Array)&&(c=r.from(c,c.offset,c.byteLength)),!r.isBuffer(a)||!r.isBuffer(c))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(a===c)return 0;for(var C=a.length,D=c.length,J=0,te=Math.min(C,D);J<te;++J)if(a[J]!==c[J]){C=a[J],D=c[J];break}return C<D?-1:D<C?1:0},r.isEncoding=function(a){switch(String(a).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},r.concat=function(a,c){if(!Array.isArray(a))throw new TypeError('"list" argument must be an Array of Buffers');if(a.length===0)return r.alloc(0);var C;if(c===void 0)for(c=0,C=0;C<a.length;++C)c+=a[C].length;var D=r.allocUnsafe(c),J=0;for(C=0;C<a.length;++C){var te=a[C];if(S(te,Uint8Array)&&(te=r.from(te)),!r.isBuffer(te))throw new TypeError('"list" argument must be an Array of Buffers');te.copy(D,J),J+=te.length}return D};function k(w,a){if(r.isBuffer(w))return w.length;if(ArrayBuffer.isView(w)||S(w,ArrayBuffer))return w.byteLength;if(typeof w!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof w);var c=w.length,C=arguments.length>2&&arguments[2]===!0;if(!C&&c===0)return 0;for(var D=!1;;)switch(a){case"ascii":case"latin1":case"binary":return c;case"utf8":case"utf-8":return O(w).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return c*2;case"hex":return c>>>1;case"base64":return G(w).length;default:if(D)return C?-1:O(w).length;a=(""+a).toLowerCase(),D=!0}}r.byteLength=k;function M(w,a,c){var C=!1;if((a===void 0||a<0)&&(a=0),a>this.length||((c===void 0||c>this.length)&&(c=this.length),c<=0)||(c>>>=0,a>>>=0,c<=a))return"";for(w||(w="utf8");;)switch(w){case"hex":return ne(this,a,c);case"utf8":case"utf-8":return T(this,a,c);case"ascii":return $(this,a,c);case"latin1":case"binary":return oe(this,a,c);case"base64":return Y(this,a,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return W(this,a,c);default:if(C)throw new TypeError("Unknown encoding: "+w);w=(w+"").toLowerCase(),C=!0}}r.prototype._isBuffer=!0;function L(w,a,c){var C=w[a];w[a]=w[c],w[c]=C}r.prototype.swap16=function(){var a=this.length;if(a%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var c=0;c<a;c+=2)L(this,c,c+1);return this},r.prototype.swap32=function(){var a=this.length;if(a%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var c=0;c<a;c+=4)L(this,c,c+3),L(this,c+1,c+2);return this},r.prototype.swap64=function(){var a=this.length;if(a%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var c=0;c<a;c+=8)L(this,c,c+7),L(this,c+1,c+6),L(this,c+2,c+5),L(this,c+3,c+4);return this},r.prototype.toString=function(){var a=this.length;return a===0?"":arguments.length===0?T(this,0,a):M.apply(this,arguments)},r.prototype.toLocaleString=r.prototype.toString,r.prototype.equals=function(a){if(!r.isBuffer(a))throw new TypeError("Argument must be a Buffer");return this===a?!0:r.compare(this,a)===0},r.prototype.inspect=function(){var a="",c=N.INSPECT_MAX_BYTES;return a=this.toString("hex",0,c).replace(/(.{2})/g,"$1 ").trim(),this.length>c&&(a+=" ... "),"<Buffer "+a+">"},r.prototype.compare=function(a,c,C,D,J){if(S(a,Uint8Array)&&(a=r.from(a,a.offset,a.byteLength)),!r.isBuffer(a))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof a);if(c===void 0&&(c=0),C===void 0&&(C=a?a.length:0),D===void 0&&(D=0),J===void 0&&(J=this.length),c<0||C>a.length||D<0||J>this.length)throw new RangeError("out of range index");if(D>=J&&c>=C)return 0;if(D>=J)return-1;if(c>=C)return 1;if(c>>>=0,C>>>=0,D>>>=0,J>>>=0,this===a)return 0;for(var te=J-D,ae=C-c,le=Math.min(te,ae),fe=this.slice(D,J),ce=a.slice(c,C),ue=0;ue<le;++ue)if(fe[ue]!==ce[ue]){te=fe[ue],ae=ce[ue];break}return te<ae?-1:ae<te?1:0};function R(w,a,c,C,D){if(w.length===0)return-1;if(typeof c=="string"?(C=c,c=0):c>2147483647?c=2147483647:c<-2147483648&&(c=-2147483648),c=+c,A(c)&&(c=D?0:w.length-1),c<0&&(c=w.length+c),c>=w.length){if(D)return-1;c=w.length-1}else if(c<0)if(D)c=0;else return-1;if(typeof a=="string"&&(a=r.from(a,C)),r.isBuffer(a))return a.length===0?-1:H(w,a,c,C,D);if(typeof a=="number")return a=a&255,typeof Uint8Array.prototype.indexOf=="function"?D?Uint8Array.prototype.indexOf.call(w,a,c):Uint8Array.prototype.lastIndexOf.call(w,a,c):H(w,[a],c,C,D);throw new TypeError("val must be string, number or Buffer")}function H(w,a,c,C,D){var J=1,te=w.length,ae=a.length;if(C!==void 0&&(C=String(C).toLowerCase(),C==="ucs2"||C==="ucs-2"||C==="utf16le"||C==="utf-16le")){if(w.length<2||a.length<2)return-1;J=2,te/=2,ae/=2,c/=2}function le(ye,pe){return J===1?ye[pe]:ye.readUInt16BE(pe*J)}var fe;if(D){var ce=-1;for(fe=c;fe<te;fe++)if(le(w,fe)===le(a,ce===-1?0:fe-ce)){if(ce===-1&&(ce=fe),fe-ce+1===ae)return ce*J}else ce!==-1&&(fe-=fe-ce),ce=-1}else for(c+ae>te&&(c=te-ae),fe=c;fe>=0;fe--){for(var ue=!0,de=0;de<ae;de++)if(le(w,fe+de)!==le(a,de)){ue=!1;break}if(ue)return fe}return-1}r.prototype.includes=function(a,c,C){return this.indexOf(a,c,C)!==-1},r.prototype.indexOf=function(a,c,C){return R(this,a,c,C,!0)},r.prototype.lastIndexOf=function(a,c,C){return R(this,a,c,C,!1)};function l(w,a,c,C){c=Number(c)||0;var D=w.length-c;C?(C=Number(C),C>D&&(C=D)):C=D;var J=a.length;C>J/2&&(C=J/2);for(var te=0;te<C;++te){var ae=parseInt(a.substr(te*2,2),16);if(A(ae))return te;w[c+te]=ae}return te}function _(w,a,c,C){return X(O(a,w.length-c),w,c,C)}function b(w,a,c,C){return X(P(a),w,c,C)}function B(w,a,c,C){return b(w,a,c,C)}function z(w,a,c,C){return X(G(a),w,c,C)}function q(w,a,c,C){return X(F(a,w.length-c),w,c,C)}r.prototype.write=function(a,c,C,D){if(c===void 0)D="utf8",C=this.length,c=0;else if(C===void 0&&typeof c=="string")D=c,C=this.length,c=0;else if(isFinite(c))c=c>>>0,isFinite(C)?(C=C>>>0,D===void 0&&(D="utf8")):(D=C,C=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var J=this.length-c;if((C===void 0||C>J)&&(C=J),a.length>0&&(C<0||c<0)||c>this.length)throw new RangeError("Attempt to write outside buffer bounds");D||(D="utf8");for(var te=!1;;)switch(D){case"hex":return l(this,a,c,C);case"utf8":case"utf-8":return _(this,a,c,C);case"ascii":return b(this,a,c,C);case"latin1":case"binary":return B(this,a,c,C);case"base64":return z(this,a,c,C);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return q(this,a,c,C);default:if(te)throw new TypeError("Unknown encoding: "+D);D=(""+D).toLowerCase(),te=!0}},r.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Y(w,a,c){return a===0&&c===w.length?v.fromByteArray(w):v.fromByteArray(w.slice(a,c))}function T(w,a,c){c=Math.min(w.length,c);for(var C=[],D=a;D<c;){var J=w[D],te=null,ae=J>239?4:J>223?3:J>191?2:1;if(D+ae<=c){var le,fe,ce,ue;switch(ae){case 1:J<128&&(te=J);break;case 2:le=w[D+1],(le&192)===128&&(ue=(J&31)<<6|le&63,ue>127&&(te=ue));break;case 3:le=w[D+1],fe=w[D+2],(le&192)===128&&(fe&192)===128&&(ue=(J&15)<<12|(le&63)<<6|fe&63,ue>2047&&(ue<55296||ue>57343)&&(te=ue));break;case 4:le=w[D+1],fe=w[D+2],ce=w[D+3],(le&192)===128&&(fe&192)===128&&(ce&192)===128&&(ue=(J&15)<<18|(le&63)<<12|(fe&63)<<6|ce&63,ue>65535&&ue<1114112&&(te=ue))}}te===null?(te=65533,ae=1):te>65535&&(te-=65536,C.push(te>>>10&1023|55296),te=56320|te&1023),C.push(te),D+=ae}return j(C)}var I=4096;function j(w){var a=w.length;if(a<=I)return String.fromCharCode.apply(String,w);for(var c="",C=0;C<a;)c+=String.fromCharCode.apply(String,w.slice(C,C+=I));return c}function $(w,a,c){var C="";c=Math.min(w.length,c);for(var D=a;D<c;++D)C+=String.fromCharCode(w[D]&127);return C}function oe(w,a,c){var C="";c=Math.min(w.length,c);for(var D=a;D<c;++D)C+=String.fromCharCode(w[D]);return C}function ne(w,a,c){var C=w.length;(!a||a<0)&&(a=0),(!c||c<0||c>C)&&(c=C);for(var D="",J=a;J<c;++J)D+=Z(w[J]);return D}function W(w,a,c){for(var C=w.slice(a,c),D="",J=0;J<C.length;J+=2)D+=String.fromCharCode(C[J]+C[J+1]*256);return D}r.prototype.slice=function(a,c){var C=this.length;a=~~a,c=c===void 0?C:~~c,a<0?(a+=C,a<0&&(a=0)):a>C&&(a=C),c<0?(c+=C,c<0&&(c=0)):c>C&&(c=C),c<a&&(c=a);var D=this.subarray(a,c);return D.__proto__=r.prototype,D};function Q(w,a,c){if(w%1!==0||w<0)throw new RangeError("offset is not uint");if(w+a>c)throw new RangeError("Trying to access beyond buffer length")}r.prototype.readUIntLE=function(a,c,C){a=a>>>0,c=c>>>0,C||Q(a,c,this.length);for(var D=this[a],J=1,te=0;++te<c&&(J*=256);)D+=this[a+te]*J;return D},r.prototype.readUIntBE=function(a,c,C){a=a>>>0,c=c>>>0,C||Q(a,c,this.length);for(var D=this[a+--c],J=1;c>0&&(J*=256);)D+=this[a+--c]*J;return D},r.prototype.readUInt8=function(a,c){return a=a>>>0,c||Q(a,1,this.length),this[a]},r.prototype.readUInt16LE=function(a,c){return a=a>>>0,c||Q(a,2,this.length),this[a]|this[a+1]<<8},r.prototype.readUInt16BE=function(a,c){return a=a>>>0,c||Q(a,2,this.length),this[a]<<8|this[a+1]},r.prototype.readUInt32LE=function(a,c){return a=a>>>0,c||Q(a,4,this.length),(this[a]|this[a+1]<<8|this[a+2]<<16)+this[a+3]*16777216},r.prototype.readUInt32BE=function(a,c){return a=a>>>0,c||Q(a,4,this.length),this[a]*16777216+(this[a+1]<<16|this[a+2]<<8|this[a+3])},r.prototype.readIntLE=function(a,c,C){a=a>>>0,c=c>>>0,C||Q(a,c,this.length);for(var D=this[a],J=1,te=0;++te<c&&(J*=256);)D+=this[a+te]*J;return J*=128,D>=J&&(D-=Math.pow(2,8*c)),D},r.prototype.readIntBE=function(a,c,C){a=a>>>0,c=c>>>0,C||Q(a,c,this.length);for(var D=c,J=1,te=this[a+--D];D>0&&(J*=256);)te+=this[a+--D]*J;return J*=128,te>=J&&(te-=Math.pow(2,8*c)),te},r.prototype.readInt8=function(a,c){return a=a>>>0,c||Q(a,1,this.length),this[a]&128?(255-this[a]+1)*-1:this[a]},r.prototype.readInt16LE=function(a,c){a=a>>>0,c||Q(a,2,this.length);var C=this[a]|this[a+1]<<8;return C&32768?C|4294901760:C},r.prototype.readInt16BE=function(a,c){a=a>>>0,c||Q(a,2,this.length);var C=this[a+1]|this[a]<<8;return C&32768?C|4294901760:C},r.prototype.readInt32LE=function(a,c){return a=a>>>0,c||Q(a,4,this.length),this[a]|this[a+1]<<8|this[a+2]<<16|this[a+3]<<24},r.prototype.readInt32BE=function(a,c){return a=a>>>0,c||Q(a,4,this.length),this[a]<<24|this[a+1]<<16|this[a+2]<<8|this[a+3]},r.prototype.readFloatLE=function(a,c){return a=a>>>0,c||Q(a,4,this.length),p.read(this,a,!0,23,4)},r.prototype.readFloatBE=function(a,c){return a=a>>>0,c||Q(a,4,this.length),p.read(this,a,!1,23,4)},r.prototype.readDoubleLE=function(a,c){return a=a>>>0,c||Q(a,8,this.length),p.read(this,a,!0,52,8)},r.prototype.readDoubleBE=function(a,c){return a=a>>>0,c||Q(a,8,this.length),p.read(this,a,!1,52,8)};function re(w,a,c,C,D,J){if(!r.isBuffer(w))throw new TypeError('"buffer" argument must be a Buffer instance');if(a>D||a<J)throw new RangeError('"value" argument is out of bounds');if(c+C>w.length)throw new RangeError("Index out of range")}r.prototype.writeUIntLE=function(a,c,C,D){if(a=+a,c=c>>>0,C=C>>>0,!D){var J=Math.pow(2,8*C)-1;re(this,a,c,C,J,0)}var te=1,ae=0;for(this[c]=a&255;++ae<C&&(te*=256);)this[c+ae]=a/te&255;return c+C},r.prototype.writeUIntBE=function(a,c,C,D){if(a=+a,c=c>>>0,C=C>>>0,!D){var J=Math.pow(2,8*C)-1;re(this,a,c,C,J,0)}var te=C-1,ae=1;for(this[c+te]=a&255;--te>=0&&(ae*=256);)this[c+te]=a/ae&255;return c+C},r.prototype.writeUInt8=function(a,c,C){return a=+a,c=c>>>0,C||re(this,a,c,1,255,0),this[c]=a&255,c+1},r.prototype.writeUInt16LE=function(a,c,C){return a=+a,c=c>>>0,C||re(this,a,c,2,65535,0),this[c]=a&255,this[c+1]=a>>>8,c+2},r.prototype.writeUInt16BE=function(a,c,C){return a=+a,c=c>>>0,C||re(this,a,c,2,65535,0),this[c]=a>>>8,this[c+1]=a&255,c+2},r.prototype.writeUInt32LE=function(a,c,C){return a=+a,c=c>>>0,C||re(this,a,c,4,4294967295,0),this[c+3]=a>>>24,this[c+2]=a>>>16,this[c+1]=a>>>8,this[c]=a&255,c+4},r.prototype.writeUInt32BE=function(a,c,C){return a=+a,c=c>>>0,C||re(this,a,c,4,4294967295,0),this[c]=a>>>24,this[c+1]=a>>>16,this[c+2]=a>>>8,this[c+3]=a&255,c+4},r.prototype.writeIntLE=function(a,c,C,D){if(a=+a,c=c>>>0,!D){var J=Math.pow(2,8*C-1);re(this,a,c,C,J-1,-J)}var te=0,ae=1,le=0;for(this[c]=a&255;++te<C&&(ae*=256);)a<0&&le===0&&this[c+te-1]!==0&&(le=1),this[c+te]=(a/ae>>0)-le&255;return c+C},r.prototype.writeIntBE=function(a,c,C,D){if(a=+a,c=c>>>0,!D){var J=Math.pow(2,8*C-1);re(this,a,c,C,J-1,-J)}var te=C-1,ae=1,le=0;for(this[c+te]=a&255;--te>=0&&(ae*=256);)a<0&&le===0&&this[c+te+1]!==0&&(le=1),this[c+te]=(a/ae>>0)-le&255;return c+C},r.prototype.writeInt8=function(a,c,C){return a=+a,c=c>>>0,C||re(this,a,c,1,127,-128),a<0&&(a=255+a+1),this[c]=a&255,c+1},r.prototype.writeInt16LE=function(a,c,C){return a=+a,c=c>>>0,C||re(this,a,c,2,32767,-32768),this[c]=a&255,this[c+1]=a>>>8,c+2},r.prototype.writeInt16BE=function(a,c,C){return a=+a,c=c>>>0,C||re(this,a,c,2,32767,-32768),this[c]=a>>>8,this[c+1]=a&255,c+2},r.prototype.writeInt32LE=function(a,c,C){return a=+a,c=c>>>0,C||re(this,a,c,4,2147483647,-2147483648),this[c]=a&255,this[c+1]=a>>>8,this[c+2]=a>>>16,this[c+3]=a>>>24,c+4},r.prototype.writeInt32BE=function(a,c,C){return a=+a,c=c>>>0,C||re(this,a,c,4,2147483647,-2147483648),a<0&&(a=4294967295+a+1),this[c]=a>>>24,this[c+1]=a>>>16,this[c+2]=a>>>8,this[c+3]=a&255,c+4};function ee(w,a,c,C,D,J){if(c+C>w.length)throw new RangeError("Index out of range");if(c<0)throw new RangeError("Index out of range")}function se(w,a,c,C,D){return a=+a,c=c>>>0,D||ee(w,a,c,4),p.write(w,a,c,C,23,4),c+4}r.prototype.writeFloatLE=function(a,c,C){return se(this,a,c,!0,C)},r.prototype.writeFloatBE=function(a,c,C){return se(this,a,c,!1,C)};function ie(w,a,c,C,D){return a=+a,c=c>>>0,D||ee(w,a,c,8),p.write(w,a,c,C,52,8),c+8}r.prototype.writeDoubleLE=function(a,c,C){return ie(this,a,c,!0,C)},r.prototype.writeDoubleBE=function(a,c,C){return ie(this,a,c,!1,C)},r.prototype.copy=function(a,c,C,D){if(!r.isBuffer(a))throw new TypeError("argument should be a Buffer");if(C||(C=0),!D&&D!==0&&(D=this.length),c>=a.length&&(c=a.length),c||(c=0),D>0&&D<C&&(D=C),D===C||a.length===0||this.length===0)return 0;if(c<0)throw new RangeError("targetStart out of bounds");if(C<0||C>=this.length)throw new RangeError("Index out of range");if(D<0)throw new RangeError("sourceEnd out of bounds");D>this.length&&(D=this.length),a.length-c<D-C&&(D=a.length-c+C);var J=D-C;if(this===a&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(c,C,D);else if(this===a&&C<c&&c<D)for(var te=J-1;te>=0;--te)a[te+c]=this[te+C];else Uint8Array.prototype.set.call(a,this.subarray(C,D),c);return J},r.prototype.fill=function(a,c,C,D){if(typeof a=="string"){if(typeof c=="string"?(D=c,c=0,C=this.length):typeof C=="string"&&(D=C,C=this.length),D!==void 0&&typeof D!="string")throw new TypeError("encoding must be a string");if(typeof D=="string"&&!r.isEncoding(D))throw new TypeError("Unknown encoding: "+D);if(a.length===1){var J=a.charCodeAt(0);(D==="utf8"&&J<128||D==="latin1")&&(a=J)}}else typeof a=="number"&&(a=a&255);if(c<0||this.length<c||this.length<C)throw new RangeError("Out of range index");if(C<=c)return this;c=c>>>0,C=C===void 0?this.length:C>>>0,a||(a=0);var te;if(typeof a=="number")for(te=c;te<C;++te)this[te]=a;else{var ae=r.isBuffer(a)?a:r.from(a,D),le=ae.length;if(le===0)throw new TypeError('The value "'+a+'" is invalid for argument "value"');for(te=0;te<C-c;++te)this[te+c]=ae[te%le]}return this};var V=/[^+/0-9A-Za-z-_]/g;function U(w){if(w=w.split("=")[0],w=w.trim().replace(V,""),w.length<2)return"";for(;w.length%4!==0;)w=w+"=";return w}function Z(w){return w<16?"0"+w.toString(16):w.toString(16)}function O(w,a){a=a||1/0;for(var c,C=w.length,D=null,J=[],te=0;te<C;++te){if(c=w.charCodeAt(te),c>55295&&c<57344){if(!D){if(c>56319){(a-=3)>-1&&J.push(239,191,189);continue}else if(te+1===C){(a-=3)>-1&&J.push(239,191,189);continue}D=c;continue}if(c<56320){(a-=3)>-1&&J.push(239,191,189),D=c;continue}c=(D-55296<<10|c-56320)+65536}else D&&(a-=3)>-1&&J.push(239,191,189);if(D=null,c<128){if((a-=1)<0)break;J.push(c)}else if(c<2048){if((a-=2)<0)break;J.push(c>>6|192,c&63|128)}else if(c<65536){if((a-=3)<0)break;J.push(c>>12|224,c>>6&63|128,c&63|128)}else if(c<1114112){if((a-=4)<0)break;J.push(c>>18|240,c>>12&63|128,c>>6&63|128,c&63|128)}else throw new Error("Invalid code point")}return J}function P(w){for(var a=[],c=0;c<w.length;++c)a.push(w.charCodeAt(c)&255);return a}function F(w,a){for(var c,C,D,J=[],te=0;te<w.length&&!((a-=2)<0);++te)c=w.charCodeAt(te),C=c>>8,D=c%256,J.push(D),J.push(C);return J}function G(w){return v.toByteArray(U(w))}function X(w,a,c,C){for(var D=0;D<C&&!(D+c>=a.length||D>=w.length);++D)a[D+c]=w[D];return D}function S(w,a){return w instanceof a||w!=null&&w.constructor!=null&&w.constructor.name!=null&&w.constructor.name===a.name}function A(w){return w!==w}}).call(this)}).call(this,x("buffer").Buffer)},{"base64-js":13,buffer:17,ieee754:23}],18:[function(x,K,N){(function(m){(function(){N.formatArgs=p,N.save=h,N.load=s,N.useColors=v,N.storage=t(),N.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),N.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function v(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function p(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+K.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;e.splice(1,0,n,"color: inherit");let f=0,o=0;e[0].replace(/%[a-zA-Z%]/g,y=>{y!=="%%"&&(f++,y==="%c"&&(o=f))}),e.splice(o,0,n)}N.log=console.debug||console.log||(()=>{});function h(e){try{e?N.storage.setItem("debug",e):N.storage.removeItem("debug")}catch{}}function s(){let e;try{e=N.storage.getItem("debug")}catch{}return!e&&typeof m<"u"&&"env"in m&&(e=m.env.DEBUG),e}function t(){try{return localStorage}catch{}}K.exports=x("./common")(N);const{formatters:r}=K.exports;r.j=function(e){try{return JSON.stringify(e)}catch(n){return"[UnexpectedJSONParseError]: "+n.message}}}).call(this)}).call(this,x("_process"))},{"./common":19,_process:50}],19:[function(x,K,N){function m(v){h.debug=h,h.default=h,h.coerce=f,h.disable=r,h.enable=t,h.enabled=e,h.humanize=x("ms"),h.destroy=o,Object.keys(v).forEach(y=>{h[y]=v[y]}),h.names=[],h.skips=[],h.formatters={};function p(y){let d=0;for(let u=0;u<y.length;u++)d=(d<<5)-d+y.charCodeAt(u),d|=0;return h.colors[Math.abs(d)%h.colors.length]}h.selectColor=p;function h(y){let d,u=null,i,g;function E(...k){if(!E.enabled)return;const M=E,L=Number(new Date),R=L-(d||L);M.diff=R,M.prev=d,M.curr=L,d=L,k[0]=h.coerce(k[0]),typeof k[0]!="string"&&k.unshift("%O");let H=0;k[0]=k[0].replace(/%([a-zA-Z%])/g,(_,b)=>{if(_==="%%")return"%";H++;const B=h.formatters[b];if(typeof B=="function"){const z=k[H];_=B.call(M,z),k.splice(H,1),H--}return _}),h.formatArgs.call(M,k),(M.log||h.log).apply(M,k)}return E.namespace=y,E.useColors=h.useColors(),E.color=h.selectColor(y),E.extend=s,E.destroy=h.destroy,Object.defineProperty(E,"enabled",{enumerable:!0,configurable:!1,get:()=>u!==null?u:(i!==h.namespaces&&(i=h.namespaces,g=h.enabled(y)),g),set:k=>{u=k}}),typeof h.init=="function"&&h.init(E),E}function s(y,d){const u=h(this.namespace+(typeof d>"u"?":":d)+y);return u.log=this.log,u}function t(y){h.save(y),h.namespaces=y,h.names=[],h.skips=[];let d;const u=(typeof y=="string"?y:"").split(/[\s,]+/),i=u.length;for(d=0;d<i;d++)u[d]&&(y=u[d].replace(/\*/g,".*?"),y[0]==="-"?h.skips.push(new RegExp("^"+y.substr(1)+"$")):h.names.push(new RegExp("^"+y+"$")))}function r(){const y=[...h.names.map(n),...h.skips.map(n).map(d=>"-"+d)].join(",");return h.enable(""),y}function e(y){if(y[y.length-1]==="*")return!0;let d,u;for(d=0,u=h.skips.length;d<u;d++)if(h.skips[d].test(y))return!1;for(d=0,u=h.names.length;d<u;d++)if(h.names[d].test(y))return!0;return!1}function n(y){return y.toString().substring(2,y.toString().length-2).replace(/\.\*\?$/,"*")}function f(y){return y instanceof Error?y.stack||y.message:y}function o(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return h.enable(h.load()),h}K.exports=m},{ms:45}],20:[function(x,K,N){(function(m,v){(function(){var p=x("readable-stream"),h=x("end-of-stream"),s=x("inherits"),t=x("stream-shift"),r=v.from&&v.from!==Uint8Array.from?v.from([0]):new v([0]),e=function(i,g){i._corked?i.once("uncork",g):g()},n=function(i,g){i._autoDestroy&&i.destroy(g)},f=function(i,g){return function(E){E?n(i,E.message==="premature close"?null:E):g&&!i._ended&&i.end()}},o=function(i,g){if(!i||i._writableState&&i._writableState.finished)return g();if(i._writableState)return i.end(g);i.end(),g()},y=function(){},d=function(i){return new p.Readable({objectMode:!0,highWaterMark:16}).wrap(i)},u=function(i,g,E){if(!(this instanceof u))return new u(i,g,E);p.Duplex.call(this,E),this._writable=null,this._readable=null,this._readable2=null,this._autoDestroy=!E||E.autoDestroy!==!1,this._forwardDestroy=!E||E.destroy!==!1,this._forwardEnd=!E||E.end!==!1,this._corked=1,this._ondrain=null,this._drained=!1,this._forwarding=!1,this._unwrite=null,this._unread=null,this._ended=!1,this.destroyed=!1,i&&this.setWritable(i),g&&this.setReadable(g)};s(u,p.Duplex),u.obj=function(i,g,E){return E||(E={}),E.objectMode=!0,E.highWaterMark=16,new u(i,g,E)},u.prototype.cork=function(){++this._corked===1&&this.emit("cork")},u.prototype.uncork=function(){this._corked&&--this._corked===0&&this.emit("uncork")},u.prototype.setWritable=function(i){if(this._unwrite&&this._unwrite(),this.destroyed){i&&i.destroy&&i.destroy();return}if(i===null||i===!1){this.end();return}var g=this,E=h(i,{writable:!0,readable:!1},f(this,this._forwardEnd)),k=function(){var L=g._ondrain;g._ondrain=null,L&&L()},M=function(){g._writable.removeListener("drain",k),E()};this._unwrite&&m.nextTick(k),this._writable=i,this._writable.on("drain",k),this._unwrite=M,this.uncork()},u.prototype.setReadable=function(i){if(this._unread&&this._unread(),this.destroyed){i&&i.destroy&&i.destroy();return}if(i===null||i===!1){this.push(null),this.resume();return}var g=this,E=h(i,{writable:!1,readable:!0},f(this)),k=function(){g._forward()},M=function(){g.push(null)},L=function(){g._readable2.removeListener("readable",k),g._readable2.removeListener("end",M),E()};this._drained=!0,this._readable=i,this._readable2=i._readableState?i:d(i),this._readable2.on("readable",k),this._readable2.on("end",M),this._unread=L,this._forward()},u.prototype._read=function(){this._drained=!0,this._forward()},u.prototype._forward=function(){if(!(this._forwarding||!this._readable2||!this._drained)){this._forwarding=!0;for(var i;this._drained&&(i=t(this._readable2))!==null;)this.destroyed||(this._drained=this.push(i));this._forwarding=!1}},u.prototype.destroy=function(i,g){if(g||(g=y),this.destroyed)return g(null);this.destroyed=!0;var E=this;m.nextTick(function(){E._destroy(i),g(null)})},u.prototype._destroy=function(i){if(i){var g=this._ondrain;this._ondrain=null,g?g(i):this.emit("error",i)}this._forwardDestroy&&(this._readable&&this._readable.destroy&&this._readable.destroy(),this._writable&&this._writable.destroy&&this._writable.destroy()),this.emit("close")},u.prototype._write=function(i,g,E){if(!this.destroyed){if(this._corked)return e(this,this._write.bind(this,i,g,E));if(i===r)return this._finish(E);if(!this._writable)return E();this._writable.write(i)===!1?this._ondrain=E:this.destroyed||E()}},u.prototype._finish=function(i){var g=this;this.emit("preend"),e(this,function(){o(g._forwardEnd&&g._writable,function(){g._writableState.prefinished===!1&&(g._writableState.prefinished=!0),g.emit("prefinish"),e(g,i)})})},u.prototype.end=function(i,g,E){return typeof i=="function"?this.end(null,null,i):typeof g=="function"?this.end(i,null,g):(this._ended=!0,i&&this.write(i),!this._writableState.ending&&!this._writableState.destroyed&&this.write(r),p.Writable.prototype.end.call(this,E))},K.exports=u}).call(this)}).call(this,x("_process"),x("buffer").Buffer)},{_process:50,buffer:17,"end-of-stream":21,inherits:24,"readable-stream":69,"stream-shift":74}],21:[function(x,K,N){(function(m){(function(){var v=x("once"),p=function(){},h=function(r){return r.setHeader&&typeof r.abort=="function"},s=function(r){return r.stdio&&Array.isArray(r.stdio)&&r.stdio.length===3},t=function(r,e,n){if(typeof e=="function")return t(r,null,e);e||(e={}),n=v(n||p);var f=r._writableState,o=r._readableState,y=e.readable||e.readable!==!1&&r.readable,d=e.writable||e.writable!==!1&&r.writable,u=!1,i=function(){r.writable||g()},g=function(){d=!1,y||n.call(r)},E=function(){y=!1,d||n.call(r)},k=function(l){n.call(r,l?new Error("exited with error code: "+l):null)},M=function(l){n.call(r,l)},L=function(){m.nextTick(R)},R=function(){if(!u){if(y&&!(o&&o.ended&&!o.destroyed))return n.call(r,new Error("premature close"));if(d&&!(f&&f.ended&&!f.destroyed))return n.call(r,new Error("premature close"))}},H=function(){r.req.on("finish",g)};return h(r)?(r.on("complete",g),r.on("abort",L),r.req?H():r.on("request",H)):d&&!f&&(r.on("end",i),r.on("close",i)),s(r)&&r.on("exit",k),r.on("end",E),r.on("finish",g),e.error!==!1&&r.on("error",M),r.on("close",L),function(){u=!0,r.removeListener("complete",g),r.removeListener("abort",L),r.removeListener("request",H),r.req&&r.req.removeListener("finish",g),r.removeListener("end",i),r.removeListener("close",i),r.removeListener("finish",g),r.removeListener("exit",k),r.removeListener("end",E),r.removeListener("error",M),r.removeListener("close",L)}};K.exports=t}).call(this)}).call(this,x("_process"))},{_process:50,once:48}],22:[function(x,K,N){var m=Object.create||H,v=Object.keys||l,p=Function.prototype.bind||_;function h(){(!this._events||!Object.prototype.hasOwnProperty.call(this,"_events"))&&(this._events=m(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}K.exports=h,h.EventEmitter=h,h.prototype._events=void 0,h.prototype._maxListeners=void 0;var s=10,t;try{var r={};Object.defineProperty&&Object.defineProperty(r,"x",{value:0}),t=r.x===0}catch{t=!1}t?Object.defineProperty(h,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(b){if(typeof b!="number"||b<0||b!==b)throw new TypeError('"defaultMaxListeners" must be a positive number');s=b}}):h.defaultMaxListeners=s,h.prototype.setMaxListeners=function(B){if(typeof B!="number"||B<0||isNaN(B))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=B,this};function e(b){return b._maxListeners===void 0?h.defaultMaxListeners:b._maxListeners}h.prototype.getMaxListeners=function(){return e(this)};function n(b,B,z){if(B)b.call(z);else for(var q=b.length,Y=L(b,q),T=0;T<q;++T)Y[T].call(z)}function f(b,B,z,q){if(B)b.call(z,q);else for(var Y=b.length,T=L(b,Y),I=0;I<Y;++I)T[I].call(z,q)}function o(b,B,z,q,Y){if(B)b.call(z,q,Y);else for(var T=b.length,I=L(b,T),j=0;j<T;++j)I[j].call(z,q,Y)}function y(b,B,z,q,Y,T){if(B)b.call(z,q,Y,T);else for(var I=b.length,j=L(b,I),$=0;$<I;++$)j[$].call(z,q,Y,T)}function d(b,B,z,q){if(B)b.apply(z,q);else for(var Y=b.length,T=L(b,Y),I=0;I<Y;++I)T[I].apply(z,q)}h.prototype.emit=function(B){var z,q,Y,T,I,j,$=B==="error";if(j=this._events,j)$=$&&j.error==null;else if(!$)return!1;if($){if(arguments.length>1&&(z=arguments[1]),z instanceof Error)throw z;var oe=new Error('Unhandled "error" event. ('+z+")");throw oe.context=z,oe}if(q=j[B],!q)return!1;var ne=typeof q=="function";switch(Y=arguments.length,Y){case 1:n(q,ne,this);break;case 2:f(q,ne,this,arguments[1]);break;case 3:o(q,ne,this,arguments[1],arguments[2]);break;case 4:y(q,ne,this,arguments[1],arguments[2],arguments[3]);break;default:for(T=new Array(Y-1),I=1;I<Y;I++)T[I-1]=arguments[I];d(q,ne,this,T)}return!0};function u(b,B,z,q){var Y,T,I;if(typeof z!="function")throw new TypeError('"listener" argument must be a function');if(T=b._events,T?(T.newListener&&(b.emit("newListener",B,z.listener?z.listener:z),T=b._events),I=T[B]):(T=b._events=m(null),b._eventsCount=0),!I)I=T[B]=z,++b._eventsCount;else if(typeof I=="function"?I=T[B]=q?[z,I]:[I,z]:q?I.unshift(z):I.push(z),!I.warned&&(Y=e(b),Y&&Y>0&&I.length>Y)){I.warned=!0;var j=new Error("Possible EventEmitter memory leak detected. "+I.length+' "'+String(B)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');j.name="MaxListenersExceededWarning",j.emitter=b,j.type=B,j.count=I.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",j.name,j.message)}return b}h.prototype.addListener=function(B,z){return u(this,B,z,!1)},h.prototype.on=h.prototype.addListener,h.prototype.prependListener=function(B,z){return u(this,B,z,!0)};function i(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var b=new Array(arguments.length),B=0;B<b.length;++B)b[B]=arguments[B];this.listener.apply(this.target,b)}}function g(b,B,z){var q={fired:!1,wrapFn:void 0,target:b,type:B,listener:z},Y=p.call(i,q);return Y.listener=z,q.wrapFn=Y,Y}h.prototype.once=function(B,z){if(typeof z!="function")throw new TypeError('"listener" argument must be a function');return this.on(B,g(this,B,z)),this},h.prototype.prependOnceListener=function(B,z){if(typeof z!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(B,g(this,B,z)),this},h.prototype.removeListener=function(B,z){var q,Y,T,I,j;if(typeof z!="function")throw new TypeError('"listener" argument must be a function');if(Y=this._events,!Y)return this;if(q=Y[B],!q)return this;if(q===z||q.listener===z)--this._eventsCount===0?this._events=m(null):(delete Y[B],Y.removeListener&&this.emit("removeListener",B,q.listener||z));else if(typeof q!="function"){for(T=-1,I=q.length-1;I>=0;I--)if(q[I]===z||q[I].listener===z){j=q[I].listener,T=I;break}if(T<0)return this;T===0?q.shift():M(q,T),q.length===1&&(Y[B]=q[0]),Y.removeListener&&this.emit("removeListener",B,j||z)}return this},h.prototype.removeAllListeners=function(B){var z,q,Y;if(q=this._events,!q)return this;if(!q.removeListener)return arguments.length===0?(this._events=m(null),this._eventsCount=0):q[B]&&(--this._eventsCount===0?this._events=m(null):delete q[B]),this;if(arguments.length===0){var T=v(q),I;for(Y=0;Y<T.length;++Y)I=T[Y],I!=="removeListener"&&this.removeAllListeners(I);return this.removeAllListeners("removeListener"),this._events=m(null),this._eventsCount=0,this}if(z=q[B],typeof z=="function")this.removeListener(B,z);else if(z)for(Y=z.length-1;Y>=0;Y--)this.removeListener(B,z[Y]);return this};function E(b,B,z){var q=b._events;if(!q)return[];var Y=q[B];return Y?typeof Y=="function"?z?[Y.listener||Y]:[Y]:z?R(Y):L(Y,Y.length):[]}h.prototype.listeners=function(B){return E(this,B,!0)},h.prototype.rawListeners=function(B){return E(this,B,!1)},h.listenerCount=function(b,B){return typeof b.listenerCount=="function"?b.listenerCount(B):k.call(b,B)},h.prototype.listenerCount=k;function k(b){var B=this._events;if(B){var z=B[b];if(typeof z=="function")return 1;if(z)return z.length}return 0}h.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};function M(b,B){for(var z=B,q=z+1,Y=b.length;q<Y;z+=1,q+=1)b[z]=b[q];b.pop()}function L(b,B){for(var z=new Array(B),q=0;q<B;++q)z[q]=b[q];return z}function R(b){for(var B=new Array(b.length),z=0;z<B.length;++z)B[z]=b[z].listener||b[z];return B}function H(b){var B=function(){};return B.prototype=b,new B}function l(b){for(var B in b)Object.prototype.hasOwnProperty.call(b,B);return B}function _(b){var B=this;return function(){return B.apply(b,arguments)}}},{}],23:[function(x,K,N){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */N.read=function(m,v,p,h,s){var t,r,e=s*8-h-1,n=(1<<e)-1,f=n>>1,o=-7,y=p?s-1:0,d=p?-1:1,u=m[v+y];for(y+=d,t=u&(1<<-o)-1,u>>=-o,o+=e;o>0;t=t*256+m[v+y],y+=d,o-=8);for(r=t&(1<<-o)-1,t>>=-o,o+=h;o>0;r=r*256+m[v+y],y+=d,o-=8);if(t===0)t=1-f;else{if(t===n)return r?NaN:(u?-1:1)*(1/0);r=r+Math.pow(2,h),t=t-f}return(u?-1:1)*r*Math.pow(2,t-h)},N.write=function(m,v,p,h,s,t){var r,e,n,f=t*8-s-1,o=(1<<f)-1,y=o>>1,d=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,u=h?0:t-1,i=h?1:-1,g=v<0||v===0&&1/v<0?1:0;for(v=Math.abs(v),isNaN(v)||v===1/0?(e=isNaN(v)?1:0,r=o):(r=Math.floor(Math.log(v)/Math.LN2),v*(n=Math.pow(2,-r))<1&&(r--,n*=2),r+y>=1?v+=d/n:v+=d*Math.pow(2,1-y),v*n>=2&&(r++,n/=2),r+y>=o?(e=0,r=o):r+y>=1?(e=(v*n-1)*Math.pow(2,s),r=r+y):(e=v*Math.pow(2,y-1)*Math.pow(2,s),r=0));s>=8;m[p+u]=e&255,u+=i,e/=256,s-=8);for(r=r<<s|e,f+=s;f>0;m[p+u]=r&255,u+=i,r/=256,f-=8);m[p+u-i]|=g*128}},{}],24:[function(x,K,N){typeof Object.create=="function"?K.exports=function(v,p){p&&(v.super_=p,v.prototype=Object.create(p.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}))}:K.exports=function(v,p){if(p){v.super_=p;var h=function(){};h.prototype=p.prototype,v.prototype=new h,v.prototype.constructor=v}}},{}],25:[function(x,K,N){Object.defineProperty(N,"__esModule",{value:!0});var m=function(){function v(p,h){this.color=!0,this.key=void 0,this.value=void 0,this.parent=void 0,this.brother=void 0,this.leftChild=void 0,this.rightChild=void 0,this.key=p,this.value=h}return v.prototype.rotateLeft=function(){var p=this.parent,h=this.brother,s=this.leftChild,t=this.rightChild;if(!t)throw new Error("unknown error");var r=t.leftChild,e=t.rightChild;return p&&(p.leftChild===this?p.leftChild=t:p.rightChild===this&&(p.rightChild=t)),t.parent=p,t.brother=h,t.leftChild=this,t.rightChild=e,h&&(h.brother=t),this.parent=t,this.brother=e,this.leftChild=s,this.rightChild=r,e&&(e.parent=t,e.brother=this),s&&(s.parent=this,s.brother=r),r&&(r.parent=this,r.brother=s),t},v.prototype.rotateRight=function(){var p=this.parent,h=this.brother,s=this.leftChild;if(!s)throw new Error("unknown error");var t=this.rightChild,r=s.leftChild,e=s.rightChild;return p&&(p.leftChild===this?p.leftChild=s:p.rightChild===this&&(p.rightChild=s)),s.parent=p,s.brother=h,s.leftChild=r,s.rightChild=this,h&&(h.brother=s),r&&(r.parent=s,r.brother=this),this.parent=s,this.brother=r,this.leftChild=e,this.rightChild=t,e&&(e.parent=this,e.brother=t),t&&(t.parent=this,t.brother=e),s},v.prototype.remove=function(){if(this.leftChild||this.rightChild)throw new Error("can only remove leaf node");this.parent&&(this===this.parent.leftChild?this.parent.leftChild=void 0:this===this.parent.rightChild&&(this.parent.rightChild=void 0)),this.brother&&(this.brother.brother=void 0),this.key=void 0,this.value=void 0,this.parent=void 0,this.brother=void 0},v.TreeNodeColorType={red:!0,black:!1},v}();Object.freeze(m),N.default=m},{}],26:[function(x,K,N){var m=this&&this.__generator||function(p,h){var s={label:0,sent:function(){if(e[0]&1)throw e[1];return e[1]},trys:[],ops:[]},t,r,e,n;return n={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(n[Symbol.iterator]=function(){return this}),n;function f(y){return function(d){return o([y,d])}}function o(y){if(t)throw new TypeError("Generator is already executing.");for(;s;)try{if(t=1,r&&(e=y[0]&2?r.return:y[0]?r.throw||((e=r.return)&&e.call(r),0):r.next)&&!(e=e.call(r,y[1])).done)return e;switch(r=0,e&&(y=[y[0]&2,e.value]),y[0]){case 0:case 1:e=y;break;case 4:return s.label++,{value:y[1],done:!1};case 5:s.label++,r=y[1],y=[0];continue;case 7:y=s.ops.pop(),s.trys.pop();continue;default:if(e=s.trys,!(e=e.length>0&&e[e.length-1])&&(y[0]===6||y[0]===2)){s=0;continue}if(y[0]===3&&(!e||y[1]>e[0]&&y[1]<e[3])){s.label=y[1];break}if(y[0]===6&&s.label<e[1]){s.label=e[1],e=y;break}if(e&&s.label<e[2]){s.label=e[2],s.ops.push(y);break}e[2]&&s.ops.pop(),s.trys.pop();continue}y=h.call(p,s)}catch(d){y=[6,d],r=0}finally{t=e=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}};Object.defineProperty(N,"__esModule",{value:!0}),v.sigma=3,v.bucketSize=5e3;function v(p){var h=this;p===void 0&&(p=[]);var s=[],t=0,r=0,e=0,n=0,f=0,o=0;this.size=function(){return o},this.empty=function(){return o===0},this.clear=function(){t=e=r=n=f=o=0,d.call(this,v.bucketSize),o=0},this.front=function(){return s[t][r]},this.back=function(){return s[e][n]},this.forEach=function(u){if(!this.empty()){var i=0;if(t===e){for(var g=r;g<=n;++g)u(s[t][g],i++);return}for(var g=r;g<v.bucketSize;++g)u(s[t][g],i++);for(var g=t+1;g<e;++g)for(var E=0;E<v.bucketSize;++E)u(s[g][E],i++);for(var g=0;g<=n;++g)u(s[e][g],i++)}};var y=function(u){var i=t*v.bucketSize+r,g=i+u,E=e*v.bucketSize+n;if(g<i||g>E)throw new Error("pos should more than 0 and less than queue's size");var k=Math.floor(g/v.bucketSize),M=g%v.bucketSize;return{curNodeBucketIndex:k,curNodePointerIndex:M}};this.getElementByPos=function(u){var i=y(u),g=i.curNodeBucketIndex,E=i.curNodePointerIndex;return s[g][E]},this.eraseElementByPos=function(u){var i=this;if(u<0||u>o)throw new Error("pos should more than 0 and less than queue's size");if(u===0)this.popFront();else if(u===this.size())this.popBack();else{for(var g=[],E=u+1;E<o;++E)g.push(this.getElementByPos(E));this.cut(u),this.popBack(),g.forEach(function(k){return i.pushBack(k)})}},this.eraseElementByValue=function(u){if(!this.empty()){var i=[];this.forEach(function(k){k!==u&&i.push(k)});for(var g=i.length,E=0;E<g;++E)this.setElementByPos(E,i[E]);this.cut(g-1)}};var d=function(u){for(var i=[],g=u*v.sigma,E=Math.max(Math.ceil(g/v.bucketSize),2),k=0;k<E;++k)i.push(new Array(v.bucketSize));var M=Math.ceil(u/v.bucketSize),L=Math.floor(E/2)-Math.floor(M/2),R=L,H=0;if(this.size())for(var k=0;k<M;++k){for(var l=0;l<v.bucketSize;++l)if(i[L+k][l]=this.front(),this.popFront(),this.empty()){R=L+k,H=l;break}if(this.empty())break}s=i,t=L,r=0,e=R,n=H,f=E,o=u};this.pushBack=function(u){this.empty()||(e===f-1&&n===v.bucketSize-1&&d.call(this,this.size()),n<v.bucketSize-1?++n:e<f-1&&(++e,n=0)),++o,s[e][n]=u},this.popBack=function(){this.empty()||(this.size()!==1&&(n>0?--n:t<e&&(--e,n=v.bucketSize-1)),o>0&&--o)},this.setElementByPos=function(u,i){var g=y(u),E=g.curNodeBucketIndex,k=g.curNodePointerIndex;s[E][k]=i},this.insert=function(u,i,g){var E=this;if(g===void 0&&(g=1),u===0)for(;g--;)this.pushFront(i);else if(u===this.size())for(;g--;)this.pushBack(i);else{for(var k=[],M=u;M<o;++M)k.push(this.getElementByPos(M));this.cut(u-1);for(var M=0;M<g;++M)this.pushBack(i);k.forEach(function(L){return E.pushBack(L)})}},this.find=function(u){if(t===e){for(var i=r;i<=n;++i)if(s[t][i]===u)return!0;return!1}for(var i=r;i<v.bucketSize;++i)if(s[t][i]===u)return!0;for(var i=t+1;i<e;++i)for(var g=0;g<v.bucketSize;++g)if(s[i][g]===u)return!0;for(var i=0;i<=n;++i)if(s[e][i]===u)return!0;return!1},this.reverse=function(){for(var u=0,i=o-1;u<i;){var g=this.getElementByPos(u);this.setElementByPos(u,this.getElementByPos(i)),this.setElementByPos(i,g),++u,--i}},this.unique=function(){if(!this.empty()){var u=[],i=this.front();this.forEach(function(E,k){(k===0||E!==i)&&(u.push(E),i=E)});for(var g=0;g<o;++g)this.setElementByPos(g,u[g]);this.cut(u.length-1)}},this.sort=function(u){var i=[];this.forEach(function(E){i.push(E)}),i.sort(u);for(var g=0;g<o;++g)this.setElementByPos(g,i[g])},this.pushFront=function(u){this.empty()||(t===0&&r===0&&d.call(this,this.size()),r>0?--r:t>0&&(--t,r=v.bucketSize-1)),++o,s[t][r]=u},this.popFront=function(){this.empty()||(this.size()!==1&&(r<v.bucketSize-1?++r:t<e&&(++t,r=0)),o>0&&--o)},this.shrinkToFit=function(){var u=this,i=[];this.forEach(function(M){i.push(M)});var g=i.length;s=[];for(var E=Math.ceil(g/v.bucketSize),k=0;k<E;++k)s.push(new Array(v.bucketSize));this.clear(),i.forEach(function(M){return u.pushBack(M)})},this.cut=function(u){if(u<0){this.clear();return}var i=y(u),g=i.curNodeBucketIndex,E=i.curNodePointerIndex;e=g,n=E,o=u+1},this[Symbol.iterator]=function(){return function(){var i,i,i,u,i;return m(this,function(g){switch(g.label){case 0:if(o===0)return[2];if(t!==e)return[3,5];i=r,g.label=1;case 1:return i<=n?[4,s[t][i]]:[3,4];case 2:g.sent(),g.label=3;case 3:return++i,[3,1];case 4:return[2];case 5:i=r,g.label=6;case 6:return i<v.bucketSize?[4,s[t][i]]:[3,9];case 7:g.sent(),g.label=8;case 8:return++i,[3,6];case 9:i=t+1,g.label=10;case 10:if(!(i<e))return[3,15];u=0,g.label=11;case 11:return u<v.bucketSize?[4,s[i][u]]:[3,14];case 12:g.sent(),g.label=13;case 13:return++u,[3,11];case 14:return++i,[3,10];case 15:i=0,g.label=16;case 16:return i<=n?[4,s[e][i]]:[3,19];case 17:g.sent(),g.label=18;case 18:return++i,[3,16];case 19:return[2]}})}()},function(){var u=v.bucketSize;p.size?u=p.size():p.length&&(u=p.length);var i=u*v.sigma;f=Math.ceil(i/v.bucketSize),f=Math.max(f,3);for(var g=0;g<f;++g)s.push(new Array(v.bucketSize));var E=Math.ceil(u/v.bucketSize);t=Math.floor(f/2)-Math.floor(E/2),e=t,p.forEach(function(k){return h.pushBack(k)})}(),Object.freeze(this)}Object.freeze(v),N.default=v},{}],27:[function(x,K,N){var m=this&&this.__generator||function(t,r){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,f,o,y;return y={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function d(i){return function(g){return u([i,g])}}function u(i){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,f&&(o=i[0]&2?f.return:i[0]?f.throw||((o=f.return)&&o.call(f),0):f.next)&&!(o=o.call(f,i[1])).done)return o;switch(f=0,o&&(i=[i[0]&2,o.value]),i[0]){case 0:case 1:o=i;break;case 4:return e.label++,{value:i[1],done:!1};case 5:e.label++,f=i[1],i=[0];continue;case 7:i=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(i[0]===6||i[0]===2)){e=0;continue}if(i[0]===3&&(!o||i[1]>o[0]&&i[1]<o[3])){e.label=i[1];break}if(i[0]===6&&e.label<o[1]){e.label=o[1],o=i;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(i);break}o[2]&&e.ops.pop(),e.trys.pop();continue}i=r.call(t,e)}catch(g){i=[6,g],f=0}finally{n=o=0}if(i[0]&5)throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},v=this&&this.__values||function(t){var r=typeof Symbol=="function"&&Symbol.iterator,e=r&&t[r],n=0;if(e)return e.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(N,"__esModule",{value:!0});var p=x("../LinkList/LinkList"),h=x("../Map/Map");s.initSize=16,s.maxSize=1<<30,s.sigma=.75,s.treeifyThreshold=8,s.untreeifyThreshold=6,s.minTreeifySize=64;function s(t,r,e){var n=this;if(t===void 0&&(t=[]),r===void 0&&(r=s.initSize),e=e||function(u){var i,g,E=0,k="";if(typeof u=="number")E=Math.floor(u),E=(E<<5)-E,E=E&E;else{typeof u!="string"?k=JSON.stringify(u):k=u;try{for(var M=v(k),L=M.next();!L.done;L=M.next()){var R=L.value,H=R.charCodeAt(0);E=(E<<5)-E+H,E=E&E}}catch(l){i={error:l}}finally{try{L&&!L.done&&(g=M.return)&&g.call(M)}finally{if(i)throw i.error}}}return E^=E>>>16,E},r&r-1)throw new Error("initBucketNum must be 2 to the power of n");var f=0,o=[],y=Math.max(s.initSize,Math.min(s.maxSize,r));this.size=function(){return f},this.empty=function(){return f===0},this.clear=function(){f=0,y=r,o=[]},this.forEach=function(u){var i=0;o.forEach(function(g){g.forEach(function(E){u(E,i++)})})};var d=function(u){if(!(u>=s.maxSize)){y=u*2;var i=[];o.forEach(function(g,E){if(!g.empty()){if(g instanceof p.default&&g.size()===1){var k=g.front(),M=k.key,L=k.value;i[e(M)&y-1]=new p.default([{key:M,value:L}])}else if(g instanceof h.default){var R=new p.default,H=new p.default;g.forEach(function(b){var B=e(b.key);B&u?H.pushBack(b):R.pushBack(b)}),R.size()>s.untreeifyThreshold?i[E]=new h.default(R):R.size()&&(i[E]=R),H.size()>s.untreeifyThreshold?i[E+u]=new h.default(H):H.size()&&(i[E+u]=H)}else{var l=new p.default,_=new p.default;g.forEach(function(b){var B=e(b.key);B&u?_.pushBack(b):l.pushBack(b)}),l.size()&&(i[E]=l),_.size()&&(i[E+u]=_)}o[E].clear()}}),o=i}};this.setElement=function(u,i){var g,E;if(u==null)throw new Error("to avoid some unnecessary errors, we don't suggest you insert null or undefined here");if(i==null){this.eraseElementByKey(u);return}var k=e(u)&y-1;if(!o[k])++f,o[k]=new p.default([{key:u,value:i}]);else{var M=o[k].size();if(o[k]instanceof p.default){try{for(var L=v(o[k]),R=L.next();!R.done;R=L.next()){var H=R.value;if(H.key===u){H.value=i;return}}}catch(_){g={error:_}}finally{try{R&&!R.done&&(E=L.return)&&E.call(L)}finally{if(g)throw g.error}}o[k].pushBack({key:u,value:i}),o[k].size()>=s.treeifyThreshold&&(o[k]=new h.default(o[k]))}else o[k].setElement(u,i);var l=o[k].size();f+=l-M}f>y*s.sigma&&d.call(this,y)},this.getElementByKey=function(u){var i,g,E=e(u)&y-1;if(o[E]){if(o[E]instanceof h.default)return o[E].getElementByKey(u);try{for(var k=v(o[E]),M=k.next();!M.done;M=k.next()){var L=M.value;if(L.key===u)return L.value}}catch(R){i={error:R}}finally{try{M&&!M.done&&(g=k.return)&&g.call(k)}finally{if(i)throw i.error}}}},this.eraseElementByKey=function(u){var i,g,E=e(u)&y-1;if(o[E]){var k=o[E].size();if(o[E]instanceof h.default)o[E].eraseElementByKey(u),o[E].size()<=s.untreeifyThreshold&&(o[E]=new p.default(o[E]));else{var M=-1;try{for(var L=v(o[E]),R=L.next();!R.done;R=L.next()){var H=R.value;if(++M,H.key===u){o[E].eraseElementByPos(M);break}}}catch(_){i={error:_}}finally{try{R&&!R.done&&(g=L.return)&&g.call(L)}finally{if(i)throw i.error}}}var l=o[E].size();f+=l-k}},this.find=function(u){var i,g,E=e(u)&y-1;if(!o[E])return!1;if(o[E]instanceof h.default)return o[E].find(u);try{for(var k=v(o[E]),M=k.next();!M.done;M=k.next()){var L=M.value;if(L.key===u)return!0}}catch(R){i={error:R}}finally{try{M&&!M.done&&(g=k.return)&&g.call(k)}finally{if(i)throw i.error}}return!1},this[Symbol.iterator]=function(){return function(){var u,i,g,E,k,M,L;return m(this,function(R){switch(R.label){case 0:u=0,R.label=1;case 1:if(!(u<y))return[3,10];for(;u<y&&!o[u];)++u;if(u>=y)return[3,10];R.label=2;case 2:R.trys.push([2,7,8,9]),i=(M=void 0,v(o[u])),g=i.next(),R.label=3;case 3:return g.done?[3,6]:(E=g.value,[4,E]);case 4:R.sent(),R.label=5;case 5:return g=i.next(),[3,3];case 6:return[3,9];case 7:return k=R.sent(),M={error:k},[3,9];case 8:try{g&&!g.done&&(L=i.return)&&L.call(i)}finally{if(M)throw M.error}return[7];case 9:return++u,[3,1];case 10:return[2]}})}()},t.forEach(function(u){var i=u.key,g=u.value;return n.setElement(i,g)}),Object.freeze(this)}Object.freeze(s),N.default=s},{"../LinkList/LinkList":29,"../Map/Map":30}],28:[function(x,K,N){var m=this&&this.__generator||function(t,r){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,f,o,y;return y={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function d(i){return function(g){return u([i,g])}}function u(i){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,f&&(o=i[0]&2?f.return:i[0]?f.throw||((o=f.return)&&o.call(f),0):f.next)&&!(o=o.call(f,i[1])).done)return o;switch(f=0,o&&(i=[i[0]&2,o.value]),i[0]){case 0:case 1:o=i;break;case 4:return e.label++,{value:i[1],done:!1};case 5:e.label++,f=i[1],i=[0];continue;case 7:i=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(i[0]===6||i[0]===2)){e=0;continue}if(i[0]===3&&(!o||i[1]>o[0]&&i[1]<o[3])){e.label=i[1];break}if(i[0]===6&&e.label<o[1]){e.label=o[1],o=i;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(i);break}o[2]&&e.ops.pop(),e.trys.pop();continue}i=r.call(t,e)}catch(g){i=[6,g],f=0}finally{n=o=0}if(i[0]&5)throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},v=this&&this.__values||function(t){var r=typeof Symbol=="function"&&Symbol.iterator,e=r&&t[r],n=0;if(e)return e.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(N,"__esModule",{value:!0});var p=x("../Set/Set"),h=x("../LinkList/LinkList");s.initSize=16,s.maxSize=1<<30,s.sigma=.75,s.treeifyThreshold=8,s.untreeifyThreshold=6,s.minTreeifySize=64;function s(t,r,e){var n=this;if(t===void 0&&(t=[]),r===void 0&&(r=s.initSize),e=e||function(u){var i=0,g="";if(typeof u=="number")i=Math.floor(u),i=(i<<5)-i,i=i&i;else{typeof u!="string"?g=JSON.stringify(u):g=u;for(var E=0;E<g.length;E++){var k=g.charCodeAt(E);i=(i<<5)-i+k,i=i&i}}return i^=i>>>16,i},r&r-1)throw new Error("initBucketNum must be 2 to the power of n");var f=0,o=[],y=Math.max(s.initSize,Math.min(s.maxSize,r));this.size=function(){return f},this.empty=function(){return f===0},this.clear=function(){f=0,y=r,o=[]},this.forEach=function(u){var i=0;o.forEach(function(g){g.forEach(function(E){u(E,i++)})})};var d=function(u){if(!(u>=s.maxSize)){y=u*2;var i=[];o.forEach(function(g,E){if(!g.empty()){if(g instanceof h.default&&g.size()===1){var k=g.front();if(k===void 0)throw new Error("unknown error");i[e(k)&y-1]=new h.default([k])}else if(g instanceof p.default){var M=new h.default,L=new h.default;g.forEach(function(l){var _=e(l);_&u?L.pushBack(l):M.pushBack(l)}),M.size()>s.untreeifyThreshold?i[E]=new p.default(M):M.size()&&(i[E]=M),L.size()>s.untreeifyThreshold?i[E+u]=new p.default(L):L.size()&&(i[E+u]=L)}else{var R=new h.default,H=new h.default;g.forEach(function(l){var _=e(l);_&u?H.pushBack(l):R.pushBack(l)}),R.size()&&(i[E]=R),H.size()&&(i[E+u]=H)}o[E].clear()}}),o=i}};this.insert=function(u){if(u==null)throw new Error("to avoid some unnecessary errors, we don't suggest you insert null or undefined here");var i=e(u)&y-1;if(!o[i])o[i]=new h.default([u]),++f;else{var g=o[i].size();if(o[i]instanceof h.default){if(o[i].find(u))return;o[i].pushBack(u),o[i].size()>=s.treeifyThreshold&&(o[i]=new p.default(o[i]))}else o[i].insert(u);var E=o[i].size();f+=E-g}f>y*s.sigma&&d.call(this,y)},this.eraseElementByValue=function(u){var i=e(u)&y-1;if(o[i]){var g=o[i].size();o[i].eraseElementByValue(u),o[i]instanceof p.default&&o[i].size()<=s.untreeifyThreshold&&(o[i]=new h.default(o[i]));var E=o[i].size();f+=E-g}},this.find=function(u){var i=e(u)&y-1;return o[i]?o[i].find(u):!1},this[Symbol.iterator]=function(){return function(){var u,i,g,E,k,M,L;return m(this,function(R){switch(R.label){case 0:u=0,R.label=1;case 1:if(!(u<y))return[3,10];for(;u<y&&!o[u];)++u;if(u>=y)return[3,10];R.label=2;case 2:R.trys.push([2,7,8,9]),i=(M=void 0,v(o[u])),g=i.next(),R.label=3;case 3:return g.done?[3,6]:(E=g.value,[4,E]);case 4:R.sent(),R.label=5;case 5:return g=i.next(),[3,3];case 6:return[3,9];case 7:return k=R.sent(),M={error:k},[3,9];case 8:try{g&&!g.done&&(L=i.return)&&L.call(i)}finally{if(M)throw M.error}return[7];case 9:return++u,[3,1];case 10:return[2]}})}()},t.forEach(function(u){return n.insert(u)}),Object.freeze(this)}Object.freeze(s),N.default=s},{"../LinkList/LinkList":29,"../Set/Set":33}],29:[function(x,K,N){var m=this&&this.__generator||function(h,s){var t={label:0,sent:function(){if(n[0]&1)throw n[1];return n[1]},trys:[],ops:[]},r,e,n,f;return f={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function o(d){return function(u){return y([d,u])}}function y(d){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,e&&(n=d[0]&2?e.return:d[0]?e.throw||((n=e.return)&&n.call(e),0):e.next)&&!(n=n.call(e,d[1])).done)return n;switch(e=0,n&&(d=[d[0]&2,n.value]),d[0]){case 0:case 1:n=d;break;case 4:return t.label++,{value:d[1],done:!1};case 5:t.label++,e=d[1],d=[0];continue;case 7:d=t.ops.pop(),t.trys.pop();continue;default:if(n=t.trys,!(n=n.length>0&&n[n.length-1])&&(d[0]===6||d[0]===2)){t=0;continue}if(d[0]===3&&(!n||d[1]>n[0]&&d[1]<n[3])){t.label=d[1];break}if(d[0]===6&&t.label<n[1]){t.label=n[1],n=d;break}if(n&&t.label<n[2]){t.label=n[2],t.ops.push(d);break}n[2]&&t.ops.pop(),t.trys.pop();continue}d=s.call(h,t)}catch(u){d=[6,u],e=0}finally{r=n=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}};Object.defineProperty(N,"__esModule",{value:!0});var v=function(){function h(s){this.value=void 0,this.pre=void 0,this.next=void 0,this.value=s}return h}();function p(h){var s=this;h===void 0&&(h=[]);var t=0,r=void 0,e=void 0;this.size=function(){return t},this.empty=function(){return t===0},this.clear=function(){r=e=void 0,t=0},this.front=function(){return r==null?void 0:r.value},this.back=function(){return e==null?void 0:e.value},this.forEach=function(n){for(var f=r,o=0;f;){if(f.value===void 0)throw new Error("unknown error");n(f.value,o++),f=f.next}},this.getElementByPos=function(n){if(n<0||n>=t)throw new Error("pos must more then 0 and less then the list length");for(var f=r;n--&&f;)f=f.next;if(!f||f.value===void 0)throw new Error("unknown error");return f.value},this.eraseElementByPos=function(n){if(n<0||n>=t)throw new Error("erase pos must more then 0 and less then the list length");if(n===0)this.popFront();else if(n===t-1)this.popBack();else{for(var f=r;n--;){if(!(f!=null&&f.next))throw new Error("unknown error");f=f.next}if(!f||!f.pre||!f.next)throw new Error("unknown error");var o=f.pre,y=f.next;y.pre=o,o.next=y,t>0&&--t}},this.eraseElementByValue=function(n){for(;r&&r.value===n;)this.popFront();for(;e&&e.value===n;)this.popBack();if(r)for(var f=r;f;){if(f.value===n){var o=f.pre,y=f.next;y&&(y.pre=o),o&&(o.next=y),t>0&&--t}f=f.next}},this.pushBack=function(n){if(n==null)throw new Error("you can't push null or undefined here");++t;var f=new v(n);e?(e.next=f,f.pre=e,e=f):r=e=f},this.popBack=function(){e&&(t>0&&--t,e&&(r===e?r=e=void 0:(e=e.pre,e&&(e.next=void 0))))},this.setElementByPos=function(n,f){if(f==null)throw new Error("you can't set null or undefined here");if(n<0||n>=t)throw new Error("pos must more then 0 and less then the list length");for(var o=r;n--;){if(!o)throw new Error("unknown error");o=o.next}o&&(o.value=f)},this.insert=function(n,f,o){if(o===void 0&&(o=1),f==null)throw new Error("you can't insert null or undefined here");if(n<0||n>t)throw new Error("insert pos must more then 0 and less then or equal to the list length");if(o<0)throw new Error("insert size must more than 0");if(n===0)for(;o--;)this.pushFront(f);else if(n===t)for(;o--;)this.pushBack(f);else{for(var y=r,d=1;d<n;++d){if(!(y!=null&&y.next))throw new Error("unknown error");y=y==null?void 0:y.next}if(!y)throw new Error("unknown error");var u=y.next;for(t+=o;o--;)y.next=new v(f),y.next.pre=y,y=y.next;y.next=u,u&&(u.pre=y)}},this.find=function(n){for(var f=r;f;){if(f.value===n)return!0;f=f.next}return!1},this.reverse=function(){for(var n=r,f=e,o=0;n&&f&&o*2<t;){var y=n.value;n.value=f.value,f.value=y,n=n.next,f=f.pre,++o}},this.unique=function(){for(var n=r;n;){for(var f=n;f&&f.next&&f.value===f.next.value;)f=f.next,t>0&&--t;n.next=f.next,n.next&&(n.next.pre=n),n=n.next}},this.sort=function(n){var f=[];this.forEach(function(y){f.push(y)}),f.sort(n);var o=r;f.forEach(function(y){o&&(o.value=y,o=o.next)})},this.pushFront=function(n){if(n==null)throw new Error("you can't push null or undefined here");++t;var f=new v(n);r?(f.next=r,r.pre=f,r=f):r=e=f},this.popFront=function(){r&&(t>0&&--t,r&&(r===e?r=e=void 0:(r=r.next,r&&(r.pre=void 0))))},this.merge=function(n){var f=this,o=r;n.forEach(function(y){for(;o&&o.value!==void 0&&o.value<=y;)o=o.next;if(o===void 0)f.pushBack(y),o=e;else if(o===r)f.pushFront(y),o=r;else{++t;var d=o.pre;d&&(d.next=new v(y),d.next.pre=d,d.next.next=o,o&&(o.pre=d.next))}})},this[Symbol.iterator]=function(){return function(){var n;return m(this,function(f){switch(f.label){case 0:n=r,f.label=1;case 1:if(n===void 0)return[3,3];if(!n.value)throw new Error("unknown error");return[4,n.value];case 2:return f.sent(),n=n.next,[3,1];case 3:return[2]}})}()},h.forEach(function(n){return s.pushBack(n)}),Object.freeze(this)}Object.freeze(p),N.default=p},{}],30:[function(x,K,N){var m=this&&this.__generator||function(s,t){var r={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},e,n,f,o;return o={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function y(u){return function(i){return d([u,i])}}function d(u){if(e)throw new TypeError("Generator is already executing.");for(;r;)try{if(e=1,n&&(f=u[0]&2?n.return:u[0]?n.throw||((f=n.return)&&f.call(n),0):n.next)&&!(f=f.call(n,u[1])).done)return f;switch(n=0,f&&(u=[u[0]&2,f.value]),u[0]){case 0:case 1:f=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,n=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(f=r.trys,!(f=f.length>0&&f[f.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!f||u[1]>f[0]&&u[1]<f[3])){r.label=u[1];break}if(u[0]===6&&r.label<f[1]){r.label=f[1],f=u;break}if(f&&r.label<f[2]){r.label=f[2],r.ops.push(u);break}f[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(s,r)}catch(i){u=[6,i],n=0}finally{e=f=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},v=this&&this.__values||function(s){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&s[t],e=0;if(r)return r.call(s);if(s&&typeof s.length=="number")return{next:function(){return s&&e>=s.length&&(s=void 0),{value:s&&s[e++],done:!s}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(N,"__esModule",{value:!0});var p=x("../Base/TreeNode");function h(s,t){var r=this;s===void 0&&(s=[]),t=t||function(l,_){return l<_?-1:l>_?1:0};var e=0,n=new p.default;n.color=p.default.TreeNodeColorType.black,this.size=function(){return e},this.empty=function(){return e===0},this.clear=function(){e=0,n.key=n.value=void 0,n.leftChild=n.rightChild=n.brother=void 0};var f=function(l){if(!l||l.key===void 0)throw new Error("unknown error");return l.leftChild?f(l.leftChild):l},o=function(l){if(!l||l.key===void 0)throw new Error("unknown error");return l.rightChild?o(l.rightChild):l};this.front=function(){if(!this.empty()){var l=f(n);if(l.key===void 0||l.value===void 0)throw new Error("unknown error");return{key:l.key,value:l.value}}},this.back=function(){if(!this.empty()){var l=o(n);if(l.key===void 0||l.value===void 0)throw new Error("unknown error");return{key:l.key,value:l.value}}},this.forEach=function(l){var _,b,B=0;try{for(var z=v(this),q=z.next();!q.done;q=z.next()){var Y=q.value;l(Y,B++)}}catch(T){_={error:T}}finally{try{q&&!q.done&&(b=z.return)&&b.call(z)}finally{if(_)throw _.error}}},this.getElementByPos=function(l){var _,b;if(l<0||l>=this.size())throw new Error("pos must more than 0 and less than set's size");var B=0;try{for(var z=v(this),q=z.next();!q.done;q=z.next()){var Y=q.value;if(B===l)return Y;++B}}catch(T){_={error:T}}finally{try{q&&!q.done&&(b=z.return)&&b.call(z)}finally{if(_)throw _.error}}throw new Error("unknown Error")};var y=function(l,_){if(!(!l||l.key===void 0||l.value===void 0)){var b=t(l.key,_);return b===0?{key:l.key,value:l.value}:b<0?y(l.rightChild,_):y(l.leftChild,_)||{key:l.key,value:l.value}}};this.lowerBound=function(l){return y(n,l)};var d=function(l,_){if(!(!l||l.key===void 0||l.value===void 0)){var b=t(l.key,_);return b<=0?d(l.rightChild,_):d(l.leftChild,_)||{key:l.key,value:l.value}}};this.upperBound=function(l){return d(n,l)};var u=function(l,_){if(!(!l||l.key===void 0||l.value===void 0)){var b=t(l.key,_);return b===0?{key:l.key,value:l.value}:b>0?u(l.leftChild,_):u(l.rightChild,_)||{key:l.key,value:l.value}}};this.reverseLowerBound=function(l){return u(n,l)};var i=function(l,_){if(!(!l||l.key===void 0||l.value===void 0)){var b=t(l.key,_);return b>=0?i(l.leftChild,_):i(l.rightChild,_)||{key:l.key,value:l.value}}};this.reverseUpperBound=function(l){return i(n,l)};var g=function(l){var _=l.parent;if(!_){if(l===n)return;throw new Error("unknown error")}if(l.color===p.default.TreeNodeColorType.red){l.color=p.default.TreeNodeColorType.black;return}var b=l.brother;if(!b)throw new Error("unknown error");if(l===_.leftChild){if(b.color===p.default.TreeNodeColorType.red){b.color=p.default.TreeNodeColorType.black,_.color=p.default.TreeNodeColorType.red;var B=_.rotateLeft();n===_&&(n=B),g(l)}else if(b.color===p.default.TreeNodeColorType.black)if(b.rightChild&&b.rightChild.color===p.default.TreeNodeColorType.red){b.color=_.color,_.color=p.default.TreeNodeColorType.black,b.rightChild&&(b.rightChild.color=p.default.TreeNodeColorType.black);var B=_.rotateLeft();n===_&&(n=B),l.color=p.default.TreeNodeColorType.black}else if((!b.rightChild||b.rightChild.color===p.default.TreeNodeColorType.black)&&b.leftChild&&b.leftChild.color===p.default.TreeNodeColorType.red){b.color=p.default.TreeNodeColorType.red,b.leftChild&&(b.leftChild.color=p.default.TreeNodeColorType.black);var B=b.rotateRight();n===b&&(n=B),g(l)}else(!b.leftChild||b.leftChild.color===p.default.TreeNodeColorType.black)&&(!b.rightChild||b.rightChild.color===p.default.TreeNodeColorType.black)&&(b.color=p.default.TreeNodeColorType.red,g(_))}else if(l===_.rightChild){if(b.color===p.default.TreeNodeColorType.red){b.color=p.default.TreeNodeColorType.black,_.color=p.default.TreeNodeColorType.red;var B=_.rotateRight();n===_&&(n=B),g(l)}else if(b.color===p.default.TreeNodeColorType.black)if(b.leftChild&&b.leftChild.color===p.default.TreeNodeColorType.red){b.color=_.color,_.color=p.default.TreeNodeColorType.black,b.leftChild&&(b.leftChild.color=p.default.TreeNodeColorType.black);var B=_.rotateRight();n===_&&(n=B),l.color=p.default.TreeNodeColorType.black}else if((!b.leftChild||b.leftChild.color===p.default.TreeNodeColorType.black)&&b.rightChild&&b.rightChild.color===p.default.TreeNodeColorType.red){b.color=p.default.TreeNodeColorType.red,b.rightChild&&(b.rightChild.color=p.default.TreeNodeColorType.black);var B=b.rotateLeft();n===b&&(n=B),g(l)}else(!b.leftChild||b.leftChild.color===p.default.TreeNodeColorType.black)&&(!b.rightChild||b.rightChild.color===p.default.TreeNodeColorType.black)&&(b.color=p.default.TreeNodeColorType.red,g(_))}},E=function(l){for(var _=l;_.leftChild||_.rightChild;){if(_.rightChild){_=f(_.rightChild);var b=l.key;l.key=_.key,_.key=b;var B=l.value;l.value=_.value,_.value=B,l=_}if(_.leftChild){_=o(_.leftChild);var b=l.key;l.key=_.key,_.key=b;var B=l.value;l.value=_.value,_.value=B,l=_}}g(_),_&&_.remove(),--e,n.color=p.default.TreeNodeColorType.black},k=function(l,_){if(!l||l.key===void 0)return!1;var b=k(l.leftChild,_);return b||_(l)?!0:k(l.rightChild,_)};this.eraseElementByPos=function(l){if(l<0||l>=e)throw new Error("pos must more than 0 and less than set's size");var _=0;k(n,function(b){return l===_?(E(b),!0):(++_,!1)})},this.eraseElementByKey=function(l){if(!this.empty()){var _=R(n,l);_===void 0||_.key===void 0||t(_.key,l)!==0||E(_)}};var M=function(l,_){if(!l||l.key===void 0)throw new Error("unknown error");var b=t(_,l.key);return b<0?l.leftChild?M(l.leftChild,_):(l.leftChild=new p.default,l.leftChild.parent=l,l.leftChild.brother=l.rightChild,l.rightChild&&(l.rightChild.brother=l.leftChild),l.leftChild):b>0?l.rightChild?M(l.rightChild,_):(l.rightChild=new p.default,l.rightChild.parent=l,l.rightChild.brother=l.leftChild,l.leftChild&&(l.leftChild.brother=l.rightChild),l.rightChild):l},L=function(l){var _=l.parent;if(!_){if(l===n)return;throw new Error("unknown error")}if(_.color!==p.default.TreeNodeColorType.black&&_.color===p.default.TreeNodeColorType.red){var b=_.brother,B=_.parent;if(!B)throw new Error("unknown error");if(b&&b.color===p.default.TreeNodeColorType.red)b.color=_.color=p.default.TreeNodeColorType.black,B.color=p.default.TreeNodeColorType.red,L(B);else if(!b||b.color===p.default.TreeNodeColorType.black){if(_===B.leftChild){if(l===_.leftChild){_.color=p.default.TreeNodeColorType.black,B.color=p.default.TreeNodeColorType.red;var z=B.rotateRight();B===n&&(n=z)}else if(l===_.rightChild){var z=_.rotateLeft();B===n&&(n=z),L(_)}}else if(_===B.rightChild){if(l===_.leftChild){var z=_.rotateRight();B===n&&(n=z),L(_)}else if(l===_.rightChild){_.color=p.default.TreeNodeColorType.black,B.color=p.default.TreeNodeColorType.red;var z=B.rotateLeft();B===n&&(n=z)}}}}};this.setElement=function(l,_){if(l==null)throw new Error("to avoid some unnecessary errors, we don't suggest you insert null or undefined here");if(_==null){this.eraseElementByKey(l);return}if(this.empty()){++e,n.key=l,n.value=_,n.color=p.default.TreeNodeColorType.black;return}var b=M(n,l);if(b.key!==void 0&&t(b.key,l)===0){b.value=_;return}++e,b.key=l,b.value=_,L(b),n.color=p.default.TreeNodeColorType.black};var R=function(l,_){if(!(!l||l.key===void 0)){var b=t(_,l.key);return b<0?R(l.leftChild,_):b>0?R(l.rightChild,_):l}};this.find=function(l){return!!R(n,l)},this.getElementByKey=function(l){var _=R(n,l);if((_==null?void 0:_.key)===void 0||(_==null?void 0:_.value)===void 0)throw new Error("unknown error");return _.value},this.union=function(l){var _=this;l.forEach(function(b){var B=b.key,z=b.value;return _.setElement(B,z)})},this.getHeight=function(){if(this.empty())return 0;var l=function(_){return _?Math.max(l(_.leftChild),l(_.rightChild))+1:1};return l(n)};var H=function(l){return m(this,function(_){switch(_.label){case 0:return!l||l.key===void 0||l.value===void 0?[2]:[5,v(H(l.leftChild))];case 1:return _.sent(),[4,{key:l.key,value:l.value}];case 2:return _.sent(),[5,v(H(l.rightChild))];case 3:return _.sent(),[2]}})};this[Symbol.iterator]=function(){return H(n)},s.forEach(function(l){var _=l.key,b=l.value;return r.setElement(_,b)}),Object.freeze(this)}Object.freeze(h),N.default=h},{"../Base/TreeNode":25}],31:[function(x,K,N){Object.defineProperty(N,"__esModule",{value:!0});function m(v,p){v===void 0&&(v=[]),p=p||function(e,n){return e>n?-1:e<n?1:0};var h=[];v.forEach(function(e){return h.push(e)});var s=h.length,t=function(e,n){if(e<0||e>=s)throw new Error("unknown error");if(n<0||n>=s)throw new Error("unknown error");var f=h[e];h[e]=h[n],h[n]=f},r=function(e){if(e<0||e>=s)throw new Error("unknown error");var n=e*2+1,f=e*2+2;n<s&&p(h[e],h[n])>0&&t(e,n),f<s&&p(h[e],h[f])>0&&t(e,f)};(function(){for(var e=Math.floor((s-1)/2);e>=0;--e)for(var n=e,f=n*2+1;f<s;){var o=f,y=o+1,d=o;if(y<s&&p(h[o],h[y])>0&&(d=y),p(h[n],h[d])<=0)break;t(n,d),n=d,f=n*2+1}})(),this.size=function(){return s},this.empty=function(){return s===0},this.clear=function(){s=0,h.length=0},this.push=function(e){if(h.push(e),++s,s!==1)for(var n=s-1;n>0;){var f=Math.floor((n-1)/2);if(p(h[f],e)<=0)break;r(f),n=f}},this.pop=function(){if(!this.empty()){if(this.size()===1){--s;return}var e=h[s-1];--s;for(var n=0;n<this.size();){var f=n*2+1,o=n*2+2;if(f>=this.size())break;var y=f;if(o<this.size()&&p(h[f],h[o])>0&&(y=o),p(h[y],e)>=0)break;h[n]=h[y],n=y}h[n]=e}},this.top=function(){return h[0]},Object.freeze(this)}Object.freeze(m),N.default=m},{}],32:[function(x,K,N){Object.defineProperty(N,"__esModule",{value:!0});var m=x("../LinkList/LinkList");function v(p){p===void 0&&(p=[]);var h=new m.default(p);this.size=function(){return h.size()},this.empty=function(){return h.empty()},this.clear=function(){h.clear()},this.push=function(s){h.pushBack(s)},this.pop=function(){h.popFront()},this.front=function(){return h.front()},Object.freeze(this)}Object.freeze(v),N.default=v},{"../LinkList/LinkList":29}],33:[function(x,K,N){var m=this&&this.__generator||function(s,t){var r={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},e,n,f,o;return o={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function y(u){return function(i){return d([u,i])}}function d(u){if(e)throw new TypeError("Generator is already executing.");for(;r;)try{if(e=1,n&&(f=u[0]&2?n.return:u[0]?n.throw||((f=n.return)&&f.call(n),0):n.next)&&!(f=f.call(n,u[1])).done)return f;switch(n=0,f&&(u=[u[0]&2,f.value]),u[0]){case 0:case 1:f=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,n=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(f=r.trys,!(f=f.length>0&&f[f.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!f||u[1]>f[0]&&u[1]<f[3])){r.label=u[1];break}if(u[0]===6&&r.label<f[1]){r.label=f[1],f=u;break}if(f&&r.label<f[2]){r.label=f[2],r.ops.push(u);break}f[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(s,r)}catch(i){u=[6,i],n=0}finally{e=f=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},v=this&&this.__values||function(s){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&s[t],e=0;if(r)return r.call(s);if(s&&typeof s.length=="number")return{next:function(){return s&&e>=s.length&&(s=void 0),{value:s&&s[e++],done:!s}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(N,"__esModule",{value:!0});var p=x("../Base/TreeNode");function h(s,t){var r=this;s===void 0&&(s=[]),t=t||function(l,_){return l<_?-1:l>_?1:0};var e=0,n=new p.default;n.color=p.default.TreeNodeColorType.black,this.size=function(){return e},this.empty=function(){return e===0},this.clear=function(){e=0,n.key=void 0,n.leftChild=n.rightChild=n.brother=n.parent=void 0,n.color=p.default.TreeNodeColorType.black};var f=function(l){if(!l||l.key===void 0)throw new Error("unknown error");return l.leftChild?f(l.leftChild):l},o=function(l){if(!l||l.key===void 0)throw new Error("unknown error");return l.rightChild?o(l.rightChild):l};this.front=function(){if(!this.empty()){var l=f(n);return l.key}},this.back=function(){if(!this.empty()){var l=o(n);return l.key}},this.forEach=function(l){var _,b,B=0;try{for(var z=v(this),q=z.next();!q.done;q=z.next()){var Y=q.value;l(Y,B++)}}catch(T){_={error:T}}finally{try{q&&!q.done&&(b=z.return)&&b.call(z)}finally{if(_)throw _.error}}},this.getElementByPos=function(l){var _,b;if(l<0||l>=this.size())throw new Error("pos must more than 0 and less than set's size");var B=0;try{for(var z=v(this),q=z.next();!q.done;q=z.next()){var Y=q.value;if(B===l)return Y;++B}}catch(T){_={error:T}}finally{try{q&&!q.done&&(b=z.return)&&b.call(z)}finally{if(_)throw _.error}}throw new Error("unknown error")};var y=function(l){var _=l.parent;if(!_){if(l===n)return;throw new Error("unknown error")}if(l.color===p.default.TreeNodeColorType.red){l.color=p.default.TreeNodeColorType.black;return}var b=l.brother;if(!b)throw new Error("unknown error");if(l===_.leftChild){if(b.color===p.default.TreeNodeColorType.red){b.color=p.default.TreeNodeColorType.black,_.color=p.default.TreeNodeColorType.red;var B=_.rotateLeft();n===_&&(n=B),y(l)}else if(b.color===p.default.TreeNodeColorType.black)if(b.rightChild&&b.rightChild.color===p.default.TreeNodeColorType.red){b.color=_.color,_.color=p.default.TreeNodeColorType.black,b.rightChild&&(b.rightChild.color=p.default.TreeNodeColorType.black);var B=_.rotateLeft();n===_&&(n=B),l.color=p.default.TreeNodeColorType.black}else if((!b.rightChild||b.rightChild.color===p.default.TreeNodeColorType.black)&&b.leftChild&&b.leftChild.color===p.default.TreeNodeColorType.red){b.color=p.default.TreeNodeColorType.red,b.leftChild&&(b.leftChild.color=p.default.TreeNodeColorType.black);var B=b.rotateRight();n===b&&(n=B),y(l)}else(!b.leftChild||b.leftChild.color===p.default.TreeNodeColorType.black)&&(!b.rightChild||b.rightChild.color===p.default.TreeNodeColorType.black)&&(b.color=p.default.TreeNodeColorType.red,y(_))}else if(l===_.rightChild){if(b.color===p.default.TreeNodeColorType.red){b.color=p.default.TreeNodeColorType.black,_.color=p.default.TreeNodeColorType.red;var B=_.rotateRight();n===_&&(n=B),y(l)}else if(b.color===p.default.TreeNodeColorType.black)if(b.leftChild&&b.leftChild.color===p.default.TreeNodeColorType.red){b.color=_.color,_.color=p.default.TreeNodeColorType.black,b.leftChild&&(b.leftChild.color=p.default.TreeNodeColorType.black);var B=_.rotateRight();n===_&&(n=B),l.color=p.default.TreeNodeColorType.black}else if((!b.leftChild||b.leftChild.color===p.default.TreeNodeColorType.black)&&b.rightChild&&b.rightChild.color===p.default.TreeNodeColorType.red){b.color=p.default.TreeNodeColorType.red,b.rightChild&&(b.rightChild.color=p.default.TreeNodeColorType.black);var B=b.rotateLeft();n===b&&(n=B),y(l)}else(!b.leftChild||b.leftChild.color===p.default.TreeNodeColorType.black)&&(!b.rightChild||b.rightChild.color===p.default.TreeNodeColorType.black)&&(b.color=p.default.TreeNodeColorType.red,y(_))}},d=function(l){for(var _=l;_.leftChild||_.rightChild;){if(_.rightChild){_=f(_.rightChild);var b=l.key;l.key=_.key,_.key=b,l=_}if(_.leftChild){_=o(_.leftChild);var b=l.key;l.key=_.key,_.key=b,l=_}}y(_),_&&_.remove(),--e,n.color=p.default.TreeNodeColorType.black},u=function(l,_){if(!l||l.key===void 0)return!1;var b=u(l.leftChild,_);return b||_(l)?!0:u(l.rightChild,_)};this.eraseElementByPos=function(l){if(l<0||l>=e)throw new Error("pos must more than 0 and less than set's size");var _=0;u(n,function(b){return l===_?(d(b),!0):(++_,!1)})},this.eraseElementByValue=function(l){if(!this.empty()){var _=E(n,l);_===void 0||_.key===void 0||t(_.key,l)!==0||d(_)}};var i=function(l,_){if(!l||l.key===void 0)throw new Error("unknown error");var b=t(_,l.key);return b<0?l.leftChild?i(l.leftChild,_):(l.leftChild=new p.default,l.leftChild.parent=l,l.leftChild.brother=l.rightChild,l.rightChild&&(l.rightChild.brother=l.leftChild),l.leftChild):b>0?l.rightChild?i(l.rightChild,_):(l.rightChild=new p.default,l.rightChild.parent=l,l.rightChild.brother=l.leftChild,l.leftChild&&(l.leftChild.brother=l.rightChild),l.rightChild):l},g=function(l){var _=l.parent;if(!_){if(l===n)return;throw new Error("unknown error")}if(_.color!==p.default.TreeNodeColorType.black&&_.color===p.default.TreeNodeColorType.red){var b=_.brother,B=_.parent;if(!B)throw new Error("unknown error");if(b&&b.color===p.default.TreeNodeColorType.red)b.color=_.color=p.default.TreeNodeColorType.black,B.color=p.default.TreeNodeColorType.red,g(B);else if(!b||b.color===p.default.TreeNodeColorType.black){if(_===B.leftChild){if(l===_.leftChild){_.color=p.default.TreeNodeColorType.black,B.color=p.default.TreeNodeColorType.red;var z=B.rotateRight();B===n&&(n=z)}else if(l===_.rightChild){var z=_.rotateLeft();B===n&&(n=z),g(_)}}else if(_===B.rightChild){if(l===_.leftChild){var z=_.rotateRight();B===n&&(n=z),g(_)}else if(l===_.rightChild){_.color=p.default.TreeNodeColorType.black,B.color=p.default.TreeNodeColorType.red;var z=B.rotateLeft();B===n&&(n=z)}}}}};this.insert=function(l){if(l==null)throw new Error("to avoid some unnecessary errors, we don't suggest you insert null or undefined here");if(this.empty()){++e,n.key=l,n.color=p.default.TreeNodeColorType.black;return}var _=i(n,l);_.key!==void 0&&t(_.key,l)===0||(++e,_.key=l,g(_),n.color=p.default.TreeNodeColorType.black)};var E=function(l,_){if(!(!l||l.key===void 0)){var b=t(_,l.key);return b<0?E(l.leftChild,_):b>0?E(l.rightChild,_):l}};this.find=function(l){var _=E(n,l);return _!==void 0&&_.key!==void 0&&t(_.key,l)===0};var k=function(l,_){if(!(!l||l.key===void 0)){var b=t(l.key,_);if(b===0)return l.key;if(b<0)return k(l.rightChild,_);var B=k(l.leftChild,_);return B!==void 0?B:l.key}};this.lowerBound=function(l){return k(n,l)};var M=function(l,_){if(!(!l||l.key===void 0)){var b=t(l.key,_);if(b<=0)return M(l.rightChild,_);var B=M(l.leftChild,_);return B!==void 0?B:l.key}};this.upperBound=function(l){return M(n,l)};var L=function(l,_){if(!(!l||l.key===void 0)){var b=t(l.key,_);if(b===0)return l.key;if(b>0)return L(l.leftChild,_);var B=L(l.rightChild,_);return B!==void 0?B:l.key}};this.reverseLowerBound=function(l){return L(n,l)};var R=function(l,_){if(!(!l||l.key===void 0)){var b=t(l.key,_);if(b>=0)return R(l.leftChild,_);var B=R(l.rightChild,_);return B!==void 0?B:l.key}};this.reverseUpperBound=function(l){return R(n,l)},this.union=function(l){var _=this;l.forEach(function(b){return _.insert(b)})},this.getHeight=function(){if(this.empty())return 0;var l=function(_){return _?Math.max(l(_.leftChild),l(_.rightChild))+1:1};return l(n)};var H=function(l){return m(this,function(_){switch(_.label){case 0:return!l||l.key===void 0?[2]:[5,v(H(l.leftChild))];case 1:return _.sent(),[4,l.key];case 2:return _.sent(),[5,v(H(l.rightChild))];case 3:return _.sent(),[2]}})};this[Symbol.iterator]=function(){return H(n)},s.forEach(function(l){return r.insert(l)}),Object.freeze(this)}Object.freeze(h),N.default=h},{"../Base/TreeNode":25}],34:[function(x,K,N){Object.defineProperty(N,"__esModule",{value:!0});function m(v){var p=this;v===void 0&&(v=[]);var h=0,s=[];this.size=function(){return h},this.empty=function(){return h===0},this.clear=function(){h=0,s.length=0},this.push=function(t){s.push(t),++h},this.pop=function(){s.pop(),h>0&&--h},this.top=function(){return s[h-1]},v.forEach(function(t){return p.push(t)}),Object.freeze(this)}Object.freeze(m),N.default=m},{}],35:[function(x,K,N){var m=this&&this.__generator||function(t,r){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,f,o,y;return y={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function d(i){return function(g){return u([i,g])}}function u(i){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,f&&(o=i[0]&2?f.return:i[0]?f.throw||((o=f.return)&&o.call(f),0):f.next)&&!(o=o.call(f,i[1])).done)return o;switch(f=0,o&&(i=[i[0]&2,o.value]),i[0]){case 0:case 1:o=i;break;case 4:return e.label++,{value:i[1],done:!1};case 5:e.label++,f=i[1],i=[0];continue;case 7:i=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(i[0]===6||i[0]===2)){e=0;continue}if(i[0]===3&&(!o||i[1]>o[0]&&i[1]<o[3])){e.label=i[1];break}if(i[0]===6&&e.label<o[1]){e.label=o[1],o=i;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(i);break}o[2]&&e.ops.pop(),e.trys.pop();continue}i=r.call(t,e)}catch(g){i=[6,g],f=0}finally{n=o=0}if(i[0]&5)throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},v=this&&this.__read||function(t,r){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var n=e.call(t),f,o=[],y;try{for(;(r===void 0||r-- >0)&&!(f=n.next()).done;)o.push(f.value)}catch(d){y={error:d}}finally{try{f&&!f.done&&(e=n.return)&&e.call(n)}finally{if(y)throw y.error}}return o},p=this&&this.__spreadArray||function(t,r,e){if(e||arguments.length===2)for(var n=0,f=r.length,o;n<f;n++)(o||!(n in r))&&(o||(o=Array.prototype.slice.call(r,0,n)),o[n]=r[n]);return t.concat(o||Array.prototype.slice.call(r))},h=this&&this.__values||function(t){var r=typeof Symbol=="function"&&Symbol.iterator,e=r&&t[r],n=0;if(e)return e.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(N,"__esModule",{value:!0});function s(t){var r=this;t===void 0&&(t=[]);var e=0,n=[];this.size=function(){return e},this.empty=function(){return e===0},this.clear=function(){e=0,n.length=0},this.front=function(){if(!this.empty())return n[0]},this.back=function(){if(!this.empty())return n[e-1]},this.forEach=function(f){n.forEach(f)},this.getElementByPos=function(f){if(f<0||f>=e)throw new Error("pos must more than 0 and less than vector's size");return n[f]},this.eraseElementByPos=function(f){if(f<0||f>=e)throw new Error("pos must more than 0 and less than vector's size");for(var o=f;o<e-1;++o)n[o]=n[o+1];this.popBack()},this.eraseElementByValue=function(f){var o=[];this.forEach(function(d){d!==f&&o.push(d)}),o.forEach(function(d,u){n[u]=d});for(var y=o.length;e>y;)this.popBack()},this.pushBack=function(f){n.push(f),++e},this.popBack=function(){n.pop(),e>0&&--e},this.setElementByPos=function(f,o){if(f<0||f>=e)throw new Error("pos must more than 0 and less than vector's size");n[f]=o},this.insert=function(f,o,y){if(y===void 0&&(y=1),f<0||f>e)throw new Error("pos must more than 0 and less than or equal to vector's size");n.splice.apply(n,p([f,0],v(new Array(y).fill(o)),!1)),e+=y},this.find=function(f){return n.includes(f)},this.reverse=function(){n.reverse()},this.unique=function(){var f,o=[];this.forEach(function(d,u){(u===0||d!==f)&&(o.push(d),f=d)}),o.forEach(function(d,u){n[u]=d});for(var y=o.length;e>y;)this.popBack()},this.sort=function(f){n.sort(f)},this[Symbol.iterator]=function(){return function(){return m(this,function(f){switch(f.label){case 0:return[5,h(n)];case 1:return[2,f.sent()]}})}()},t.forEach(function(f){return r.pushBack(f)}),Object.freeze(this)}Object.freeze(s),N.default=s},{}],36:[function(x,K,N){Object.defineProperty(N,"__esModule",{value:!0}),N.HashMap=N.HashSet=N.Map=N.Set=N.PriorityQueue=N.Deque=N.LinkList=N.Queue=N.Stack=N.Vector=void 0;var m=x("./Vector/Vector");N.Vector=m.default;var v=x("./Stack/Stack");N.Stack=v.default;var p=x("./Queue/Queue");N.Queue=p.default;var h=x("./LinkList/LinkList");N.LinkList=h.default;var s=x("./Deque/Deque");N.Deque=s.default;var t=x("./PriorityQueue/PriorityQueue");N.PriorityQueue=t.default;var r=x("./Set/Set");N.Set=r.default;var e=x("./Map/Map");N.Map=e.default;var n=x("./HashSet/HashSet");N.HashSet=n.default;var f=x("./HashMap/HashMap");N.HashMap=f.default},{"./Deque/Deque":26,"./HashMap/HashMap":27,"./HashSet/HashSet":28,"./LinkList/LinkList":29,"./Map/Map":30,"./PriorityQueue/PriorityQueue":31,"./Queue/Queue":32,"./Set/Set":33,"./Stack/Stack":34,"./Vector/Vector":35}],37:[function(x,K,N){const m=x("yallist"),v=Symbol("max"),p=Symbol("length"),h=Symbol("lengthCalculator"),s=Symbol("allowStale"),t=Symbol("maxAge"),r=Symbol("dispose"),e=Symbol("noDisposeOnSet"),n=Symbol("lruList"),f=Symbol("cache"),o=Symbol("updateAgeOnGet"),y=()=>1;class d{constructor(R){if(typeof R=="number"&&(R={max:R}),R||(R={}),R.max&&(typeof R.max!="number"||R.max<0))throw new TypeError("max must be a non-negative number");this[v]=R.max||1/0;const H=R.length||y;if(this[h]=typeof H!="function"?y:H,this[s]=R.stale||!1,R.maxAge&&typeof R.maxAge!="number")throw new TypeError("maxAge must be a number");this[t]=R.maxAge||0,this[r]=R.dispose,this[e]=R.noDisposeOnSet||!1,this[o]=R.updateAgeOnGet||!1,this.reset()}set max(R){if(typeof R!="number"||R<0)throw new TypeError("max must be a non-negative number");this[v]=R||1/0,g(this)}get max(){return this[v]}set allowStale(R){this[s]=!!R}get allowStale(){return this[s]}set maxAge(R){if(typeof R!="number")throw new TypeError("maxAge must be a non-negative number");this[t]=R,g(this)}get maxAge(){return this[t]}set lengthCalculator(R){typeof R!="function"&&(R=y),R!==this[h]&&(this[h]=R,this[p]=0,this[n].forEach(H=>{H.length=this[h](H.value,H.key),this[p]+=H.length})),g(this)}get lengthCalculator(){return this[h]}get length(){return this[p]}get itemCount(){return this[n].length}rforEach(R,H){H=H||this;for(let l=this[n].tail;l!==null;){const _=l.prev;M(this,R,l,H),l=_}}forEach(R,H){H=H||this;for(let l=this[n].head;l!==null;){const _=l.next;M(this,R,l,H),l=_}}keys(){return this[n].toArray().map(R=>R.key)}values(){return this[n].toArray().map(R=>R.value)}reset(){this[r]&&this[n]&&this[n].length&&this[n].forEach(R=>this[r](R.key,R.value)),this[f]=new Map,this[n]=new m,this[p]=0}dump(){return this[n].map(R=>i(this,R)?!1:{k:R.key,v:R.value,e:R.now+(R.maxAge||0)}).toArray().filter(R=>R)}dumpLru(){return this[n]}set(R,H,l){if(l=l||this[t],l&&typeof l!="number")throw new TypeError("maxAge must be a number");const _=l?Date.now():0,b=this[h](H,R);if(this[f].has(R)){if(b>this[v])return E(this,this[f].get(R)),!1;const q=this[f].get(R).value;return this[r]&&(this[e]||this[r](R,q.value)),q.now=_,q.maxAge=l,q.value=H,this[p]+=b-q.length,q.length=b,this.get(R),g(this),!0}const B=new k(R,H,b,_,l);return B.length>this[v]?(this[r]&&this[r](R,H),!1):(this[p]+=B.length,this[n].unshift(B),this[f].set(R,this[n].head),g(this),!0)}has(R){if(!this[f].has(R))return!1;const H=this[f].get(R).value;return!i(this,H)}get(R){return u(this,R,!0)}peek(R){return u(this,R,!1)}pop(){const R=this[n].tail;return R?(E(this,R),R.value):null}del(R){E(this,this[f].get(R))}load(R){this.reset();const H=Date.now();for(let l=R.length-1;l>=0;l--){const _=R[l],b=_.e||0;if(b===0)this.set(_.k,_.v);else{const B=b-H;B>0&&this.set(_.k,_.v,B)}}}prune(){this[f].forEach((R,H)=>u(this,H,!1))}}const u=(L,R,H)=>{const l=L[f].get(R);if(l){const _=l.value;if(i(L,_)){if(E(L,l),!L[s])return}else H&&(L[o]&&(l.value.now=Date.now()),L[n].unshiftNode(l));return _.value}},i=(L,R)=>{if(!R||!R.maxAge&&!L[t])return!1;const H=Date.now()-R.now;return R.maxAge?H>R.maxAge:L[t]&&H>L[t]},g=L=>{if(L[p]>L[v])for(let R=L[n].tail;L[p]>L[v]&&R!==null;){const H=R.prev;E(L,R),R=H}},E=(L,R)=>{if(R){const H=R.value;L[r]&&L[r](H.key,H.value),L[p]-=H.length,L[f].delete(H.key),L[n].removeNode(R)}};class k{constructor(R,H,l,_,b){this.key=R,this.value=H,this.length=l,this.now=_,this.maxAge=b||0}}const M=(L,R,H,l)=>{let _=H.value;i(L,_)&&(E(L,H),L[s]||(_=void 0)),_&&R.call(l,_.value,_.key,L)};K.exports=d},{yallist:83}],38:[function(x,K,N){(function(m){(function(){const v=K.exports;v.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"},v.codes={};for(const h in v.types){const s=v.types[h];v.codes[s]=h}v.CMD_SHIFT=4,v.CMD_MASK=240,v.DUP_MASK=8,v.QOS_MASK=3,v.QOS_SHIFT=1,v.RETAIN_MASK=1,v.VARBYTEINT_MASK=127,v.VARBYTEINT_FIN_MASK=128,v.VARBYTEINT_MAX=268435455,v.SESSIONPRESENT_MASK=1,v.SESSIONPRESENT_HEADER=m.from([v.SESSIONPRESENT_MASK]),v.CONNACK_HEADER=m.from([v.codes.connack<<v.CMD_SHIFT]),v.USERNAME_MASK=128,v.PASSWORD_MASK=64,v.WILL_RETAIN_MASK=32,v.WILL_QOS_MASK=24,v.WILL_QOS_SHIFT=3,v.WILL_FLAG_MASK=4,v.CLEAN_SESSION_MASK=2,v.CONNECT_HEADER=m.from([v.codes.connect<<v.CMD_SHIFT]),v.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11},v.propertiesCodes={};for(const h in v.properties){const s=v.properties[h];v.propertiesCodes[s]=h}v.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"};function p(h){return[0,1,2].map(s=>[0,1].map(t=>[0,1].map(r=>{const e=m.alloc(1);return e.writeUInt8(v.codes[h]<<v.CMD_SHIFT|(t?v.DUP_MASK:0)|s<<v.QOS_SHIFT|r,0,!0),e})))}v.PUBLISH_HEADER=p("publish"),v.SUBSCRIBE_HEADER=p("subscribe"),v.SUBSCRIBE_OPTIONS_QOS_MASK=3,v.SUBSCRIBE_OPTIONS_NL_MASK=1,v.SUBSCRIBE_OPTIONS_NL_SHIFT=2,v.SUBSCRIBE_OPTIONS_RAP_MASK=1,v.SUBSCRIBE_OPTIONS_RAP_SHIFT=3,v.SUBSCRIBE_OPTIONS_RH_MASK=3,v.SUBSCRIBE_OPTIONS_RH_SHIFT=4,v.SUBSCRIBE_OPTIONS_RH=[0,16,32],v.SUBSCRIBE_OPTIONS_NL=4,v.SUBSCRIBE_OPTIONS_RAP=8,v.SUBSCRIBE_OPTIONS_QOS=[0,1,2],v.UNSUBSCRIBE_HEADER=p("unsubscribe"),v.ACKS={unsuback:p("unsuback"),puback:p("puback"),pubcomp:p("pubcomp"),pubrel:p("pubrel"),pubrec:p("pubrec")},v.SUBACK_HEADER=m.from([v.codes.suback<<v.CMD_SHIFT]),v.VERSION3=m.from([3]),v.VERSION4=m.from([4]),v.VERSION5=m.from([5]),v.VERSION131=m.from([131]),v.VERSION132=m.from([132]),v.QOS=[0,1,2].map(h=>m.from([h])),v.EMPTY={pingreq:m.from([v.codes.pingreq<<4,0]),pingresp:m.from([v.codes.pingresp<<4,0]),disconnect:m.from([v.codes.disconnect<<4,0])}}).call(this)}).call(this,x("buffer").Buffer)},{buffer:17}],39:[function(x,K,N){(function(m){(function(){const v=x("./writeToStream"),p=x("events");function h(t,r){const e=new s;return v(t,e,r),e.concat()}class s extends p{constructor(){super(),this._array=new Array(20),this._i=0}write(r){return this._array[this._i++]=r,!0}concat(){let r=0;const e=new Array(this._array.length),n=this._array;let f=0,o;for(o=0;o<n.length&&n[o]!==void 0;o++)typeof n[o]!="string"?e[o]=n[o].length:e[o]=m.byteLength(n[o]),r+=e[o];const y=m.allocUnsafe(r);for(o=0;o<n.length&&n[o]!==void 0;o++)typeof n[o]!="string"?(n[o].copy(y,f),f+=e[o]):(y.write(n[o],f),f+=e[o]);return y}}K.exports=h}).call(this)}).call(this,x("buffer").Buffer)},{"./writeToStream":44,buffer:17,events:22}],40:[function(x,K,N){N.parser=x("./parser").parser,N.generate=x("./generate"),N.writeToStream=x("./writeToStream")},{"./generate":39,"./parser":43,"./writeToStream":44}],41:[function(x,K,N){(function(m){(function(){const p={},h=m.isBuffer(m.from([1,2]).subarray(0,1));function s(n){const f=m.allocUnsafe(2);return f.writeUInt8(n>>8,0),f.writeUInt8(n&255,1),f}function t(){for(let n=0;n<65536;n++)p[n]=s(n)}function r(n){let o=0,y=0;const d=m.allocUnsafe(4);do o=n%128|0,n=n/128|0,n>0&&(o=o|128),d.writeUInt8(o,y++);while(n>0&&y<4);return n>0&&(y=0),h?d.subarray(0,y):d.slice(0,y)}function e(n){const f=m.allocUnsafe(4);return f.writeUInt32BE(n,0),f}K.exports={cache:p,generateCache:t,generateNumber:s,genBufVariableByteInt:r,generate4ByteBuffer:e}}).call(this)}).call(this,x("buffer").Buffer)},{buffer:17}],42:[function(x,K,N){class m{constructor(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}}K.exports=m},{}],43:[function(x,K,N){const m=x("bl"),v=x("events"),p=x("./packet"),h=x("./constants"),s=x("debug")("mqtt-packet:parser");class t extends v{constructor(){super(),this.parser=this.constructor.parser}static parser(e){return this instanceof t?(this.settings=e||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState(),this):new t().parser(e)}_resetState(){s("_resetState: resetting packet, error, _list, and _stateCounter"),this.packet=new p,this.error=null,this._list=m(),this._stateCounter=0}parse(e){for(this.error&&this._resetState(),this._list.append(e),s("parse: current state: %s",this._states[this._stateCounter]);(this.packet.length!==-1||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,s("parse: state complete. _stateCounter is now: %d",this._stateCounter),s("parse: packet.length: %d, buffer list length: %d",this.packet.length,this._list.length),this._stateCounter>=this._states.length&&(this._stateCounter=0);return s("parse: exited while loop. packet: %d, buffer list length: %d",this.packet.length,this._list.length),this._list.length}_parseHeader(){const e=this._list.readUInt8(0);return this.packet.cmd=h.types[e>>h.CMD_SHIFT],this.packet.retain=(e&h.RETAIN_MASK)!==0,this.packet.qos=e>>h.QOS_SHIFT&h.QOS_MASK,this.packet.dup=(e&h.DUP_MASK)!==0,s("_parseHeader: packet: %o",this.packet),this._list.consume(1),!0}_parseLength(){const e=this._parseVarByteNum(!0);return e&&(this.packet.length=e.value,this._list.consume(e.bytes)),s("_parseLength %d",e.value),!!e}_parsePayload(){s("_parsePayload: payload %O",this._list);let e=!1;if(this.packet.length===0||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(new Error("Not supported"))}e=!0}return s("_parsePayload complete result: %s",e),e}_parseConnect(){s("_parseConnect");let e,n,f,o;const y={},d=this.packet,u=this._parseString();if(u===null)return this._emitError(new Error("Cannot parse protocolId"));if(u!=="MQTT"&&u!=="MQIsdp")return this._emitError(new Error("Invalid protocolId"));if(d.protocolId=u,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(d.protocolVersion=this._list.readUInt8(this._pos),d.protocolVersion>=128&&(d.bridgeMode=!0,d.protocolVersion=d.protocolVersion-128),d.protocolVersion!==3&&d.protocolVersion!==4&&d.protocolVersion!==5)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(y.username=this._list.readUInt8(this._pos)&h.USERNAME_MASK,y.password=this._list.readUInt8(this._pos)&h.PASSWORD_MASK,y.will=this._list.readUInt8(this._pos)&h.WILL_FLAG_MASK,y.will&&(d.will={},d.will.retain=(this._list.readUInt8(this._pos)&h.WILL_RETAIN_MASK)!==0,d.will.qos=(this._list.readUInt8(this._pos)&h.WILL_QOS_MASK)>>h.WILL_QOS_SHIFT),d.clean=(this._list.readUInt8(this._pos)&h.CLEAN_SESSION_MASK)!==0,this._pos++,d.keepalive=this._parseNum(),d.keepalive===-1)return this._emitError(new Error("Packet too short"));if(d.protocolVersion===5){const g=this._parseProperties();Object.getOwnPropertyNames(g).length&&(d.properties=g)}const i=this._parseString();if(i===null)return this._emitError(new Error("Packet too short"));if(d.clientId=i,s("_parseConnect: packet.clientId: %s",d.clientId),y.will){if(d.protocolVersion===5){const g=this._parseProperties();Object.getOwnPropertyNames(g).length&&(d.will.properties=g)}if(e=this._parseString(),e===null)return this._emitError(new Error("Cannot parse will topic"));if(d.will.topic=e,s("_parseConnect: packet.will.topic: %s",d.will.topic),n=this._parseBuffer(),n===null)return this._emitError(new Error("Cannot parse will payload"));d.will.payload=n,s("_parseConnect: packet.will.paylaod: %s",d.will.payload)}if(y.username){if(o=this._parseString(),o===null)return this._emitError(new Error("Cannot parse username"));d.username=o,s("_parseConnect: packet.username: %s",d.username)}if(y.password){if(f=this._parseBuffer(),f===null)return this._emitError(new Error("Cannot parse password"));d.password=f}return this.settings=d,s("_parseConnect: complete"),d}_parseConnack(){s("_parseConnack");const e=this.packet;if(this._list.length<1)return null;if(e.sessionPresent=!!(this._list.readUInt8(this._pos++)&h.SESSIONPRESENT_MASK),this.settings.protocolVersion===5)this._list.length>=2?e.reasonCode=this._list.readUInt8(this._pos++):e.reasonCode=0;else{if(this._list.length<2)return null;e.returnCode=this._list.readUInt8(this._pos++)}if(e.returnCode===-1||e.reasonCode===-1)return this._emitError(new Error("Cannot parse return code"));if(this.settings.protocolVersion===5){const n=this._parseProperties();Object.getOwnPropertyNames(n).length&&(e.properties=n)}s("_parseConnack: complete")}_parsePublish(){s("_parsePublish");const e=this.packet;if(e.topic=this._parseString(),e.topic===null)return this._emitError(new Error("Cannot parse topic"));if(!(e.qos>0&&!this._parseMessageId())){if(this.settings.protocolVersion===5){const n=this._parseProperties();Object.getOwnPropertyNames(n).length&&(e.properties=n)}e.payload=this._list.slice(this._pos,e.length),s("_parsePublish: payload from buffer list: %o",e.payload)}}_parseSubscribe(){s("_parseSubscribe");const e=this.packet;let n,f,o,y,d,u,i;if(e.qos!==1)return this._emitError(new Error("Wrong subscribe header"));if(e.subscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){const g=this._parseProperties();Object.getOwnPropertyNames(g).length&&(e.properties=g)}for(;this._pos<e.length;){if(n=this._parseString(),n===null)return this._emitError(new Error("Cannot parse topic"));if(this._pos>=e.length)return this._emitError(new Error("Malformed Subscribe Payload"));f=this._parseByte(),o=f&h.SUBSCRIBE_OPTIONS_QOS_MASK,u=(f>>h.SUBSCRIBE_OPTIONS_NL_SHIFT&h.SUBSCRIBE_OPTIONS_NL_MASK)!==0,d=(f>>h.SUBSCRIBE_OPTIONS_RAP_SHIFT&h.SUBSCRIBE_OPTIONS_RAP_MASK)!==0,y=f>>h.SUBSCRIBE_OPTIONS_RH_SHIFT&h.SUBSCRIBE_OPTIONS_RH_MASK,i={topic:n,qos:o},this.settings.protocolVersion===5?(i.nl=u,i.rap=d,i.rh=y):this.settings.bridgeMode&&(i.rh=0,i.rap=!0,i.nl=!0),s("_parseSubscribe: push subscription `%s` to subscription",i),e.subscriptions.push(i)}}}_parseSuback(){s("_parseSuback");const e=this.packet;if(this.packet.granted=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){const n=this._parseProperties();Object.getOwnPropertyNames(n).length&&(e.properties=n)}for(;this._pos<this.packet.length;)this.packet.granted.push(this._list.readUInt8(this._pos++))}}_parseUnsubscribe(){s("_parseUnsubscribe");const e=this.packet;if(e.unsubscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){const n=this._parseProperties();Object.getOwnPropertyNames(n).length&&(e.properties=n)}for(;this._pos<e.length;){const n=this._parseString();if(n===null)return this._emitError(new Error("Cannot parse topic"));s("_parseUnsubscribe: push topic `%s` to unsubscriptions",n),e.unsubscriptions.push(n)}}}_parseUnsuback(){s("_parseUnsuback");const e=this.packet;if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"));if(this.settings.protocolVersion===5){const n=this._parseProperties();for(Object.getOwnPropertyNames(n).length&&(e.properties=n),e.granted=[];this._pos<this.packet.length;)this.packet.granted.push(this._list.readUInt8(this._pos++))}}_parseConfirmation(){s("_parseConfirmation: packet.cmd: `%s`",this.packet.cmd);const e=this.packet;if(this._parseMessageId(),this.settings.protocolVersion===5&&(e.length>2?(e.reasonCode=this._parseByte(),s("_parseConfirmation: packet.reasonCode `%d`",e.reasonCode)):e.reasonCode=0,e.length>3)){const n=this._parseProperties();Object.getOwnPropertyNames(n).length&&(e.properties=n)}return!0}_parseDisconnect(){const e=this.packet;if(s("_parseDisconnect"),this.settings.protocolVersion===5){this._list.length>0?e.reasonCode=this._parseByte():e.reasonCode=0;const n=this._parseProperties();Object.getOwnPropertyNames(n).length&&(e.properties=n)}return s("_parseDisconnect result: true"),!0}_parseAuth(){s("_parseAuth");const e=this.packet;if(this.settings.protocolVersion!==5)return this._emitError(new Error("Not supported auth packet for this version MQTT"));e.reasonCode=this._parseByte();const n=this._parseProperties();return Object.getOwnPropertyNames(n).length&&(e.properties=n),s("_parseAuth: result: true"),!0}_parseMessageId(){const e=this.packet;return e.messageId=this._parseNum(),e.messageId===null?(this._emitError(new Error("Cannot parse messageId")),!1):(s("_parseMessageId: packet.messageId %d",e.messageId),!0)}_parseString(e){const n=this._parseNum(),f=n+this._pos;if(n===-1||f>this._list.length||f>this.packet.length)return null;const o=this._list.toString("utf8",this._pos,f);return this._pos+=n,s("_parseString: result: %s",o),o}_parseStringPair(){return s("_parseStringPair"),{name:this._parseString(),value:this._parseString()}}_parseBuffer(){const e=this._parseNum(),n=e+this._pos;if(e===-1||n>this._list.length||n>this.packet.length)return null;const f=this._list.slice(this._pos,n);return this._pos+=e,s("_parseBuffer: result: %o",f),f}_parseNum(){if(this._list.length-this._pos<2)return-1;const e=this._list.readUInt16BE(this._pos);return this._pos+=2,s("_parseNum: result: %s",e),e}_parse4ByteNum(){if(this._list.length-this._pos<4)return-1;const e=this._list.readUInt32BE(this._pos);return this._pos+=4,s("_parse4ByteNum: result: %s",e),e}_parseVarByteNum(e){s("_parseVarByteNum");const n=4;let f=0,o=1,y=0,d=!1,u;const i=this._pos?this._pos:0;for(;f<n&&i+f<this._list.length;){if(u=this._list.readUInt8(i+f++),y+=o*(u&h.VARBYTEINT_MASK),o*=128,!(u&h.VARBYTEINT_FIN_MASK)){d=!0;break}if(this._list.length<=f)break}return!d&&f===n&&this._list.length>=f&&this._emitError(new Error("Invalid variable byte integer")),i&&(this._pos+=f),d=d?e?{bytes:f,value:y}:y:!1,s("_parseVarByteNum: result: %o",d),d}_parseByte(){let e;return this._pos<this._list.length&&(e=this._list.readUInt8(this._pos),this._pos++),s("_parseByte: result: %o",e),e}_parseByType(e){switch(s("_parseByType: type: %s",e),e){case"byte":return this._parseByte()!==0;case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}}_parseProperties(){s("_parseProperties");const e=this._parseVarByteNum(),f=this._pos+e,o={};for(;this._pos<f;){const y=this._parseByte();if(!y)return this._emitError(new Error("Cannot parse property code type")),!1;const d=h.propertiesCodes[y];if(!d)return this._emitError(new Error("Unknown property")),!1;if(d==="userProperties"){o[d]||(o[d]=Object.create(null));const u=this._parseByType(h.propertiesTypes[d]);if(o[d][u.name])if(Array.isArray(o[d][u.name]))o[d][u.name].push(u.value);else{const i=o[d][u.name];o[d][u.name]=[i],o[d][u.name].push(u.value)}else o[d][u.name]=u.value;continue}o[d]?Array.isArray(o[d])?o[d].push(this._parseByType(h.propertiesTypes[d])):(o[d]=[o[d]],o[d].push(this._parseByType(h.propertiesTypes[d]))):o[d]=this._parseByType(h.propertiesTypes[d])}return o}_newPacket(){return s("_newPacket"),this.packet&&(this._list.consume(this.packet.length),s("_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d",this.packet.cmd,this.packet.payload,this.packet.length),this.emit("packet",this.packet)),s("_newPacket: new packet"),this.packet=new p,this._pos=0,!0}_emitError(e){s("_emitError"),this.error=e,this.emit("error",e)}}K.exports=t},{"./constants":38,"./packet":42,bl:15,debug:18,events:22}],44:[function(x,K,N){(function(m){(function(){const v=x("./constants"),p=m.allocUnsafe(0),h=m.from([0]),s=x("./numbers"),t=x("process-nextick-args").nextTick,r=x("debug")("mqtt-packet:writeToStream"),e=s.cache,n=s.generateNumber,f=s.generateCache,o=s.genBufVariableByteInt,y=s.generate4ByteBuffer;let d=j,u=!0;function i(V,U,Z){switch(r("generate called"),U.cork&&(U.cork(),t(g,U)),u&&(u=!1,f()),r("generate: packet.cmd: %s",V.cmd),V.cmd){case"connect":return E(V,U);case"connack":return k(V,U,Z);case"publish":return M(V,U,Z);case"puback":case"pubrec":case"pubrel":case"pubcomp":return L(V,U,Z);case"subscribe":return R(V,U,Z);case"suback":return H(V,U,Z);case"unsubscribe":return l(V,U,Z);case"unsuback":return _(V,U,Z);case"pingreq":case"pingresp":return b(V,U);case"disconnect":return B(V,U,Z);case"auth":return z(V,U,Z);default:return U.emit("error",new Error("Unknown command")),!1}}Object.defineProperty(i,"cacheNumbers",{get(){return d===j},set(V){V?((!e||Object.keys(e).length===0)&&(u=!0),d=j):(u=!1,d=$)}});function g(V){V.uncork()}function E(V,U,Z){const O=V||{},P=O.protocolId||"MQTT";let F=O.protocolVersion||4;const G=O.will;let X=O.clean;const S=O.keepalive||0,A=O.clientId||"",w=O.username,a=O.password,c=O.properties;X===void 0&&(X=!0);let C=0;if(!P||typeof P!="string"&&!m.isBuffer(P))return U.emit("error",new Error("Invalid protocolId")),!1;if(C+=P.length+2,F!==3&&F!==4&&F!==5)return U.emit("error",new Error("Invalid protocol version")),!1;if(C+=1,(typeof A=="string"||m.isBuffer(A))&&(A||F>=4)&&(A||X))C+=m.byteLength(A)+2;else{if(F<4)return U.emit("error",new Error("clientId must be supplied before 3.1.1")),!1;if(X*1===0)return U.emit("error",new Error("clientId must be given if cleanSession set to 0")),!1}if(typeof S!="number"||S<0||S>65535||S%1!==0)return U.emit("error",new Error("Invalid keepalive")),!1;if(C+=2,C+=1,F===5){var D=W(U,c);if(!D)return!1;C+=D.length}if(G){if(typeof G!="object")return U.emit("error",new Error("Invalid will")),!1;if(!G.topic||typeof G.topic!="string")return U.emit("error",new Error("Invalid will topic")),!1;if(C+=m.byteLength(G.topic)+2,C+=2,G.payload)if(G.payload.length>=0)typeof G.payload=="string"?C+=m.byteLength(G.payload):C+=G.payload.length;else return U.emit("error",new Error("Invalid will payload")),!1;var J={};if(F===5){if(J=W(U,G.properties),!J)return!1;C+=J.length}}let te=!1;if(w!=null)if(ie(w))te=!0,C+=m.byteLength(w)+2;else return U.emit("error",new Error("Invalid username")),!1;if(a!=null){if(!te)return U.emit("error",new Error("Username is required to use password")),!1;if(ie(a))C+=se(a)+2;else return U.emit("error",new Error("Invalid password")),!1}U.write(v.CONNECT_HEADER),Y(U,C),ne(U,P),O.bridgeMode&&(F+=128),U.write(F===131?v.VERSION131:F===132?v.VERSION132:F===4?v.VERSION4:F===5?v.VERSION5:v.VERSION3);let ae=0;return ae|=w!=null?v.USERNAME_MASK:0,ae|=a!=null?v.PASSWORD_MASK:0,ae|=G&&G.retain?v.WILL_RETAIN_MASK:0,ae|=G&&G.qos?G.qos<<v.WILL_QOS_SHIFT:0,ae|=G?v.WILL_FLAG_MASK:0,ae|=X?v.CLEAN_SESSION_MASK:0,U.write(m.from([ae])),d(U,S),F===5&&D.write(),ne(U,A),G&&(F===5&&J.write(),T(U,G.topic),ne(U,G.payload)),w!=null&&ne(U,w),a!=null&&ne(U,a),!0}function k(V,U,Z){const O=Z?Z.protocolVersion:4,P=V||{},F=O===5?P.reasonCode:P.returnCode,G=P.properties;let X=2;if(typeof F!="number")return U.emit("error",new Error("Invalid return code")),!1;let S=null;if(O===5){if(S=W(U,G),!S)return!1;X+=S.length}return U.write(v.CONNACK_HEADER),Y(U,X),U.write(P.sessionPresent?v.SESSIONPRESENT_HEADER:h),U.write(m.from([F])),S!=null&&S.write(),!0}function M(V,U,Z){r("publish: packet: %o",V);const O=Z?Z.protocolVersion:4,P=V||{},F=P.qos||0,G=P.retain?v.RETAIN_MASK:0,X=P.topic,S=P.payload||p,A=P.messageId,w=P.properties;let a=0;if(typeof X=="string")a+=m.byteLength(X)+2;else if(m.isBuffer(X))a+=X.length+2;else return U.emit("error",new Error("Invalid topic")),!1;if(m.isBuffer(S)?a+=S.length:a+=m.byteLength(S),F&&typeof A!="number")return U.emit("error",new Error("Invalid messageId")),!1;F&&(a+=2);let c=null;if(O===5){if(c=W(U,w),!c)return!1;a+=c.length}return U.write(v.PUBLISH_HEADER[F][P.dup?1:0][G?1:0]),Y(U,a),d(U,se(X)),U.write(X),F>0&&d(U,A),c!=null&&c.write(),r("publish: payload: %o",S),U.write(S)}function L(V,U,Z){const O=Z?Z.protocolVersion:4,P=V||{},F=P.cmd||"puback",G=P.messageId,X=P.dup&&F==="pubrel"?v.DUP_MASK:0;let S=0;const A=P.reasonCode,w=P.properties;let a=O===5?3:2;if(F==="pubrel"&&(S=1),typeof G!="number")return U.emit("error",new Error("Invalid messageId")),!1;let c=null;if(O===5&&typeof w=="object"){if(c=Q(U,w,Z,a),!c)return!1;a+=c.length}return U.write(v.ACKS[F][S][X][0]),Y(U,a),d(U,G),O===5&&U.write(m.from([A])),c!==null&&c.write(),!0}function R(V,U,Z){r("subscribe: packet: ");const O=Z?Z.protocolVersion:4,P=V||{},F=P.dup?v.DUP_MASK:0,G=P.messageId,X=P.subscriptions,S=P.properties;let A=0;if(typeof G!="number")return U.emit("error",new Error("Invalid messageId")),!1;A+=2;let w=null;if(O===5){if(w=W(U,S),!w)return!1;A+=w.length}if(typeof X=="object"&&X.length)for(let c=0;c<X.length;c+=1){const C=X[c].topic,D=X[c].qos;if(typeof C!="string")return U.emit("error",new Error("Invalid subscriptions - invalid topic")),!1;if(typeof D!="number")return U.emit("error",new Error("Invalid subscriptions - invalid qos")),!1;if(O===5){if(typeof(X[c].nl||!1)!="boolean")return U.emit("error",new Error("Invalid subscriptions - invalid No Local")),!1;if(typeof(X[c].rap||!1)!="boolean")return U.emit("error",new Error("Invalid subscriptions - invalid Retain as Published")),!1;const ae=X[c].rh||0;if(typeof ae!="number"||ae>2)return U.emit("error",new Error("Invalid subscriptions - invalid Retain Handling")),!1}A+=m.byteLength(C)+2+1}else return U.emit("error",new Error("Invalid subscriptions")),!1;r("subscribe: writing to stream: %o",v.SUBSCRIBE_HEADER),U.write(v.SUBSCRIBE_HEADER[1][F?1:0][0]),Y(U,A),d(U,G),w!==null&&w.write();let a=!0;for(const c of X){const C=c.topic,D=c.qos,J=+c.nl,te=+c.rap,ae=c.rh;let le;T(U,C),le=v.SUBSCRIBE_OPTIONS_QOS[D],O===5&&(le|=J?v.SUBSCRIBE_OPTIONS_NL:0,le|=te?v.SUBSCRIBE_OPTIONS_RAP:0,le|=ae?v.SUBSCRIBE_OPTIONS_RH[ae]:0),a=U.write(m.from([le]))}return a}function H(V,U,Z){const O=Z?Z.protocolVersion:4,P=V||{},F=P.messageId,G=P.granted,X=P.properties;let S=0;if(typeof F!="number")return U.emit("error",new Error("Invalid messageId")),!1;if(S+=2,typeof G=="object"&&G.length)for(let w=0;w<G.length;w+=1){if(typeof G[w]!="number")return U.emit("error",new Error("Invalid qos vector")),!1;S+=1}else return U.emit("error",new Error("Invalid qos vector")),!1;let A=null;if(O===5){if(A=Q(U,X,Z,S),!A)return!1;S+=A.length}return U.write(v.SUBACK_HEADER),Y(U,S),d(U,F),A!==null&&A.write(),U.write(m.from(G))}function l(V,U,Z){const O=Z?Z.protocolVersion:4,P=V||{},F=P.messageId,G=P.dup?v.DUP_MASK:0,X=P.unsubscriptions,S=P.properties;let A=0;if(typeof F!="number")return U.emit("error",new Error("Invalid messageId")),!1;if(A+=2,typeof X=="object"&&X.length)for(let c=0;c<X.length;c+=1){if(typeof X[c]!="string")return U.emit("error",new Error("Invalid unsubscriptions")),!1;A+=m.byteLength(X[c])+2}else return U.emit("error",new Error("Invalid unsubscriptions")),!1;let w=null;if(O===5){if(w=W(U,S),!w)return!1;A+=w.length}U.write(v.UNSUBSCRIBE_HEADER[1][G?1:0][0]),Y(U,A),d(U,F),w!==null&&w.write();let a=!0;for(let c=0;c<X.length;c++)a=T(U,X[c]);return a}function _(V,U,Z){const O=Z?Z.protocolVersion:4,P=V||{},F=P.messageId,G=P.dup?v.DUP_MASK:0,X=P.granted,S=P.properties,A=P.cmd,w=0;let a=2;if(typeof F!="number")return U.emit("error",new Error("Invalid messageId")),!1;if(O===5)if(typeof X=="object"&&X.length)for(let C=0;C<X.length;C+=1){if(typeof X[C]!="number")return U.emit("error",new Error("Invalid qos vector")),!1;a+=1}else return U.emit("error",new Error("Invalid qos vector")),!1;let c=null;if(O===5){if(c=Q(U,S,Z,a),!c)return!1;a+=c.length}return U.write(v.ACKS[A][w][G][0]),Y(U,a),d(U,F),c!==null&&c.write(),O===5&&U.write(m.from(X)),!0}function b(V,U,Z){return U.write(v.EMPTY[V.cmd])}function B(V,U,Z){const O=Z?Z.protocolVersion:4,P=V||{},F=P.reasonCode,G=P.properties;let X=O===5?1:0,S=null;if(O===5){if(S=Q(U,G,Z,X),!S)return!1;X+=S.length}return U.write(m.from([v.codes.disconnect<<4])),Y(U,X),O===5&&U.write(m.from([F])),S!==null&&S.write(),!0}function z(V,U,Z){const O=Z?Z.protocolVersion:4,P=V||{},F=P.reasonCode,G=P.properties;let X=O===5?1:0;O!==5&&U.emit("error",new Error("Invalid mqtt version for auth packet"));const S=Q(U,G,Z,X);return S?(X+=S.length,U.write(m.from([v.codes.auth<<4])),Y(U,X),U.write(m.from([F])),S!==null&&S.write(),!0):!1}const q={};function Y(V,U){if(U>v.VARBYTEINT_MAX)return V.emit("error",new Error(`Invalid variable byte integer: ${U}`)),!1;let Z=q[U];return Z||(Z=o(U),U<16384&&(q[U]=Z)),r("writeVarByteInt: writing to stream: %o",Z),V.write(Z)}function T(V,U){const Z=m.byteLength(U);return d(V,Z),r("writeString: %s",U),V.write(U,"utf8")}function I(V,U,Z){T(V,U),T(V,Z)}function j(V,U){return r("writeNumberCached: number: %d",U),r("writeNumberCached: %o",e[U]),V.write(e[U])}function $(V,U){const Z=n(U);return r("writeNumberGenerated: %o",Z),V.write(Z)}function oe(V,U){const Z=y(U);return r("write4ByteNumber: %o",Z),V.write(Z)}function ne(V,U){typeof U=="string"?T(V,U):U?(d(V,U.length),V.write(U)):d(V,0)}function W(V,U){if(typeof U!="object"||U.length!=null)return{length:1,write(){ee(V,{},0)}};let Z=0;function O(F,G){const X=v.propertiesTypes[F];let S=0;switch(X){case"byte":{if(typeof G!="boolean")return V.emit("error",new Error(`Invalid ${F}: ${G}`)),!1;S+=2;break}case"int8":{if(typeof G!="number"||G<0||G>255)return V.emit("error",new Error(`Invalid ${F}: ${G}`)),!1;S+=2;break}case"binary":{if(G&&G===null)return V.emit("error",new Error(`Invalid ${F}: ${G}`)),!1;S+=1+m.byteLength(G)+2;break}case"int16":{if(typeof G!="number"||G<0||G>65535)return V.emit("error",new Error(`Invalid ${F}: ${G}`)),!1;S+=3;break}case"int32":{if(typeof G!="number"||G<0||G>4294967295)return V.emit("error",new Error(`Invalid ${F}: ${G}`)),!1;S+=5;break}case"var":{if(typeof G!="number"||G<0||G>268435455)return V.emit("error",new Error(`Invalid ${F}: ${G}`)),!1;S+=1+m.byteLength(o(G));break}case"string":{if(typeof G!="string")return V.emit("error",new Error(`Invalid ${F}: ${G}`)),!1;S+=3+m.byteLength(G.toString());break}case"pair":{if(typeof G!="object")return V.emit("error",new Error(`Invalid ${F}: ${G}`)),!1;S+=Object.getOwnPropertyNames(G).reduce((A,w)=>{const a=G[w];return Array.isArray(a)?A+=a.reduce((c,C)=>(c+=3+m.byteLength(w.toString())+2+m.byteLength(C.toString()),c),0):A+=3+m.byteLength(w.toString())+2+m.byteLength(G[w].toString()),A},0);break}default:return V.emit("error",new Error(`Invalid property ${F}: ${G}`)),!1}return S}if(U)for(const F in U){let G=0,X=0;const S=U[F];if(Array.isArray(S))for(let A=0;A<S.length;A++){if(X=O(F,S[A]),!X)return!1;G+=X}else{if(X=O(F,S),!X)return!1;G=X}if(!G)return!1;Z+=G}return{length:m.byteLength(o(Z))+Z,write(){ee(V,U,Z)}}}function Q(V,U,Z,O){const P=["reasonString","userProperties"],F=Z&&Z.properties&&Z.properties.maximumPacketSize?Z.properties.maximumPacketSize:0;let G=W(V,U);if(F)for(;O+G.length>F;){const X=P.shift();if(X&&U[X])delete U[X],G=W(V,U);else return!1}return G}function re(V,U,Z){switch(v.propertiesTypes[U]){case"byte":{V.write(m.from([v.properties[U]])),V.write(m.from([+Z]));break}case"int8":{V.write(m.from([v.properties[U]])),V.write(m.from([Z]));break}case"binary":{V.write(m.from([v.properties[U]])),ne(V,Z);break}case"int16":{V.write(m.from([v.properties[U]])),d(V,Z);break}case"int32":{V.write(m.from([v.properties[U]])),oe(V,Z);break}case"var":{V.write(m.from([v.properties[U]])),Y(V,Z);break}case"string":{V.write(m.from([v.properties[U]])),T(V,Z);break}case"pair":{Object.getOwnPropertyNames(Z).forEach(P=>{const F=Z[P];Array.isArray(F)?F.forEach(G=>{V.write(m.from([v.properties[U]])),I(V,P.toString(),G.toString())}):(V.write(m.from([v.properties[U]])),I(V,P.toString(),F.toString()))});break}default:return V.emit("error",new Error(`Invalid property ${U} value: ${Z}`)),!1}}function ee(V,U,Z){Y(V,Z);for(const O in U)if(Object.prototype.hasOwnProperty.call(U,O)&&U[O]!==null){const P=U[O];if(Array.isArray(P))for(let F=0;F<P.length;F++)re(V,O,P[F]);else re(V,O,P)}}function se(V){return V?V instanceof m?V.length:m.byteLength(V):0}function ie(V){return typeof V=="string"||V instanceof m}K.exports=i}).call(this)}).call(this,x("buffer").Buffer)},{"./constants":38,"./numbers":41,buffer:17,debug:18,"process-nextick-args":49}],45:[function(x,K,N){var m=1e3,v=m*60,p=v*60,h=p*24,s=h*7,t=h*365.25;K.exports=function(o,y){y=y||{};var d=typeof o;if(d==="string"&&o.length>0)return r(o);if(d==="number"&&isFinite(o))return y.long?n(o):e(o);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(o))};function r(o){if(o=String(o),!(o.length>100)){var y=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(o);if(y){var d=parseFloat(y[1]),u=(y[2]||"ms").toLowerCase();switch(u){case"years":case"year":case"yrs":case"yr":case"y":return d*t;case"weeks":case"week":case"w":return d*s;case"days":case"day":case"d":return d*h;case"hours":case"hour":case"hrs":case"hr":case"h":return d*p;case"minutes":case"minute":case"mins":case"min":case"m":return d*v;case"seconds":case"second":case"secs":case"sec":case"s":return d*m;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return d;default:return}}}}function e(o){var y=Math.abs(o);return y>=h?Math.round(o/h)+"d":y>=p?Math.round(o/p)+"h":y>=v?Math.round(o/v)+"m":y>=m?Math.round(o/m)+"s":o+"ms"}function n(o){var y=Math.abs(o);return y>=h?f(o,y,h,"day"):y>=p?f(o,y,p,"hour"):y>=v?f(o,y,v,"minute"):y>=m?f(o,y,m,"second"):o+" ms"}function f(o,y,d,u){var i=y>=d*1.5;return Math.round(o/d)+" "+u+(i?"s":"")}},{}],46:[function(x,K,N){const m=x("./lib/number-allocator.js");K.exports.NumberAllocator=m},{"./lib/number-allocator.js":47}],47:[function(x,K,N){const m=x("js-sdsl").Set,v=x("debug")("number-allocator:trace"),p=x("debug")("number-allocator:error");function h(t,r){this.low=t,this.high=r}h.prototype.equals=function(t){return this.low===t.low&&this.high===t.high},h.prototype.compare=function(t){return this.low<t.low&&this.high<t.low?-1:t.low<this.low&&t.high<this.low?1:0};function s(t,r){if(!(this instanceof s))return new s(t,r);this.min=t,this.max=r,this.ss=new m([],(e,n)=>e.compare(n)),v("Create"),this.clear()}s.prototype.firstVacant=function(){return this.ss.size()===0?null:this.ss.front().low},s.prototype.alloc=function(){if(this.ss.size()===0)return v("alloc():empty"),null;const t=this.ss.front(),r=t.low;return r+1<=t.high?++t.low:this.ss.eraseElementByPos(0),v("alloc():"+r),r},s.prototype.use=function(t){const r=new h(t,t),e=this.ss.lowerBound(r);if(e){if(e.equals(r))return this.ss.eraseElementByValue(e),v("use():"+t),!0;if(e.low>t)return!1;if(e.low===t)return++e.low,v("use():"+t),!0;if(e.high===t)return--e.high,v("use():"+t),!0;const n=e.low;return e.low=t+1,this.ss.insert(new h(n,t-1)),v("use():"+t),!0}return v("use():failed"),!1},s.prototype.free=function(t){if(t<this.min||t>this.max){p("free():"+t+" is out of range");return}const r=new h(t,t),e=this.ss.lowerBound(r);if(e){if(e.low<=t&&t<=e.high){p("free():"+t+" has already been vacant");return}if(e===this.ss.front())t+1===e.low?--e.low:this.ss.insert(r);else{const n=this.ss.reverseLowerBound(r);n.high+1===t?t+1===e.low?(this.ss.eraseElementByValue(n),e.low=n.low):n.high=t:t+1===e.low?e.low=t:this.ss.insert(r)}}else{if(e===this.ss.front()){this.ss.insert(r);return}const n=this.ss.reverseLowerBound(r);n.high+1===t?n.high=t:this.ss.insert(r)}v("free():"+t)},s.prototype.clear=function(){v("clear()"),this.ss.clear(),this.ss.insert(new h(this.min,this.max))},s.prototype.intervalCount=function(){return this.ss.size()},s.prototype.dump=function(){console.log("length:"+this.ss.size());for(const t of this.ss)console.log(t)},K.exports=s},{debug:18,"js-sdsl":36}],48:[function(x,K,N){var m=x("wrappy");K.exports=m(v),K.exports.strict=m(p),v.proto=v(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return v(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return p(this)},configurable:!0})});function v(h){var s=function(){return s.called?s.value:(s.called=!0,s.value=h.apply(this,arguments))};return s.called=!1,s}function p(h){var s=function(){if(s.called)throw new Error(s.onceError);return s.called=!0,s.value=h.apply(this,arguments)},t=h.name||"Function wrapped with `once`";return s.onceError=t+" shouldn't be called more than once",s.called=!1,s}},{wrappy:79}],49:[function(x,K,N){(function(m){(function(){typeof m>"u"||!m.version||m.version.indexOf("v0.")===0||m.version.indexOf("v1.")===0&&m.version.indexOf("v1.8.")!==0?K.exports={nextTick:v}:K.exports=m;function v(p,h,s,t){if(typeof p!="function")throw new TypeError('"callback" argument must be a function');var r=arguments.length,e,n;switch(r){case 0:case 1:return m.nextTick(p);case 2:return m.nextTick(function(){p.call(null,h)});case 3:return m.nextTick(function(){p.call(null,h,s)});case 4:return m.nextTick(function(){p.call(null,h,s,t)});default:for(e=new Array(r-1),n=0;n<e.length;)e[n++]=arguments[n];return m.nextTick(function(){p.apply(null,e)})}}}).call(this)}).call(this,x("_process"))},{_process:50}],50:[function(x,K,N){var m=K.exports={},v,p;function h(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?v=setTimeout:v=h}catch{v=h}try{typeof clearTimeout=="function"?p=clearTimeout:p=s}catch{p=s}})();function t(g){if(v===setTimeout)return setTimeout(g,0);if((v===h||!v)&&setTimeout)return v=setTimeout,setTimeout(g,0);try{return v(g,0)}catch{try{return v.call(null,g,0)}catch{return v.call(this,g,0)}}}function r(g){if(p===clearTimeout)return clearTimeout(g);if((p===s||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(g);try{return p(g)}catch{try{return p.call(null,g)}catch{return p.call(this,g)}}}var e=[],n=!1,f,o=-1;function y(){!n||!f||(n=!1,f.length?e=f.concat(e):o=-1,e.length&&d())}function d(){if(!n){var g=t(y);n=!0;for(var E=e.length;E;){for(f=e,e=[];++o<E;)f&&f[o].run();o=-1,E=e.length}f=null,n=!1,r(g)}}m.nextTick=function(g){var E=new Array(arguments.length-1);if(arguments.length>1)for(var k=1;k<arguments.length;k++)E[k-1]=arguments[k];e.push(new u(g,E)),e.length===1&&!n&&t(d)};function u(g,E){this.fun=g,this.array=E}u.prototype.run=function(){this.fun.apply(null,this.array)},m.title="browser",m.browser=!0,m.env={},m.argv=[],m.version="",m.versions={};function i(){}m.on=i,m.addListener=i,m.once=i,m.off=i,m.removeListener=i,m.removeAllListeners=i,m.emit=i,m.prependListener=i,m.prependOnceListener=i,m.listeners=function(g){return[]},m.binding=function(g){throw new Error("process.binding is not supported")},m.cwd=function(){return"/"},m.chdir=function(g){throw new Error("process.chdir is not supported")},m.umask=function(){return 0}},{}],51:[function(x,K,N){(function(m){(function(){(function(v){var p=typeof N=="object"&&N&&!N.nodeType&&N,h=typeof K=="object"&&K&&!K.nodeType&&K,s=typeof m=="object"&&m;(s.global===s||s.window===s||s.self===s)&&(v=s);var t,r=2147483647,e=36,n=1,f=26,o=38,y=700,d=72,u=128,i="-",g=/^xn--/,E=/[^\x20-\x7E]/,k=/[\x2E\u3002\uFF0E\uFF61]/g,M={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},L=e-n,R=Math.floor,H=String.fromCharCode,l;function _(W){throw new RangeError(M[W])}function b(W,Q){for(var re=W.length,ee=[];re--;)ee[re]=Q(W[re]);return ee}function B(W,Q){var re=W.split("@"),ee="";re.length>1&&(ee=re[0]+"@",W=re[1]),W=W.replace(k,".");var se=W.split("."),ie=b(se,Q).join(".");return ee+ie}function z(W){for(var Q=[],re=0,ee=W.length,se,ie;re<ee;)se=W.charCodeAt(re++),se>=55296&&se<=56319&&re<ee?(ie=W.charCodeAt(re++),(ie&64512)==56320?Q.push(((se&1023)<<10)+(ie&1023)+65536):(Q.push(se),re--)):Q.push(se);return Q}function q(W){return b(W,function(Q){var re="";return Q>65535&&(Q-=65536,re+=H(Q>>>10&1023|55296),Q=56320|Q&1023),re+=H(Q),re}).join("")}function Y(W){return W-48<10?W-22:W-65<26?W-65:W-97<26?W-97:e}function T(W,Q){return W+22+75*(W<26)-((Q!=0)<<5)}function I(W,Q,re){var ee=0;for(W=re?R(W/y):W>>1,W+=R(W/Q);W>L*f>>1;ee+=e)W=R(W/L);return R(ee+(L+1)*W/(W+o))}function j(W){var Q=[],re=W.length,ee,se=0,ie=u,V=d,U,Z,O,P,F,G,X,S,A;for(U=W.lastIndexOf(i),U<0&&(U=0),Z=0;Z<U;++Z)W.charCodeAt(Z)>=128&&_("not-basic"),Q.push(W.charCodeAt(Z));for(O=U>0?U+1:0;O<re;){for(P=se,F=1,G=e;O>=re&&_("invalid-input"),X=Y(W.charCodeAt(O++)),(X>=e||X>R((r-se)/F))&&_("overflow"),se+=X*F,S=G<=V?n:G>=V+f?f:G-V,!(X<S);G+=e)A=e-S,F>R(r/A)&&_("overflow"),F*=A;ee=Q.length+1,V=I(se-P,ee,P==0),R(se/ee)>r-ie&&_("overflow"),ie+=R(se/ee),se%=ee,Q.splice(se++,0,ie)}return q(Q)}function $(W){var Q,re,ee,se,ie,V,U,Z,O,P,F,G=[],X,S,A,w;for(W=z(W),X=W.length,Q=u,re=0,ie=d,V=0;V<X;++V)F=W[V],F<128&&G.push(H(F));for(ee=se=G.length,se&&G.push(i);ee<X;){for(U=r,V=0;V<X;++V)F=W[V],F>=Q&&F<U&&(U=F);for(S=ee+1,U-Q>R((r-re)/S)&&_("overflow"),re+=(U-Q)*S,Q=U,V=0;V<X;++V)if(F=W[V],F<Q&&++re>r&&_("overflow"),F==Q){for(Z=re,O=e;P=O<=ie?n:O>=ie+f?f:O-ie,!(Z<P);O+=e)w=Z-P,A=e-P,G.push(H(T(P+w%A,0))),Z=R(w/A);G.push(H(T(Z,0))),ie=I(re,S,ee==se),re=0,++ee}++re,++Q}return G.join("")}function oe(W){return B(W,function(Q){return g.test(Q)?j(Q.slice(4).toLowerCase()):Q})}function ne(W){return B(W,function(Q){return E.test(Q)?"xn--"+$(Q):Q})}if(t={version:"1.4.1",ucs2:{decode:z,encode:q},decode:j,encode:$,toASCII:ne,toUnicode:oe},p&&h)if(K.exports==p)h.exports=t;else for(l in t)t.hasOwnProperty(l)&&(p[l]=t[l]);else v.punycode=t})(this)}).call(this)}).call(this,typeof he<"u"?he:typeof self<"u"?self:typeof window<"u"?window:{})},{}],52:[function(x,K,N){function m(p,h){return Object.prototype.hasOwnProperty.call(p,h)}K.exports=function(p,h,s,t){h=h||"&",s=s||"=";var r={};if(typeof p!="string"||p.length===0)return r;var e=/\+/g;p=p.split(h);var n=1e3;t&&typeof t.maxKeys=="number"&&(n=t.maxKeys);var f=p.length;n>0&&f>n&&(f=n);for(var o=0;o<f;++o){var y=p[o].replace(e,"%20"),d=y.indexOf(s),u,i,g,E;d>=0?(u=y.substr(0,d),i=y.substr(d+1)):(u=y,i=""),g=decodeURIComponent(u),E=decodeURIComponent(i),m(r,g)?v(r[g])?r[g].push(E):r[g]=[r[g],E]:r[g]=E}return r};var v=Array.isArray||function(p){return Object.prototype.toString.call(p)==="[object Array]"}},{}],53:[function(x,K,N){var m=function(s){switch(typeof s){case"string":return s;case"boolean":return s?"true":"false";case"number":return isFinite(s)?s:"";default:return""}};K.exports=function(s,t,r,e){return t=t||"&",r=r||"=",s===null&&(s=void 0),typeof s=="object"?p(h(s),function(n){var f=encodeURIComponent(m(n))+r;return v(s[n])?p(s[n],function(o){return f+encodeURIComponent(m(o))}).join(t):f+encodeURIComponent(m(s[n]))}).join(t):e?encodeURIComponent(m(e))+r+encodeURIComponent(m(s)):""};var v=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function p(s,t){if(s.map)return s.map(t);for(var r=[],e=0;e<s.length;e++)r.push(t(s[e],e));return r}var h=Object.keys||function(s){var t=[];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&t.push(r);return t}},{}],54:[function(x,K,N){N.decode=N.parse=x("./decode"),N.encode=N.stringify=x("./encode")},{"./decode":52,"./encode":53}],55:[function(x,K,N){function m(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n}var v={};function p(e,n,f){f||(f=Error);function o(d,u,i){return typeof n=="string"?n:n(d,u,i)}var y=function(d){m(u,d);function u(i,g,E){return d.call(this,o(i,g,E))||this}return u}(f);y.prototype.name=f.name,y.prototype.code=e,v[e]=y}function h(e,n){if(Array.isArray(e)){var f=e.length;return e=e.map(function(o){return String(o)}),f>2?"one of ".concat(n," ").concat(e.slice(0,f-1).join(", "),", or ")+e[f-1]:f===2?"one of ".concat(n," ").concat(e[0]," or ").concat(e[1]):"of ".concat(n," ").concat(e[0])}else return"of ".concat(n," ").concat(String(e))}function s(e,n,f){return e.substr(!f||f<0?0:+f,n.length)===n}function t(e,n,f){return(f===void 0||f>e.length)&&(f=e.length),e.substring(f-n.length,f)===n}function r(e,n,f){return typeof f!="number"&&(f=0),f+n.length>e.length?!1:e.indexOf(n,f)!==-1}p("ERR_INVALID_OPT_VALUE",function(e,n){return'The value "'+n+'" is invalid for option "'+e+'"'},TypeError),p("ERR_INVALID_ARG_TYPE",function(e,n,f){var o;typeof n=="string"&&s(n,"not ")?(o="must not be",n=n.replace(/^not /,"")):o="must be";var y;if(t(e," argument"))y="The ".concat(e," ").concat(o," ").concat(h(n,"type"));else{var d=r(e,".")?"property":"argument";y='The "'.concat(e,'" ').concat(d," ").concat(o," ").concat(h(n,"type"))}return y+=". Received type ".concat(typeof f),y},TypeError),p("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),p("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"}),p("ERR_STREAM_PREMATURE_CLOSE","Premature close"),p("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"}),p("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),p("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),p("ERR_STREAM_WRITE_AFTER_END","write after end"),p("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),p("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError),p("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),K.exports.codes=v},{}],56:[function(x,K,N){(function(m){(function(){var v=Object.keys||function(o){var y=[];for(var d in o)y.push(d);return y};K.exports=e;var p=x("./_stream_readable"),h=x("./_stream_writable");x("inherits")(e,p);for(var s=v(h.prototype),t=0;t<s.length;t++){var r=s[t];e.prototype[r]||(e.prototype[r]=h.prototype[r])}function e(o){if(!(this instanceof e))return new e(o);p.call(this,o),h.call(this,o),this.allowHalfOpen=!0,o&&(o.readable===!1&&(this.readable=!1),o.writable===!1&&(this.writable=!1),o.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",n)))}Object.defineProperty(e.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(e.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(e.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function n(){this._writableState.ended||m.nextTick(f,this)}function f(o){o.end()}Object.defineProperty(e.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(y){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=y,this._writableState.destroyed=y)}})}).call(this)}).call(this,x("_process"))},{"./_stream_readable":58,"./_stream_writable":60,_process:50,inherits:24}],57:[function(x,K,N){K.exports=v;var m=x("./_stream_transform");x("inherits")(v,m);function v(p){if(!(this instanceof v))return new v(p);m.call(this,p)}v.prototype._transform=function(p,h,s){s(null,p)}},{"./_stream_transform":59,inherits:24}],58:[function(x,K,N){(function(m,v){(function(){K.exports=q;var p;q.ReadableState=z,x("events").EventEmitter;var h=function(A,w){return A.listeners(w).length},s=x("./internal/streams/stream"),t=x("buffer").Buffer,r=v.Uint8Array||function(){};function e(S){return t.from(S)}function n(S){return t.isBuffer(S)||S instanceof r}var f=x("util"),o;f&&f.debuglog?o=f.debuglog("stream"):o=function(){};var y=x("./internal/streams/buffer_list"),d=x("./internal/streams/destroy"),u=x("./internal/streams/state"),i=u.getHighWaterMark,g=x("../errors").codes,E=g.ERR_INVALID_ARG_TYPE,k=g.ERR_STREAM_PUSH_AFTER_EOF,M=g.ERR_METHOD_NOT_IMPLEMENTED,L=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,R,H,l;x("inherits")(q,s);var _=d.errorOrDestroy,b=["error","close","destroy","pause","resume"];function B(S,A,w){if(typeof S.prependListener=="function")return S.prependListener(A,w);!S._events||!S._events[A]?S.on(A,w):Array.isArray(S._events[A])?S._events[A].unshift(w):S._events[A]=[w,S._events[A]]}function z(S,A,w){p=p||x("./_stream_duplex"),S=S||{},typeof w!="boolean"&&(w=A instanceof p),this.objectMode=!!S.objectMode,w&&(this.objectMode=this.objectMode||!!S.readableObjectMode),this.highWaterMark=i(this,S,"readableHighWaterMark",w),this.buffer=new y,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=S.emitClose!==!1,this.autoDestroy=!!S.autoDestroy,this.destroyed=!1,this.defaultEncoding=S.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,S.encoding&&(R||(R=x("string_decoder/").StringDecoder),this.decoder=new R(S.encoding),this.encoding=S.encoding)}function q(S){if(p=p||x("./_stream_duplex"),!(this instanceof q))return new q(S);var A=this instanceof p;this._readableState=new z(S,this,A),this.readable=!0,S&&(typeof S.read=="function"&&(this._read=S.read),typeof S.destroy=="function"&&(this._destroy=S.destroy)),s.call(this)}Object.defineProperty(q.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(A){this._readableState&&(this._readableState.destroyed=A)}}),q.prototype.destroy=d.destroy,q.prototype._undestroy=d.undestroy,q.prototype._destroy=function(S,A){A(S)},q.prototype.push=function(S,A){var w=this._readableState,a;return w.objectMode?a=!0:typeof S=="string"&&(A=A||w.defaultEncoding,A!==w.encoding&&(S=t.from(S,A),A=""),a=!0),Y(this,S,A,!1,a)},q.prototype.unshift=function(S){return Y(this,S,null,!0,!1)};function Y(S,A,w,a,c){o("readableAddChunk",A);var C=S._readableState;if(A===null)C.reading=!1,ne(S,C);else{var D;if(c||(D=I(C,A)),D)_(S,D);else if(C.objectMode||A&&A.length>0)if(typeof A!="string"&&!C.objectMode&&Object.getPrototypeOf(A)!==t.prototype&&(A=e(A)),a)C.endEmitted?_(S,new L):T(S,C,A,!0);else if(C.ended)_(S,new k);else{if(C.destroyed)return!1;C.reading=!1,C.decoder&&!w?(A=C.decoder.write(A),C.objectMode||A.length!==0?T(S,C,A,!1):re(S,C)):T(S,C,A,!1)}else a||(C.reading=!1,re(S,C))}return!C.ended&&(C.length<C.highWaterMark||C.length===0)}function T(S,A,w,a){A.flowing&&A.length===0&&!A.sync?(A.awaitDrain=0,S.emit("data",w)):(A.length+=A.objectMode?1:w.length,a?A.buffer.unshift(w):A.buffer.push(w),A.needReadable&&W(S)),re(S,A)}function I(S,A){var w;return!n(A)&&typeof A!="string"&&A!==void 0&&!S.objectMode&&(w=new E("chunk",["string","Buffer","Uint8Array"],A)),w}q.prototype.isPaused=function(){return this._readableState.flowing===!1},q.prototype.setEncoding=function(S){R||(R=x("string_decoder/").StringDecoder);var A=new R(S);this._readableState.decoder=A,this._readableState.encoding=this._readableState.decoder.encoding;for(var w=this._readableState.buffer.head,a="";w!==null;)a+=A.write(w.data),w=w.next;return this._readableState.buffer.clear(),a!==""&&this._readableState.buffer.push(a),this._readableState.length=a.length,this};var j=1073741824;function $(S){return S>=j?S=j:(S--,S|=S>>>1,S|=S>>>2,S|=S>>>4,S|=S>>>8,S|=S>>>16,S++),S}function oe(S,A){return S<=0||A.length===0&&A.ended?0:A.objectMode?1:S!==S?A.flowing&&A.length?A.buffer.head.data.length:A.length:(S>A.highWaterMark&&(A.highWaterMark=$(S)),S<=A.length?S:A.ended?A.length:(A.needReadable=!0,0))}q.prototype.read=function(S){o("read",S),S=parseInt(S,10);var A=this._readableState,w=S;if(S!==0&&(A.emittedReadable=!1),S===0&&A.needReadable&&((A.highWaterMark!==0?A.length>=A.highWaterMark:A.length>0)||A.ended))return o("read: emitReadable",A.length,A.ended),A.length===0&&A.ended?F(this):W(this),null;if(S=oe(S,A),S===0&&A.ended)return A.length===0&&F(this),null;var a=A.needReadable;o("need readable",a),(A.length===0||A.length-S<A.highWaterMark)&&(a=!0,o("length less than watermark",a)),A.ended||A.reading?(a=!1,o("reading or ended",a)):a&&(o("do read"),A.reading=!0,A.sync=!0,A.length===0&&(A.needReadable=!0),this._read(A.highWaterMark),A.sync=!1,A.reading||(S=oe(w,A)));var c;return S>0?c=P(S,A):c=null,c===null?(A.needReadable=A.length<=A.highWaterMark,S=0):(A.length-=S,A.awaitDrain=0),A.length===0&&(A.ended||(A.needReadable=!0),w!==S&&A.ended&&F(this)),c!==null&&this.emit("data",c),c};function ne(S,A){if(o("onEofChunk"),!A.ended){if(A.decoder){var w=A.decoder.end();w&&w.length&&(A.buffer.push(w),A.length+=A.objectMode?1:w.length)}A.ended=!0,A.sync?W(S):(A.needReadable=!1,A.emittedReadable||(A.emittedReadable=!0,Q(S)))}}function W(S){var A=S._readableState;o("emitReadable",A.needReadable,A.emittedReadable),A.needReadable=!1,A.emittedReadable||(o("emitReadable",A.flowing),A.emittedReadable=!0,m.nextTick(Q,S))}function Q(S){var A=S._readableState;o("emitReadable_",A.destroyed,A.length,A.ended),!A.destroyed&&(A.length||A.ended)&&(S.emit("readable"),A.emittedReadable=!1),A.needReadable=!A.flowing&&!A.ended&&A.length<=A.highWaterMark,O(S)}function re(S,A){A.readingMore||(A.readingMore=!0,m.nextTick(ee,S,A))}function ee(S,A){for(;!A.reading&&!A.ended&&(A.length<A.highWaterMark||A.flowing&&A.length===0);){var w=A.length;if(o("maybeReadMore read 0"),S.read(0),w===A.length)break}A.readingMore=!1}q.prototype._read=function(S){_(this,new M("_read()"))},q.prototype.pipe=function(S,A){var w=this,a=this._readableState;switch(a.pipesCount){case 0:a.pipes=S;break;case 1:a.pipes=[a.pipes,S];break;default:a.pipes.push(S);break}a.pipesCount+=1,o("pipe count=%d opts=%j",a.pipesCount,A);var c=(!A||A.end!==!1)&&S!==m.stdout&&S!==m.stderr,C=c?J:ye;a.endEmitted?m.nextTick(C):w.once("end",C),S.on("unpipe",D);function D(pe,ge){o("onunpipe"),pe===w&&ge&&ge.hasUnpiped===!1&&(ge.hasUnpiped=!0,le())}function J(){o("onend"),S.end()}var te=se(w);S.on("drain",te);var ae=!1;function le(){o("cleanup"),S.removeListener("close",ue),S.removeListener("finish",de),S.removeListener("drain",te),S.removeListener("error",ce),S.removeListener("unpipe",D),w.removeListener("end",J),w.removeListener("end",ye),w.removeListener("data",fe),ae=!0,a.awaitDrain&&(!S._writableState||S._writableState.needDrain)&&te()}w.on("data",fe);function fe(pe){o("ondata");var ge=S.write(pe);o("dest.write",ge),ge===!1&&((a.pipesCount===1&&a.pipes===S||a.pipesCount>1&&X(a.pipes,S)!==-1)&&!ae&&(o("false write response, pause",a.awaitDrain),a.awaitDrain++),w.pause())}function ce(pe){o("onerror",pe),ye(),S.removeListener("error",ce),h(S,"error")===0&&_(S,pe)}B(S,"error",ce);function ue(){S.removeListener("finish",de),ye()}S.once("close",ue);function de(){o("onfinish"),S.removeListener("close",ue),ye()}S.once("finish",de);function ye(){o("unpipe"),w.unpipe(S)}return S.emit("pipe",w),a.flowing||(o("pipe resume"),w.resume()),S};function se(S){return function(){var w=S._readableState;o("pipeOnDrain",w.awaitDrain),w.awaitDrain&&w.awaitDrain--,w.awaitDrain===0&&h(S,"data")&&(w.flowing=!0,O(S))}}q.prototype.unpipe=function(S){var A=this._readableState,w={hasUnpiped:!1};if(A.pipesCount===0)return this;if(A.pipesCount===1)return S&&S!==A.pipes?this:(S||(S=A.pipes),A.pipes=null,A.pipesCount=0,A.flowing=!1,S&&S.emit("unpipe",this,w),this);if(!S){var a=A.pipes,c=A.pipesCount;A.pipes=null,A.pipesCount=0,A.flowing=!1;for(var C=0;C<c;C++)a[C].emit("unpipe",this,{hasUnpiped:!1});return this}var D=X(A.pipes,S);return D===-1?this:(A.pipes.splice(D,1),A.pipesCount-=1,A.pipesCount===1&&(A.pipes=A.pipes[0]),S.emit("unpipe",this,w),this)},q.prototype.on=function(S,A){var w=s.prototype.on.call(this,S,A),a=this._readableState;return S==="data"?(a.readableListening=this.listenerCount("readable")>0,a.flowing!==!1&&this.resume()):S==="readable"&&!a.endEmitted&&!a.readableListening&&(a.readableListening=a.needReadable=!0,a.flowing=!1,a.emittedReadable=!1,o("on readable",a.length,a.reading),a.length?W(this):a.reading||m.nextTick(V,this)),w},q.prototype.addListener=q.prototype.on,q.prototype.removeListener=function(S,A){var w=s.prototype.removeListener.call(this,S,A);return S==="readable"&&m.nextTick(ie,this),w},q.prototype.removeAllListeners=function(S){var A=s.prototype.removeAllListeners.apply(this,arguments);return(S==="readable"||S===void 0)&&m.nextTick(ie,this),A};function ie(S){var A=S._readableState;A.readableListening=S.listenerCount("readable")>0,A.resumeScheduled&&!A.paused?A.flowing=!0:S.listenerCount("data")>0&&S.resume()}function V(S){o("readable nexttick read 0"),S.read(0)}q.prototype.resume=function(){var S=this._readableState;return S.flowing||(o("resume"),S.flowing=!S.readableListening,U(this,S)),S.paused=!1,this};function U(S,A){A.resumeScheduled||(A.resumeScheduled=!0,m.nextTick(Z,S,A))}function Z(S,A){o("resume",A.reading),A.reading||S.read(0),A.resumeScheduled=!1,S.emit("resume"),O(S),A.flowing&&!A.reading&&S.read(0)}q.prototype.pause=function(){return o("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(o("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function O(S){var A=S._readableState;for(o("flow",A.flowing);A.flowing&&S.read()!==null;);}q.prototype.wrap=function(S){var A=this,w=this._readableState,a=!1;S.on("end",function(){if(o("wrapped end"),w.decoder&&!w.ended){var D=w.decoder.end();D&&D.length&&A.push(D)}A.push(null)}),S.on("data",function(D){if(o("wrapped data"),w.decoder&&(D=w.decoder.write(D)),!(w.objectMode&&D==null)&&!(!w.objectMode&&(!D||!D.length))){var J=A.push(D);J||(a=!0,S.pause())}});for(var c in S)this[c]===void 0&&typeof S[c]=="function"&&(this[c]=function(J){return function(){return S[J].apply(S,arguments)}}(c));for(var C=0;C<b.length;C++)S.on(b[C],this.emit.bind(this,b[C]));return this._read=function(D){o("wrapped _read",D),a&&(a=!1,S.resume())},this},typeof Symbol=="function"&&(q.prototype[Symbol.asyncIterator]=function(){return H===void 0&&(H=x("./internal/streams/async_iterator")),H(this)}),Object.defineProperty(q.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(q.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(q.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(A){this._readableState&&(this._readableState.flowing=A)}}),q._fromList=P,Object.defineProperty(q.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function P(S,A){if(A.length===0)return null;var w;return A.objectMode?w=A.buffer.shift():!S||S>=A.length?(A.decoder?w=A.buffer.join(""):A.buffer.length===1?w=A.buffer.first():w=A.buffer.concat(A.length),A.buffer.clear()):w=A.buffer.consume(S,A.decoder),w}function F(S){var A=S._readableState;o("endReadable",A.endEmitted),A.endEmitted||(A.ended=!0,m.nextTick(G,A,S))}function G(S,A){if(o("endReadableNT",S.endEmitted,S.length),!S.endEmitted&&S.length===0&&(S.endEmitted=!0,A.readable=!1,A.emit("end"),S.autoDestroy)){var w=A._writableState;(!w||w.autoDestroy&&w.finished)&&A.destroy()}}typeof Symbol=="function"&&(q.from=function(S,A){return l===void 0&&(l=x("./internal/streams/from")),l(q,S,A)});function X(S,A){for(var w=0,a=S.length;w<a;w++)if(S[w]===A)return w;return-1}}).call(this)}).call(this,x("_process"),typeof he<"u"?he:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":55,"./_stream_duplex":56,"./internal/streams/async_iterator":61,"./internal/streams/buffer_list":62,"./internal/streams/destroy":63,"./internal/streams/from":65,"./internal/streams/state":67,"./internal/streams/stream":68,_process:50,buffer:17,events:22,inherits:24,"string_decoder/":75,util:16}],59:[function(x,K,N){K.exports=e;var m=x("../errors").codes,v=m.ERR_METHOD_NOT_IMPLEMENTED,p=m.ERR_MULTIPLE_CALLBACK,h=m.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=m.ERR_TRANSFORM_WITH_LENGTH_0,t=x("./_stream_duplex");x("inherits")(e,t);function r(o,y){var d=this._transformState;d.transforming=!1;var u=d.writecb;if(u===null)return this.emit("error",new p);d.writechunk=null,d.writecb=null,y!=null&&this.push(y),u(o);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function e(o){if(!(this instanceof e))return new e(o);t.call(this,o),this._transformState={afterTransform:r.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,o&&(typeof o.transform=="function"&&(this._transform=o.transform),typeof o.flush=="function"&&(this._flush=o.flush)),this.on("prefinish",n)}function n(){var o=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(y,d){f(o,y,d)}):f(this,null,null)}e.prototype.push=function(o,y){return this._transformState.needTransform=!1,t.prototype.push.call(this,o,y)},e.prototype._transform=function(o,y,d){d(new v("_transform()"))},e.prototype._write=function(o,y,d){var u=this._transformState;if(u.writecb=d,u.writechunk=o,u.writeencoding=y,!u.transforming){var i=this._readableState;(u.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},e.prototype._read=function(o){var y=this._transformState;y.writechunk!==null&&!y.transforming?(y.transforming=!0,this._transform(y.writechunk,y.writeencoding,y.afterTransform)):y.needTransform=!0},e.prototype._destroy=function(o,y){t.prototype._destroy.call(this,o,function(d){y(d)})};function f(o,y,d){if(y)return o.emit("error",y);if(d!=null&&o.push(d),o._writableState.length)throw new s;if(o._transformState.transforming)throw new h;return o.push(null)}},{"../errors":55,"./_stream_duplex":56,inherits:24}],60:[function(x,K,N){(function(m,v){(function(){K.exports=z;function p(O){var P=this;this.next=null,this.entry=null,this.finish=function(){Z(P,O)}}var h;z.WritableState=b;var s={deprecate:x("util-deprecate")},t=x("./internal/streams/stream"),r=x("buffer").Buffer,e=v.Uint8Array||function(){};function n(O){return r.from(O)}function f(O){return r.isBuffer(O)||O instanceof e}var o=x("./internal/streams/destroy"),y=x("./internal/streams/state"),d=y.getHighWaterMark,u=x("../errors").codes,i=u.ERR_INVALID_ARG_TYPE,g=u.ERR_METHOD_NOT_IMPLEMENTED,E=u.ERR_MULTIPLE_CALLBACK,k=u.ERR_STREAM_CANNOT_PIPE,M=u.ERR_STREAM_DESTROYED,L=u.ERR_STREAM_NULL_VALUES,R=u.ERR_STREAM_WRITE_AFTER_END,H=u.ERR_UNKNOWN_ENCODING,l=o.errorOrDestroy;x("inherits")(z,t);function _(){}function b(O,P,F){h=h||x("./_stream_duplex"),O=O||{},typeof F!="boolean"&&(F=P instanceof h),this.objectMode=!!O.objectMode,F&&(this.objectMode=this.objectMode||!!O.writableObjectMode),this.highWaterMark=d(this,O,"writableHighWaterMark",F),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var G=O.decodeStrings===!1;this.decodeStrings=!G,this.defaultEncoding=O.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(X){ne(P,X)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=O.emitClose!==!1,this.autoDestroy=!!O.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new p(this)}b.prototype.getBuffer=function(){for(var P=this.bufferedRequest,F=[];P;)F.push(P),P=P.next;return F},function(){try{Object.defineProperty(b.prototype,"buffer",{get:s.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var B;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(B=Function.prototype[Symbol.hasInstance],Object.defineProperty(z,Symbol.hasInstance,{value:function(P){return B.call(this,P)?!0:this!==z?!1:P&&P._writableState instanceof b}})):B=function(P){return P instanceof this};function z(O){h=h||x("./_stream_duplex");var P=this instanceof h;if(!P&&!B.call(z,this))return new z(O);this._writableState=new b(O,this,P),this.writable=!0,O&&(typeof O.write=="function"&&(this._write=O.write),typeof O.writev=="function"&&(this._writev=O.writev),typeof O.destroy=="function"&&(this._destroy=O.destroy),typeof O.final=="function"&&(this._final=O.final)),t.call(this)}z.prototype.pipe=function(){l(this,new k)};function q(O,P){var F=new R;l(O,F),m.nextTick(P,F)}function Y(O,P,F,G){var X;return F===null?X=new L:typeof F!="string"&&!P.objectMode&&(X=new i("chunk",["string","Buffer"],F)),X?(l(O,X),m.nextTick(G,X),!1):!0}z.prototype.write=function(O,P,F){var G=this._writableState,X=!1,S=!G.objectMode&&f(O);return S&&!r.isBuffer(O)&&(O=n(O)),typeof P=="function"&&(F=P,P=null),S?P="buffer":P||(P=G.defaultEncoding),typeof F!="function"&&(F=_),G.ending?q(this,F):(S||Y(this,G,O,F))&&(G.pendingcb++,X=I(this,G,S,O,P,F)),X},z.prototype.cork=function(){this._writableState.corked++},z.prototype.uncork=function(){var O=this._writableState;O.corked&&(O.corked--,!O.writing&&!O.corked&&!O.bufferProcessing&&O.bufferedRequest&&re(this,O))},z.prototype.setDefaultEncoding=function(P){if(typeof P=="string"&&(P=P.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((P+"").toLowerCase())>-1))throw new H(P);return this._writableState.defaultEncoding=P,this},Object.defineProperty(z.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function T(O,P,F){return!O.objectMode&&O.decodeStrings!==!1&&typeof P=="string"&&(P=r.from(P,F)),P}Object.defineProperty(z.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function I(O,P,F,G,X,S){if(!F){var A=T(P,G,X);G!==A&&(F=!0,X="buffer",G=A)}var w=P.objectMode?1:G.length;P.length+=w;var a=P.length<P.highWaterMark;if(a||(P.needDrain=!0),P.writing||P.corked){var c=P.lastBufferedRequest;P.lastBufferedRequest={chunk:G,encoding:X,isBuf:F,callback:S,next:null},c?c.next=P.lastBufferedRequest:P.bufferedRequest=P.lastBufferedRequest,P.bufferedRequestCount+=1}else j(O,P,!1,w,G,X,S);return a}function j(O,P,F,G,X,S,A){P.writelen=G,P.writecb=A,P.writing=!0,P.sync=!0,P.destroyed?P.onwrite(new M("write")):F?O._writev(X,P.onwrite):O._write(X,S,P.onwrite),P.sync=!1}function $(O,P,F,G,X){--P.pendingcb,F?(m.nextTick(X,G),m.nextTick(V,O,P),O._writableState.errorEmitted=!0,l(O,G)):(X(G),O._writableState.errorEmitted=!0,l(O,G),V(O,P))}function oe(O){O.writing=!1,O.writecb=null,O.length-=O.writelen,O.writelen=0}function ne(O,P){var F=O._writableState,G=F.sync,X=F.writecb;if(typeof X!="function")throw new E;if(oe(F),P)$(O,F,G,P,X);else{var S=ee(F)||O.destroyed;!S&&!F.corked&&!F.bufferProcessing&&F.bufferedRequest&&re(O,F),G?m.nextTick(W,O,F,S,X):W(O,F,S,X)}}function W(O,P,F,G){F||Q(O,P),P.pendingcb--,G(),V(O,P)}function Q(O,P){P.length===0&&P.needDrain&&(P.needDrain=!1,O.emit("drain"))}function re(O,P){P.bufferProcessing=!0;var F=P.bufferedRequest;if(O._writev&&F&&F.next){var G=P.bufferedRequestCount,X=new Array(G),S=P.corkedRequestsFree;S.entry=F;for(var A=0,w=!0;F;)X[A]=F,F.isBuf||(w=!1),F=F.next,A+=1;X.allBuffers=w,j(O,P,!0,P.length,X,"",S.finish),P.pendingcb++,P.lastBufferedRequest=null,S.next?(P.corkedRequestsFree=S.next,S.next=null):P.corkedRequestsFree=new p(P),P.bufferedRequestCount=0}else{for(;F;){var a=F.chunk,c=F.encoding,C=F.callback,D=P.objectMode?1:a.length;if(j(O,P,!1,D,a,c,C),F=F.next,P.bufferedRequestCount--,P.writing)break}F===null&&(P.lastBufferedRequest=null)}P.bufferedRequest=F,P.bufferProcessing=!1}z.prototype._write=function(O,P,F){F(new g("_write()"))},z.prototype._writev=null,z.prototype.end=function(O,P,F){var G=this._writableState;return typeof O=="function"?(F=O,O=null,P=null):typeof P=="function"&&(F=P,P=null),O!=null&&this.write(O,P),G.corked&&(G.corked=1,this.uncork()),G.ending||U(this,G,F),this},Object.defineProperty(z.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function ee(O){return O.ending&&O.length===0&&O.bufferedRequest===null&&!O.finished&&!O.writing}function se(O,P){O._final(function(F){P.pendingcb--,F&&l(O,F),P.prefinished=!0,O.emit("prefinish"),V(O,P)})}function ie(O,P){!P.prefinished&&!P.finalCalled&&(typeof O._final=="function"&&!P.destroyed?(P.pendingcb++,P.finalCalled=!0,m.nextTick(se,O,P)):(P.prefinished=!0,O.emit("prefinish")))}function V(O,P){var F=ee(P);if(F&&(ie(O,P),P.pendingcb===0&&(P.finished=!0,O.emit("finish"),P.autoDestroy))){var G=O._readableState;(!G||G.autoDestroy&&G.endEmitted)&&O.destroy()}return F}function U(O,P,F){P.ending=!0,V(O,P),F&&(P.finished?m.nextTick(F):O.once("finish",F)),P.ended=!0,O.writable=!1}function Z(O,P,F){var G=O.entry;for(O.entry=null;G;){var X=G.callback;P.pendingcb--,X(F),G=G.next}P.corkedRequestsFree.next=O}Object.defineProperty(z.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(P){this._writableState&&(this._writableState.destroyed=P)}}),z.prototype.destroy=o.destroy,z.prototype._undestroy=o.undestroy,z.prototype._destroy=function(O,P){P(O)}}).call(this)}).call(this,x("_process"),typeof he<"u"?he:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":55,"./_stream_duplex":56,"./internal/streams/destroy":63,"./internal/streams/state":67,"./internal/streams/stream":68,_process:50,buffer:17,inherits:24,"util-deprecate":78}],61:[function(x,K,N){(function(m){(function(){var v;function p(M,L,R){return L in M?Object.defineProperty(M,L,{value:R,enumerable:!0,configurable:!0,writable:!0}):M[L]=R,M}var h=x("./end-of-stream"),s=Symbol("lastResolve"),t=Symbol("lastReject"),r=Symbol("error"),e=Symbol("ended"),n=Symbol("lastPromise"),f=Symbol("handlePromise"),o=Symbol("stream");function y(M,L){return{value:M,done:L}}function d(M){var L=M[s];if(L!==null){var R=M[o].read();R!==null&&(M[n]=null,M[s]=null,M[t]=null,L(y(R,!1)))}}function u(M){m.nextTick(d,M)}function i(M,L){return function(R,H){M.then(function(){if(L[e]){R(y(void 0,!0));return}L[f](R,H)},H)}}var g=Object.getPrototypeOf(function(){}),E=Object.setPrototypeOf((v={get stream(){return this[o]},next:function(){var L=this,R=this[r];if(R!==null)return Promise.reject(R);if(this[e])return Promise.resolve(y(void 0,!0));if(this[o].destroyed)return new Promise(function(b,B){m.nextTick(function(){L[r]?B(L[r]):b(y(void 0,!0))})});var H=this[n],l;if(H)l=new Promise(i(H,this));else{var _=this[o].read();if(_!==null)return Promise.resolve(y(_,!1));l=new Promise(this[f])}return this[n]=l,l}},p(v,Symbol.asyncIterator,function(){return this}),p(v,"return",function(){var L=this;return new Promise(function(R,H){L[o].destroy(null,function(l){if(l){H(l);return}R(y(void 0,!0))})})}),v),g),k=function(L){var R,H=Object.create(E,(R={},p(R,o,{value:L,writable:!0}),p(R,s,{value:null,writable:!0}),p(R,t,{value:null,writable:!0}),p(R,r,{value:null,writable:!0}),p(R,e,{value:L._readableState.endEmitted,writable:!0}),p(R,f,{value:function(_,b){var B=H[o].read();B?(H[n]=null,H[s]=null,H[t]=null,_(y(B,!1))):(H[s]=_,H[t]=b)},writable:!0}),R));return H[n]=null,h(L,function(l){if(l&&l.code!=="ERR_STREAM_PREMATURE_CLOSE"){var _=H[t];_!==null&&(H[n]=null,H[s]=null,H[t]=null,_(l)),H[r]=l;return}var b=H[s];b!==null&&(H[n]=null,H[s]=null,H[t]=null,b(y(void 0,!0))),H[e]=!0}),L.on("readable",u.bind(null,H)),H};K.exports=k}).call(this)}).call(this,x("_process"))},{"./end-of-stream":64,_process:50}],62:[function(x,K,N){function m(d,u){var i=Object.keys(d);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(d);u&&(g=g.filter(function(E){return Object.getOwnPropertyDescriptor(d,E).enumerable})),i.push.apply(i,g)}return i}function v(d){for(var u=1;u<arguments.length;u++){var i=arguments[u]!=null?arguments[u]:{};u%2?m(Object(i),!0).forEach(function(g){p(d,g,i[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(i)):m(Object(i)).forEach(function(g){Object.defineProperty(d,g,Object.getOwnPropertyDescriptor(i,g))})}return d}function p(d,u,i){return u in d?Object.defineProperty(d,u,{value:i,enumerable:!0,configurable:!0,writable:!0}):d[u]=i,d}function h(d,u){if(!(d instanceof u))throw new TypeError("Cannot call a class as a function")}function s(d,u){for(var i=0;i<u.length;i++){var g=u[i];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(d,g.key,g)}}function t(d,u,i){return u&&s(d.prototype,u),i&&s(d,i),d}var r=x("buffer"),e=r.Buffer,n=x("util"),f=n.inspect,o=f&&f.custom||"inspect";function y(d,u,i){e.prototype.copy.call(d,u,i)}K.exports=function(){function d(){h(this,d),this.head=null,this.tail=null,this.length=0}return t(d,[{key:"push",value:function(i){var g={data:i,next:null};this.length>0?this.tail.next=g:this.head=g,this.tail=g,++this.length}},{key:"unshift",value:function(i){var g={data:i,next:this.head};this.length===0&&(this.tail=g),this.head=g,++this.length}},{key:"shift",value:function(){if(this.length!==0){var i=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,i}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(i){if(this.length===0)return"";for(var g=this.head,E=""+g.data;g=g.next;)E+=i+g.data;return E}},{key:"concat",value:function(i){if(this.length===0)return e.alloc(0);for(var g=e.allocUnsafe(i>>>0),E=this.head,k=0;E;)y(E.data,g,k),k+=E.data.length,E=E.next;return g}},{key:"consume",value:function(i,g){var E;return i<this.head.data.length?(E=this.head.data.slice(0,i),this.head.data=this.head.data.slice(i)):i===this.head.data.length?E=this.shift():E=g?this._getString(i):this._getBuffer(i),E}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(i){var g=this.head,E=1,k=g.data;for(i-=k.length;g=g.next;){var M=g.data,L=i>M.length?M.length:i;if(L===M.length?k+=M:k+=M.slice(0,i),i-=L,i===0){L===M.length?(++E,g.next?this.head=g.next:this.head=this.tail=null):(this.head=g,g.data=M.slice(L));break}++E}return this.length-=E,k}},{key:"_getBuffer",value:function(i){var g=e.allocUnsafe(i),E=this.head,k=1;for(E.data.copy(g),i-=E.data.length;E=E.next;){var M=E.data,L=i>M.length?M.length:i;if(M.copy(g,g.length-i,0,L),i-=L,i===0){L===M.length?(++k,E.next?this.head=E.next:this.head=this.tail=null):(this.head=E,E.data=M.slice(L));break}++k}return this.length-=k,g}},{key:o,value:function(i,g){return f(this,v({},g,{depth:0,customInspect:!1}))}}]),d}()},{buffer:17,util:16}],63:[function(x,K,N){(function(m){(function(){function v(e,n){var f=this,o=this._readableState&&this._readableState.destroyed,y=this._writableState&&this._writableState.destroyed;return o||y?(n?n(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,m.nextTick(t,this,e)):m.nextTick(t,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(d){!n&&d?f._writableState?f._writableState.errorEmitted?m.nextTick(h,f):(f._writableState.errorEmitted=!0,m.nextTick(p,f,d)):m.nextTick(p,f,d):n?(m.nextTick(h,f),n(d)):m.nextTick(h,f)}),this)}function p(e,n){t(e,n),h(e)}function h(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function s(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function t(e,n){e.emit("error",n)}function r(e,n){var f=e._readableState,o=e._writableState;f&&f.autoDestroy||o&&o.autoDestroy?e.destroy(n):e.emit("error",n)}K.exports={destroy:v,undestroy:s,errorOrDestroy:r}}).call(this)}).call(this,x("_process"))},{_process:50}],64:[function(x,K,N){var m=x("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function v(t){var r=!1;return function(){if(!r){r=!0;for(var e=arguments.length,n=new Array(e),f=0;f<e;f++)n[f]=arguments[f];t.apply(this,n)}}}function p(){}function h(t){return t.setHeader&&typeof t.abort=="function"}function s(t,r,e){if(typeof r=="function")return s(t,null,r);r||(r={}),e=v(e||p);var n=r.readable||r.readable!==!1&&t.readable,f=r.writable||r.writable!==!1&&t.writable,o=function(){t.writable||d()},y=t._writableState&&t._writableState.finished,d=function(){f=!1,y=!0,n||e.call(t)},u=t._readableState&&t._readableState.endEmitted,i=function(){n=!1,u=!0,f||e.call(t)},g=function(L){e.call(t,L)},E=function(){var L;if(n&&!u)return(!t._readableState||!t._readableState.ended)&&(L=new m),e.call(t,L);if(f&&!y)return(!t._writableState||!t._writableState.ended)&&(L=new m),e.call(t,L)},k=function(){t.req.on("finish",d)};return h(t)?(t.on("complete",d),t.on("abort",E),t.req?k():t.on("request",k)):f&&!t._writableState&&(t.on("end",o),t.on("close",o)),t.on("end",i),t.on("finish",d),r.error!==!1&&t.on("error",g),t.on("close",E),function(){t.removeListener("complete",d),t.removeListener("abort",E),t.removeListener("request",k),t.req&&t.req.removeListener("finish",d),t.removeListener("end",o),t.removeListener("close",o),t.removeListener("finish",d),t.removeListener("end",i),t.removeListener("error",g),t.removeListener("close",E)}}K.exports=s},{"../../../errors":55}],65:[function(x,K,N){K.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],66:[function(x,K,N){var m;function v(d){var u=!1;return function(){u||(u=!0,d.apply(void 0,arguments))}}var p=x("../../../errors").codes,h=p.ERR_MISSING_ARGS,s=p.ERR_STREAM_DESTROYED;function t(d){if(d)throw d}function r(d){return d.setHeader&&typeof d.abort=="function"}function e(d,u,i,g){g=v(g);var E=!1;d.on("close",function(){E=!0}),m===void 0&&(m=x("./end-of-stream")),m(d,{readable:u,writable:i},function(M){if(M)return g(M);E=!0,g()});var k=!1;return function(M){if(!E&&!k){if(k=!0,r(d))return d.abort();if(typeof d.destroy=="function")return d.destroy();g(M||new s("pipe"))}}}function n(d){d()}function f(d,u){return d.pipe(u)}function o(d){return!d.length||typeof d[d.length-1]!="function"?t:d.pop()}function y(){for(var d=arguments.length,u=new Array(d),i=0;i<d;i++)u[i]=arguments[i];var g=o(u);if(Array.isArray(u[0])&&(u=u[0]),u.length<2)throw new h("streams");var E,k=u.map(function(M,L){var R=L<u.length-1,H=L>0;return e(M,R,H,function(l){E||(E=l),l&&k.forEach(n),!R&&(k.forEach(n),g(E))})});return u.reduce(f)}K.exports=y},{"../../../errors":55,"./end-of-stream":64}],67:[function(x,K,N){var m=x("../../../errors").codes.ERR_INVALID_OPT_VALUE;function v(h,s,t){return h.highWaterMark!=null?h.highWaterMark:s?h[t]:null}function p(h,s,t,r){var e=v(s,r,t);if(e!=null){if(!(isFinite(e)&&Math.floor(e)===e)||e<0){var n=r?t:"highWaterMark";throw new m(n,e)}return Math.floor(e)}return h.objectMode?16:16*1024}K.exports={getHighWaterMark:p}},{"../../../errors":55}],68:[function(x,K,N){K.exports=x("events").EventEmitter},{events:22}],69:[function(x,K,N){N=K.exports=x("./lib/_stream_readable.js"),N.Stream=N,N.Readable=N,N.Writable=x("./lib/_stream_writable.js"),N.Duplex=x("./lib/_stream_duplex.js"),N.Transform=x("./lib/_stream_transform.js"),N.PassThrough=x("./lib/_stream_passthrough.js"),N.finished=x("./lib/internal/streams/end-of-stream.js"),N.pipeline=x("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":56,"./lib/_stream_passthrough.js":57,"./lib/_stream_readable.js":58,"./lib/_stream_transform.js":59,"./lib/_stream_writable.js":60,"./lib/internal/streams/end-of-stream.js":64,"./lib/internal/streams/pipeline.js":66}],70:[function(x,K,N){function m(p,h,s){var t=this;this._callback=p,this._args=s,this._interval=setInterval(p,h,this._args),this.reschedule=function(r){r||(r=t._interval),t._interval&&clearInterval(t._interval),t._interval=setInterval(t._callback,r,t._args)},this.clear=function(){t._interval&&(clearInterval(t._interval),t._interval=void 0)},this.destroy=function(){t._interval&&clearInterval(t._interval),t._callback=void 0,t._interval=void 0,t._args=void 0}}function v(){if(typeof arguments[0]!="function")throw new Error("callback needed");if(typeof arguments[1]!="number")throw new Error("interval needed");var p;if(arguments.length>0){p=new Array(arguments.length-2);for(var h=0;h<p.length;h++)p[h]=arguments[h+2]}return new m(arguments[0],arguments[1],p)}K.exports=v},{}],71:[function(x,K,N){K.exports=x("./index.js")()},{"./index.js":72}],72:[function(x,K,N){(function(m){(function(){K.exports=p;function v(s){return s instanceof m?m.from(s):new s.constructor(s.buffer.slice(),s.byteOffset,s.length)}function p(s){if(s=s||{},s.circles)return h(s);return s.proto?e:r;function t(n,f){for(var o=Object.keys(n),y=new Array(o.length),d=0;d<o.length;d++){var u=o[d],i=n[u];typeof i!="object"||i===null?y[u]=i:i instanceof Date?y[u]=new Date(i):ArrayBuffer.isView(i)?y[u]=v(i):y[u]=f(i)}return y}function r(n){if(typeof n!="object"||n===null)return n;if(n instanceof Date)return new Date(n);if(Array.isArray(n))return t(n,r);if(n instanceof Map)return new Map(t(Array.from(n),r));if(n instanceof Set)return new Set(t(Array.from(n),r));var f={};for(var o in n)if(Object.hasOwnProperty.call(n,o)!==!1){var y=n[o];typeof y!="object"||y===null?f[o]=y:y instanceof Date?f[o]=new Date(y):y instanceof Map?f[o]=new Map(t(Array.from(y),r)):y instanceof Set?f[o]=new Set(t(Array.from(y),r)):ArrayBuffer.isView(y)?f[o]=v(y):f[o]=r(y)}return f}function e(n){if(typeof n!="object"||n===null)return n;if(n instanceof Date)return new Date(n);if(Array.isArray(n))return t(n,e);if(n instanceof Map)return new Map(t(Array.from(n),e));if(n instanceof Set)return new Set(t(Array.from(n),e));var f={};for(var o in n){var y=n[o];typeof y!="object"||y===null?f[o]=y:y instanceof Date?f[o]=new Date(y):y instanceof Map?f[o]=new Map(t(Array.from(y),e)):y instanceof Set?f[o]=new Set(t(Array.from(y),e)):ArrayBuffer.isView(y)?f[o]=v(y):f[o]=e(y)}return f}}function h(s){var t=[],r=[];return s.proto?f:n;function e(o,y){for(var d=Object.keys(o),u=new Array(d.length),i=0;i<d.length;i++){var g=d[i],E=o[g];if(typeof E!="object"||E===null)u[g]=E;else if(E instanceof Date)u[g]=new Date(E);else if(ArrayBuffer.isView(E))u[g]=v(E);else{var k=t.indexOf(E);k!==-1?u[g]=r[k]:u[g]=y(E)}}return u}function n(o){if(typeof o!="object"||o===null)return o;if(o instanceof Date)return new Date(o);if(Array.isArray(o))return e(o,n);if(o instanceof Map)return new Map(e(Array.from(o),n));if(o instanceof Set)return new Set(e(Array.from(o),n));var y={};t.push(o),r.push(y);for(var d in o)if(Object.hasOwnProperty.call(o,d)!==!1){var u=o[d];if(typeof u!="object"||u===null)y[d]=u;else if(u instanceof Date)y[d]=new Date(u);else if(u instanceof Map)y[d]=new Map(e(Array.from(u),n));else if(u instanceof Set)y[d]=new Set(e(Array.from(u),n));else if(ArrayBuffer.isView(u))y[d]=v(u);else{var i=t.indexOf(u);i!==-1?y[d]=r[i]:y[d]=n(u)}}return t.pop(),r.pop(),y}function f(o){if(typeof o!="object"||o===null)return o;if(o instanceof Date)return new Date(o);if(Array.isArray(o))return e(o,f);if(o instanceof Map)return new Map(e(Array.from(o),f));if(o instanceof Set)return new Set(e(Array.from(o),f));var y={};t.push(o),r.push(y);for(var d in o){var u=o[d];if(typeof u!="object"||u===null)y[d]=u;else if(u instanceof Date)y[d]=new Date(u);else if(u instanceof Map)y[d]=new Map(e(Array.from(u),f));else if(u instanceof Set)y[d]=new Set(e(Array.from(u),f));else if(ArrayBuffer.isView(u))y[d]=v(u);else{var i=t.indexOf(u);i!==-1?y[d]=r[i]:y[d]=f(u)}}return t.pop(),r.pop(),y}}}).call(this)}).call(this,x("buffer").Buffer)},{buffer:17}],73:[function(x,K,N){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var m=x("buffer"),v=m.Buffer;function p(s,t){for(var r in s)t[r]=s[r]}v.from&&v.alloc&&v.allocUnsafe&&v.allocUnsafeSlow?K.exports=m:(p(m,N),N.Buffer=h);function h(s,t,r){return v(s,t,r)}h.prototype=Object.create(v.prototype),p(v,h),h.from=function(s,t,r){if(typeof s=="number")throw new TypeError("Argument must not be a number");return v(s,t,r)},h.alloc=function(s,t,r){if(typeof s!="number")throw new TypeError("Argument must be a number");var e=v(s);return t!==void 0?typeof r=="string"?e.fill(t,r):e.fill(t):e.fill(0),e},h.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return v(s)},h.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return m.SlowBuffer(s)}},{buffer:17}],74:[function(x,K,N){K.exports=m;function m(p){var h=p._readableState;return h?h.objectMode||typeof p._duplexState=="number"?p.read():p.read(v(h)):null}function v(p){return p.buffer.length?p.buffer.head?p.buffer.head.data.length:p.buffer[0].length:p.length}},{}],75:[function(x,K,N){var m=x("safe-buffer").Buffer,v=m.isEncoding||function(k){switch(k=""+k,k&&k.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function p(k){if(!k)return"utf8";for(var M;;)switch(k){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return k;default:if(M)return;k=(""+k).toLowerCase(),M=!0}}function h(k){var M=p(k);if(typeof M!="string"&&(m.isEncoding===v||!v(k)))throw new Error("Unknown encoding: "+k);return M||k}N.StringDecoder=s;function s(k){this.encoding=h(k);var M;switch(this.encoding){case"utf16le":this.text=y,this.end=d,M=4;break;case"utf8":this.fillLast=n,M=4;break;case"base64":this.text=u,this.end=i,M=3;break;default:this.write=g,this.end=E;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=m.allocUnsafe(M)}s.prototype.write=function(k){if(k.length===0)return"";var M,L;if(this.lastNeed){if(M=this.fillLast(k),M===void 0)return"";L=this.lastNeed,this.lastNeed=0}else L=0;return L<k.length?M?M+this.text(k,L):this.text(k,L):M||""},s.prototype.end=o,s.prototype.text=f,s.prototype.fillLast=function(k){if(this.lastNeed<=k.length)return k.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);k.copy(this.lastChar,this.lastTotal-this.lastNeed,0,k.length),this.lastNeed-=k.length};function t(k){return k<=127?0:k>>5===6?2:k>>4===14?3:k>>3===30?4:k>>6===2?-1:-2}function r(k,M,L){var R=M.length-1;if(R<L)return 0;var H=t(M[R]);return H>=0?(H>0&&(k.lastNeed=H-1),H):--R<L||H===-2?0:(H=t(M[R]),H>=0?(H>0&&(k.lastNeed=H-2),H):--R<L||H===-2?0:(H=t(M[R]),H>=0?(H>0&&(H===2?H=0:k.lastNeed=H-3),H):0))}function e(k,M,L){if((M[0]&192)!==128)return k.lastNeed=0,"";if(k.lastNeed>1&&M.length>1){if((M[1]&192)!==128)return k.lastNeed=1,"";if(k.lastNeed>2&&M.length>2&&(M[2]&192)!==128)return k.lastNeed=2,""}}function n(k){var M=this.lastTotal-this.lastNeed,L=e(this,k);if(L!==void 0)return L;if(this.lastNeed<=k.length)return k.copy(this.lastChar,M,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);k.copy(this.lastChar,M,0,k.length),this.lastNeed-=k.length}function f(k,M){var L=r(this,k,M);if(!this.lastNeed)return k.toString("utf8",M);this.lastTotal=L;var R=k.length-(L-this.lastNeed);return k.copy(this.lastChar,0,R),k.toString("utf8",M,R)}function o(k){var M=k&&k.length?this.write(k):"";return this.lastNeed?M+"":M}function y(k,M){if((k.length-M)%2===0){var L=k.toString("utf16le",M);if(L){var R=L.charCodeAt(L.length-1);if(R>=55296&&R<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=k[k.length-2],this.lastChar[1]=k[k.length-1],L.slice(0,-1)}return L}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=k[k.length-1],k.toString("utf16le",M,k.length-1)}function d(k){var M=k&&k.length?this.write(k):"";if(this.lastNeed){var L=this.lastTotal-this.lastNeed;return M+this.lastChar.toString("utf16le",0,L)}return M}function u(k,M){var L=(k.length-M)%3;return L===0?k.toString("base64",M):(this.lastNeed=3-L,this.lastTotal=3,L===1?this.lastChar[0]=k[k.length-1]:(this.lastChar[0]=k[k.length-2],this.lastChar[1]=k[k.length-1]),k.toString("base64",M,k.length-L))}function i(k){var M=k&&k.length?this.write(k):"";return this.lastNeed?M+this.lastChar.toString("base64",0,3-this.lastNeed):M}function g(k){return k.toString(this.encoding)}function E(k){return k&&k.length?this.write(k):""}},{"safe-buffer":73}],76:[function(x,K,N){var m=x("punycode"),v=x("./util");N.parse=M,N.resolve=R,N.resolveObject=H,N.format=L,N.Url=p;function p(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var h=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,t=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,r=["<",">",'"',"`"," ","\r",`
`,"	"],e=["{","}","|","\\","^","`"].concat(r),n=["'"].concat(e),f=["%","/","?",";","#"].concat(n),o=["/","?","#"],y=255,d=/^[+a-z0-9A-Z_-]{0,63}$/,u=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,i={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},E={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},k=x("querystring");function M(l,_,b){if(l&&v.isObject(l)&&l instanceof p)return l;var B=new p;return B.parse(l,_,b),B}p.prototype.parse=function(l,_,b){if(!v.isString(l))throw new TypeError("Parameter 'url' must be a string, not "+typeof l);var B=l.indexOf("?"),z=B!==-1&&B<l.indexOf("#")?"?":"#",q=l.split(z),Y=/\\/g;q[0]=q[0].replace(Y,"/"),l=q.join(z);var T=l;if(T=T.trim(),!b&&l.split("#").length===1){var I=t.exec(T);if(I)return this.path=T,this.href=T,this.pathname=I[1],I[2]?(this.search=I[2],_?this.query=k.parse(this.search.substr(1)):this.query=this.search.substr(1)):_&&(this.search="",this.query={}),this}var j=h.exec(T);if(j){j=j[0];var $=j.toLowerCase();this.protocol=$,T=T.substr(j.length)}if(b||j||T.match(/^\/\/[^@\/]+@[^@\/]+/)){var oe=T.substr(0,2)==="//";oe&&!(j&&g[j])&&(T=T.substr(2),this.slashes=!0)}if(!g[j]&&(oe||j&&!E[j])){for(var ne=-1,W=0;W<o.length;W++){var Q=T.indexOf(o[W]);Q!==-1&&(ne===-1||Q<ne)&&(ne=Q)}var re,ee;ne===-1?ee=T.lastIndexOf("@"):ee=T.lastIndexOf("@",ne),ee!==-1&&(re=T.slice(0,ee),T=T.slice(ee+1),this.auth=decodeURIComponent(re)),ne=-1;for(var W=0;W<f.length;W++){var Q=T.indexOf(f[W]);Q!==-1&&(ne===-1||Q<ne)&&(ne=Q)}ne===-1&&(ne=T.length),this.host=T.slice(0,ne),T=T.slice(ne),this.parseHost(),this.hostname=this.hostname||"";var se=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!se)for(var ie=this.hostname.split(/\./),W=0,V=ie.length;W<V;W++){var U=ie[W];if(U&&!U.match(d)){for(var Z="",O=0,P=U.length;O<P;O++)U.charCodeAt(O)>127?Z+="x":Z+=U[O];if(!Z.match(d)){var F=ie.slice(0,W),G=ie.slice(W+1),X=U.match(u);X&&(F.push(X[1]),G.unshift(X[2])),G.length&&(T="/"+G.join(".")+T),this.hostname=F.join(".");break}}}this.hostname.length>y?this.hostname="":this.hostname=this.hostname.toLowerCase(),se||(this.hostname=m.toASCII(this.hostname));var S=this.port?":"+this.port:"",A=this.hostname||"";this.host=A+S,this.href+=this.host,se&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),T[0]!=="/"&&(T="/"+T))}if(!i[$])for(var W=0,V=n.length;W<V;W++){var w=n[W];if(T.indexOf(w)!==-1){var a=encodeURIComponent(w);a===w&&(a=escape(w)),T=T.split(w).join(a)}}var c=T.indexOf("#");c!==-1&&(this.hash=T.substr(c),T=T.slice(0,c));var C=T.indexOf("?");if(C!==-1?(this.search=T.substr(C),this.query=T.substr(C+1),_&&(this.query=k.parse(this.query)),T=T.slice(0,C)):_&&(this.search="",this.query={}),T&&(this.pathname=T),E[$]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var S=this.pathname||"",D=this.search||"";this.path=S+D}return this.href=this.format(),this};function L(l){return v.isString(l)&&(l=M(l)),l instanceof p?l.format():p.prototype.format.call(l)}p.prototype.format=function(){var l=this.auth||"";l&&(l=encodeURIComponent(l),l=l.replace(/%3A/i,":"),l+="@");var _=this.protocol||"",b=this.pathname||"",B=this.hash||"",z=!1,q="";this.host?z=l+this.host:this.hostname&&(z=l+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(z+=":"+this.port)),this.query&&v.isObject(this.query)&&Object.keys(this.query).length&&(q=k.stringify(this.query));var Y=this.search||q&&"?"+q||"";return _&&_.substr(-1)!==":"&&(_+=":"),this.slashes||(!_||E[_])&&z!==!1?(z="//"+(z||""),b&&b.charAt(0)!=="/"&&(b="/"+b)):z||(z=""),B&&B.charAt(0)!=="#"&&(B="#"+B),Y&&Y.charAt(0)!=="?"&&(Y="?"+Y),b=b.replace(/[?#]/g,function(T){return encodeURIComponent(T)}),Y=Y.replace("#","%23"),_+z+b+Y+B};function R(l,_){return M(l,!1,!0).resolve(_)}p.prototype.resolve=function(l){return this.resolveObject(M(l,!1,!0)).format()};function H(l,_){return l?M(l,!1,!0).resolveObject(_):_}p.prototype.resolveObject=function(l){if(v.isString(l)){var _=new p;_.parse(l,!1,!0),l=_}for(var b=new p,B=Object.keys(this),z=0;z<B.length;z++){var q=B[z];b[q]=this[q]}if(b.hash=l.hash,l.href==="")return b.href=b.format(),b;if(l.slashes&&!l.protocol){for(var Y=Object.keys(l),T=0;T<Y.length;T++){var I=Y[T];I!=="protocol"&&(b[I]=l[I])}return E[b.protocol]&&b.hostname&&!b.pathname&&(b.path=b.pathname="/"),b.href=b.format(),b}if(l.protocol&&l.protocol!==b.protocol){if(!E[l.protocol]){for(var j=Object.keys(l),$=0;$<j.length;$++){var oe=j[$];b[oe]=l[oe]}return b.href=b.format(),b}if(b.protocol=l.protocol,!l.host&&!g[l.protocol]){for(var V=(l.pathname||"").split("/");V.length&&!(l.host=V.shift()););l.host||(l.host=""),l.hostname||(l.hostname=""),V[0]!==""&&V.unshift(""),V.length<2&&V.unshift(""),b.pathname=V.join("/")}else b.pathname=l.pathname;if(b.search=l.search,b.query=l.query,b.host=l.host||"",b.auth=l.auth,b.hostname=l.hostname||l.host,b.port=l.port,b.pathname||b.search){var ne=b.pathname||"",W=b.search||"";b.path=ne+W}return b.slashes=b.slashes||l.slashes,b.href=b.format(),b}var Q=b.pathname&&b.pathname.charAt(0)==="/",re=l.host||l.pathname&&l.pathname.charAt(0)==="/",ee=re||Q||b.host&&l.pathname,se=ee,ie=b.pathname&&b.pathname.split("/")||[],V=l.pathname&&l.pathname.split("/")||[],U=b.protocol&&!E[b.protocol];if(U&&(b.hostname="",b.port=null,b.host&&(ie[0]===""?ie[0]=b.host:ie.unshift(b.host)),b.host="",l.protocol&&(l.hostname=null,l.port=null,l.host&&(V[0]===""?V[0]=l.host:V.unshift(l.host)),l.host=null),ee=ee&&(V[0]===""||ie[0]==="")),re)b.host=l.host||l.host===""?l.host:b.host,b.hostname=l.hostname||l.hostname===""?l.hostname:b.hostname,b.search=l.search,b.query=l.query,ie=V;else if(V.length)ie||(ie=[]),ie.pop(),ie=ie.concat(V),b.search=l.search,b.query=l.query;else if(!v.isNullOrUndefined(l.search)){if(U){b.hostname=b.host=ie.shift();var Z=b.host&&b.host.indexOf("@")>0?b.host.split("@"):!1;Z&&(b.auth=Z.shift(),b.host=b.hostname=Z.shift())}return b.search=l.search,b.query=l.query,(!v.isNull(b.pathname)||!v.isNull(b.search))&&(b.path=(b.pathname?b.pathname:"")+(b.search?b.search:"")),b.href=b.format(),b}if(!ie.length)return b.pathname=null,b.search?b.path="/"+b.search:b.path=null,b.href=b.format(),b;for(var O=ie.slice(-1)[0],P=(b.host||l.host||ie.length>1)&&(O==="."||O==="..")||O==="",F=0,G=ie.length;G>=0;G--)O=ie[G],O==="."?ie.splice(G,1):O===".."?(ie.splice(G,1),F++):F&&(ie.splice(G,1),F--);if(!ee&&!se)for(;F--;F)ie.unshift("..");ee&&ie[0]!==""&&(!ie[0]||ie[0].charAt(0)!=="/")&&ie.unshift(""),P&&ie.join("/").substr(-1)!=="/"&&ie.push("");var X=ie[0]===""||ie[0]&&ie[0].charAt(0)==="/";if(U){b.hostname=b.host=X?"":ie.length?ie.shift():"";var Z=b.host&&b.host.indexOf("@")>0?b.host.split("@"):!1;Z&&(b.auth=Z.shift(),b.host=b.hostname=Z.shift())}return ee=ee||b.host&&ie.length,ee&&!X&&ie.unshift(""),ie.length?b.pathname=ie.join("/"):(b.pathname=null,b.path=null),(!v.isNull(b.pathname)||!v.isNull(b.search))&&(b.path=(b.pathname?b.pathname:"")+(b.search?b.search:"")),b.auth=l.auth||b.auth,b.slashes=b.slashes||l.slashes,b.href=b.format(),b},p.prototype.parseHost=function(){var l=this.host,_=s.exec(l);_&&(_=_[0],_!==":"&&(this.port=_.substr(1)),l=l.substr(0,l.length-_.length)),l&&(this.hostname=l)}},{"./util":77,punycode:51,querystring:54}],77:[function(x,K,N){K.exports={isString:function(m){return typeof m=="string"},isObject:function(m){return typeof m=="object"&&m!==null},isNull:function(m){return m===null},isNullOrUndefined:function(m){return m==null}}},{}],78:[function(x,K,N){(function(m){(function(){K.exports=v;function v(h,s){if(p("noDeprecation"))return h;var t=!1;function r(){if(!t){if(p("throwDeprecation"))throw new Error(s);p("traceDeprecation")?console.trace(s):console.warn(s),t=!0}return h.apply(this,arguments)}return r}function p(h){try{if(!m.localStorage)return!1}catch{return!1}var s=m.localStorage[h];return s==null?!1:String(s).toLowerCase()==="true"}}).call(this)}).call(this,typeof he<"u"?he:typeof self<"u"?self:typeof window<"u"?window:{})},{}],79:[function(x,K,N){K.exports=m;function m(v,p){if(v&&p)return m(v)(p);if(typeof v!="function")throw new TypeError("need wrapper function");return Object.keys(v).forEach(function(s){h[s]=v[s]}),h;function h(){for(var s=new Array(arguments.length),t=0;t<s.length;t++)s[t]=arguments[t];var r=v.apply(this,s),e=s[s.length-1];return typeof r=="function"&&r!==e&&Object.keys(e).forEach(function(n){r[n]=e[n]}),r}}},{}],80:[function(x,K,N){K.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},{}],81:[function(x,K,N){K.exports=v;var m=Object.prototype.hasOwnProperty;function v(){for(var p={},h=0;h<arguments.length;h++){var s=arguments[h];for(var t in s)m.call(s,t)&&(p[t]=s[t])}return p}},{}],82:[function(x,K,N){K.exports=function(m){m.prototype[Symbol.iterator]=function*(){for(let v=this.head;v;v=v.next)yield v.value}}},{}],83:[function(x,K,N){K.exports=m,m.Node=s,m.create=m;function m(t){var r=this;if(r instanceof m||(r=new m),r.tail=null,r.head=null,r.length=0,t&&typeof t.forEach=="function")t.forEach(function(f){r.push(f)});else if(arguments.length>0)for(var e=0,n=arguments.length;e<n;e++)r.push(arguments[e]);return r}m.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var r=t.next,e=t.prev;return r&&(r.prev=e),e&&(e.next=r),t===this.head&&(this.head=r),t===this.tail&&(this.tail=e),t.list.length--,t.next=null,t.prev=null,t.list=null,r},m.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var r=this.head;t.list=this,t.next=r,r&&(r.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}},m.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var r=this.tail;t.list=this,t.prev=r,r&&(r.next=t),this.tail=t,this.head||(this.head=t),this.length++}},m.prototype.push=function(){for(var t=0,r=arguments.length;t<r;t++)p(this,arguments[t]);return this.length},m.prototype.unshift=function(){for(var t=0,r=arguments.length;t<r;t++)h(this,arguments[t]);return this.length},m.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}},m.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}},m.prototype.forEach=function(t,r){r=r||this;for(var e=this.head,n=0;e!==null;n++)t.call(r,e.value,n,this),e=e.next},m.prototype.forEachReverse=function(t,r){r=r||this;for(var e=this.tail,n=this.length-1;e!==null;n--)t.call(r,e.value,n,this),e=e.prev},m.prototype.get=function(t){for(var r=0,e=this.head;e!==null&&r<t;r++)e=e.next;if(r===t&&e!==null)return e.value},m.prototype.getReverse=function(t){for(var r=0,e=this.tail;e!==null&&r<t;r++)e=e.prev;if(r===t&&e!==null)return e.value},m.prototype.map=function(t,r){r=r||this;for(var e=new m,n=this.head;n!==null;)e.push(t.call(r,n.value,this)),n=n.next;return e},m.prototype.mapReverse=function(t,r){r=r||this;for(var e=new m,n=this.tail;n!==null;)e.push(t.call(r,n.value,this)),n=n.prev;return e},m.prototype.reduce=function(t,r){var e,n=this.head;if(arguments.length>1)e=r;else if(this.head)n=this.head.next,e=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var f=0;n!==null;f++)e=t(e,n.value,f),n=n.next;return e},m.prototype.reduceReverse=function(t,r){var e,n=this.tail;if(arguments.length>1)e=r;else if(this.tail)n=this.tail.prev,e=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var f=this.length-1;n!==null;f--)e=t(e,n.value,f),n=n.prev;return e},m.prototype.toArray=function(){for(var t=new Array(this.length),r=0,e=this.head;e!==null;r++)t[r]=e.value,e=e.next;return t},m.prototype.toArrayReverse=function(){for(var t=new Array(this.length),r=0,e=this.tail;e!==null;r++)t[r]=e.value,e=e.prev;return t},m.prototype.slice=function(t,r){r=r||this.length,r<0&&(r+=this.length),t=t||0,t<0&&(t+=this.length);var e=new m;if(r<t||r<0)return e;t<0&&(t=0),r>this.length&&(r=this.length);for(var n=0,f=this.head;f!==null&&n<t;n++)f=f.next;for(;f!==null&&n<r;n++,f=f.next)e.push(f.value);return e},m.prototype.sliceReverse=function(t,r){r=r||this.length,r<0&&(r+=this.length),t=t||0,t<0&&(t+=this.length);var e=new m;if(r<t||r<0)return e;t<0&&(t=0),r>this.length&&(r=this.length);for(var n=this.length,f=this.tail;f!==null&&n>r;n--)f=f.prev;for(;f!==null&&n>t;n--,f=f.prev)e.push(f.value);return e},m.prototype.splice=function(t,r,...e){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var n=0,f=this.head;f!==null&&n<t;n++)f=f.next;for(var o=[],n=0;f&&n<r;n++)o.push(f.value),f=this.removeNode(f);f===null&&(f=this.tail),f!==this.head&&f!==this.tail&&(f=f.prev);for(var n=0;n<e.length;n++)f=v(this,f,e[n]);return o},m.prototype.reverse=function(){for(var t=this.head,r=this.tail,e=t;e!==null;e=e.prev){var n=e.prev;e.prev=e.next,e.next=n}return this.head=r,this.tail=t,this};function v(t,r,e){var n=r===t.head?new s(e,null,r,t):new s(e,r,r.next,t);return n.next===null&&(t.tail=n),n.prev===null&&(t.head=n),t.length++,n}function p(t,r){t.tail=new s(r,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function h(t,r){t.head=new s(r,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function s(t,r,e,n){if(!(this instanceof s))return new s(t,r,e,n);this.list=n,this.value=t,r?(r.next=this,this.prev=r):this.prev=null,e?(e.prev=this,this.next=e):this.next=null}try{x("./iterator.js")(m)}catch{}},{"./iterator.js":82}]},{},[12])(12)})})(we);var Ee=we.exports;export{Ee as m};
